---
id: 672cf05c3ad533eabe1e8197
title: 媒体查询是如何工作的，有哪些常见的媒体类型和特征？
challengeType: 19
dashedName: how-do-media-queries-work
---

# --interactive--

媒体查询是响应式网页设计的基本组成部分，允许开发人员根据用户设备或浏览器的特征应用不同的样式。它们提供了一种方法，可以在不更改内容本身的情况下为各种设备定制内容的呈现。

核心来说，媒体查询由媒体类型和一个或多个检查特定条件的表达式组成。如果这些条件为真，则应用相应的样式。这种机制允许创建适应不同屏幕尺寸、分辨率和设备功能的响应式设计。

CSS中媒体查询的基本语法如下所示：

```css
@media mediatype and (feature: value) {
  /* CSS规则写在这里 */
}
```

在这个结构中，mediatype指定查询适用的媒体类型，feature: value对定义了应用样式必须满足的条件。

媒体类型描述设备的一般类别。让我们谈谈最常用的媒体类型：

- `all`适用于所有设备。如果未指定媒体类型，这是默认值。

- `print`适用于分页材料和在打印预览模式下在屏幕上查看的文档。

- `screen`主要适用于屏幕。

在过去，有更多的媒体类型，如`handheld`和`tv`，但大多数这些媒体类型已被弃用，转而使用特征来更精确地定位设备。

媒体特征描述用户代理、输出设备或环境的特定特征。让我们谈谈一些最常用的媒体特征。`width`和`height`指的是视口的宽度和高度，通常与`min-`或`max-`前缀一起用于范围查询。这是一个示例：

```css
@media screen and (min-width: 768px) {
  /* 适用于至少768px宽的屏幕的样式 */
}
```

`aspect-ratio`描述视口宽度和高度之间的比率。这是一个示例：

```css
@media screen and (aspect-ratio: 16/9) {
  /* 适用于16:9宽高比的屏幕的样式 */
}
```

`orientation`特征指示设备是处于横向还是纵向。这是一个示例：

```css
@media screen and (orientation: landscape) {
  /* 适用于横向的样式 */
}
```

`resolution`特征描述输出设备的分辨率，单位为每英寸点数(dpi)或每厘米点数(dpcm)。这是一个示例：

```css
@media screen and (min-resolution: 300dpi) {
  /* 适用于高分辨率屏幕的样式 */
}
```

`hover`特征测试主要输入机制是否可以悬停在元素上。这是一个示例：

```css
@media (hover: hover) {
  /* 适用于支持悬停的设备的样式 */
}
```

`prefers-color-scheme`特征检测用户是否请求了浅色或深色主题。这是一个示例：

```css
@media (prefers-color-scheme: dark) {
  /* 适用于深色模式的样式 */
}
```

媒体查询还可以使用逻辑运算符组合多个条件。`and`运算符用于组合多个媒体特征，而`not`和`only`可以用于否定或隔离媒体查询。以下是一个组合多个特征的示例：

```css
@media screen and (min-width: 768px) and (orientation: landscape) {
  /* 适用于至少768px宽的横向屏幕的样式 */
}
```

也可以在逗号分隔的列表中定位多个查询，这类似于"或"运算符：

```css
@media screen and (min-width: 768px), print {
  /* 适用于至少768px宽的屏幕或打印的样式 */
}
```

在使用媒体查询时，考虑层叠是很重要的。媒体查询不会增加特异性——它们只是对条件规则进行分组。每个媒体查询内的CSS层叠正常规则仍然适用。

在实践中，媒体查询通常用于创建响应式布局。一个常见的模式是为移动设备定义基础样式，然后使用媒体查询为更大的屏幕增强布局：

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">

<div class="container">
  <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec odio. Praesent libero. Sed cursus ante dapibus diam.</p>
  <p>Sed nisi. Nulla quis sem at nibh elementum imperdiet. Duis sagittis ipsum. Praesent mauris. Fusce nec tellus sed augue semper porta.</p>
  <p>Mauris massa. Vestibulum lacinia arcu eget nulla. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.</p>
</div>
```

```css
/* 移动设备的基础样式 */
.container {
  width: 100%;
  padding: 15px;
}

/* 平板电脑的样式 */
@media screen and (min-width: 768px) {
  .container {
    width: 750px;
    margin: 0 auto;
  }
}

/* 桌面电脑的样式 */
@media screen and (min-width: 1024px) {
  .container {
    width: 960px;
  }
}
```

:::

这种方法被称为"移动优先"响应式设计，确保基础样式适合移动设备，并为更大的屏幕添加增强功能。

总之，媒体查询是CSS中的强大工具，允许创建响应式、适应性强的网页设计。通过了解如何使用不同的媒体类型和特征，开发人员可以创建在各种设备和偏好设置下提供最佳用户体验的网站。随着网络技术的不断发展，了解新的媒体特征有助于创建更加细致和用户友好的响应式设计。

# --questions--

## --text--

以下哪项不是现代CSS中常用的媒体类型？

## --answers--

`all`

### --feedback--

考虑哪些媒体类型在当前的网页开发实践中仍然相关。

---

`print`

### --feedback--

考虑哪些媒体类型在当前的网页开发实践中仍然相关。

---

`screen`

### --feedback--

考虑哪些媒体类型在当前的网页开发实践中仍然相关。

---

`handheld`

## --video-solution--

4

## --text--

orientation媒体特征检查什么？

## --answers--

设备的物理方向。

### --feedback--

想想这个特征如何与屏幕上内容的显示方式相关。

---

视口是更宽还是更高，反之亦然。

---

页面上文本的方向。

### --feedback--

想想这个特征如何与屏幕上内容的显示方式相关。

---

用户的地理方向。

### --feedback--

想想这个特征如何与屏幕上内容的显示方式相关。

## --video-solution--

2

## --text--

在媒体查询中，使用`and`运算符的目的是什么？

## --answers--

组合多个CSS属性。

### --feedback--

考虑如何在单个媒体查询中检查多个条件。

---

将两个数值相加。

### --feedback--

考虑如何在单个媒体查询中检查多个条件。

---

组合多个媒体特征或类型。

---

创建逻辑`or`条件。

### --feedback--

考虑如何在单个媒体查询中检查多个条件。

## --video-solution--

3