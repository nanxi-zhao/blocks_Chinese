---
id: 6874b7d3b286c538b39d0c25
title: What Are Special Methods and What Are They Used For?
challengeType: 19
dashedName: what-are-special-methods-and-what-are-they-used-for
---

# --description--

在 Python 中，特殊方法（special methods），也常被称为“魔法方法”或“dunder 方法”（dunder 来自 double underscore 的缩写），是以双下划线开头和结尾的特殊函数，例如 `__init__`、`__add__` 等。

你可能已经在不知不觉中使用过它们：写 `3 + 4` 时，Python 实际在幕后调用的是 `3.__add__(4)`。虽然我们可以直接调用特殊方法，但通常更习惯使用更简洁可读的语法（例如 `3 + 4`）。

除了 `__add__`，`__init__()` 是你最常见并会频繁使用的特殊方法（用于类的初始化），另外像 `__len__()`、`__str__()` 等也很常见。

把特殊方法想象成 Python 解释器与用户代码之间的“协调者”：当发生特定操作时，Python 会自动触发相应的特殊方法。

这些自动触发的操作包括：

- 算术运算（加、减、乘、除等），如 `__add__()`（加法）、`__sub__()`（减法）、`__mul__()`（乘法）、`__truediv__()`（除法）等。

- 字符串操作（拼接、重复、格式化、文本转换等），如 `__add__()` 用于拼接、`__mul__()` 用于重复、`__format__()` 用于格式化、`__str__()` 与 `__repr__()` 用于字符串表示。

- 比较运算（相等、小于、大于等），如 `__eq__()`、`__lt__()`、`__gt__()` 等。

- 迭代操作（使对象可迭代并逐项遍历），如 `__iter__()` 返回迭代器，`__next__()` 获取下一个元素。

内置数据类型（字符串、数字等）已经为这些操作实现了相应的特殊方法；但当你创建自定义类时，Python 不会自动知道该如何处理这些操作，这时就可以通过定义特殊方法来自定义行为。

举例说明：假设你有一个表示书籍的类，如果不定义特殊方法，像 `len(book)`、`str(book)` 和 `book1 == book2` 等操作可能不会按你期望工作；通过实现 `__len__()`、`__str__()`、`__eq__()`，你可以让这些操作返回更有意义的结果（示例代码保持不变，便于直接试用）。

另一个常见场景是购物车：除了添加、移除商品的方法外，你还可以实现 `__len__()`、`__iter__()`、`__contains__()`、`__getitem__()` 等特殊方法，从而让购物车支持 `len(cart)`、`for item in cart`、`'Monitor' in cart`、`cart[3]` 等方便的用法。

通过这些例子，你可以看到在实际项目中自定义特殊方法能让自定义对象更易用、更符合 Python 的惯用语法。

# --questions--

## --text--

以下哪一个是加法操作时会被调用的特殊方法？

## --answers--

- `__plus__()`

### --feedback--

注意 `+` 运算符在幕后触发的特殊方法是什么。

---

- `__sum__()`

### --feedback--

注意 `+` 运算符在幕后触发的特殊方法是什么。

---

- `__add__()`

---

- `__concat__()`

### --feedback--

注意 `+` 运算符在幕后触发的特殊方法是什么。

## --video-solution--

3

## --text--

“dunder” 这个词来自哪里？

## --answers--

- From "dynamic under-the-hood operations"

### --feedback--

想想 “dunder” 这个词与这些方法的写法有什么关系。

---

- From shortening "double underscore" (`__`)

---

- From the creator of Python's nickname

### --feedback--

想想 “dunder” 这个词与这些方法的写法有什么关系。

---

- From "data under" in reference to hidden methods

### --feedback--

想想 “dunder” 这个词与这些方法的写法有什么关系。

## --video-solution--

2

## --text--

当你使用大于（`>`）比较运算符时，会调用哪个特殊方法？

## --answers--

- `__more__()`

### --feedback--

它表示“大于”，并由 `>` 运算符触发。

---

- `__compare__()`

### --feedback--

它表示“大于”，并由 `>` 运算符触发。

---

- `__greater__()`

### --feedback--

它表示“大于”，并由 `>` 运算符触发。

---

- `__gt__()`

## --video-solution--

4
