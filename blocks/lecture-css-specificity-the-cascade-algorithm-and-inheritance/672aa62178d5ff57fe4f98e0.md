---
id: 672aa62178d5ff57fe4f98e0
title: 什么是 CSS 优先级，内联、内部和外部 CSS 的优先级是多少？
challengeType: 19
dashedName: what-is-css-specificity-and-the-specificity-for-inline-internal-and-external-css
---

# --interactive--

CSS 的优先级（specificity）是一个核心概念，用来决定当多个规则都匹配同一元素时，浏览器最终会采用哪条样式。

理解优先级能帮助你解决规则冲突，并确保页面样式按预期稳定地呈现。

specificity 的计算取决于所使用的选择器类型。

优先级最高的是内联样式（写在元素 `style` 属性上）。

在下面的示例中，第一个段落会显示为红色，而其他 `p` 元素显示为蓝色——因为内联样式的优先级高于像 `p` 这样的类型选择器（在 `styles.css` 中定义）。

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">

<p style="color: red;">Red paragraph</p>
<p>Other paragraph</p>
<p>Another paragraph</p>
<p>Yet another paragraph</p>
```

```css
p {
  color: blue;
}
```

:::


接下来是 ID 选择器，它具有很高的优先级。

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">

<p id="para">Red paragraph</p>
<p>Other paragraph</p>
<p>Another paragraph</p>
<p>Yet another paragraph</p>
```

```css
#para {
  color: red; 
}

p {
  color: blue;
}
```

:::


接着是类选择器、属性选择器和伪类。

比如 `.container`、`.button` 这样的类选择器，像 `[type="text"]` 的属性选择器，以及 `:hover` 这样的伪类，它们的优先级属于中等。

提示：伪类会在后续课程中进一步讲解。

在示例里，第一个段落会是红色（因为 ID 选择器更具体）；`.example-para` 元素为绿色，其余段落为蓝色。

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">

<p id="para">Example paragraph</p>
<p class="example-para">Other paragraph</p>
<p class="example-para">Another paragraph</p>
<p>Yet another paragraph</p>
```

```css
#para {
  color: red; 
}

.example-para {
  color: green;
}

p {
  color: blue;
}
```

:::


类型选择器（例如 `div`、`h1`）以及伪元素（例如 `::before`、`::after`）的优先级较低。

提示：伪元素会在后续课程中讲解。

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">

<p id="para">Example paragraph</p>
<p>Other paragraph</p>
<p>Yet another paragraph</p>
```

```css
#para {
  color: red; 
}

p {
  color: blue;
}
```

:::


最后，通配选择器 `*` 的优先级最低。

下面的示例说明：即便使用 `*` 将所有元素设为红色，ID 或类型选择器通常能覆盖它，这正体现了 `*` 的低优先级。

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">

<p id="para">Example paragraph</p>
<p>Other paragraph</p>
<p>Yet another paragraph</p>
```

```css
* {
  color: red;
}

#para {
  color: green; 
}

p {
  color: blue;
}
```

:::


specificity 通常表示为四部分的数值 `(a, b, c, d)`：

- `a`：内联样式（`1` 或 `0`）。
- `b`：ID 选择器数量。
- `c`：类选择器、属性选择器和伪类的数量。
- `d`：类型选择器、伪元素和通配选择器的数量。

每一部分的权重不同：

- **内联样式**（`a`）权重最高，会为第一位贡献 `1`。

- **ID 选择器**（`b`）次之，每个 ID 为第二位贡献 `1`。

- **类、属性选择器与伪类**（`c`）为第三位，属于中等权重。

- **类型选择器与伪元素**（`d`）权重最低，为第四位贡献 `1`。

- **通配选择器**（`*`）对 specificity 的计算贡献为 `0`，不会改变选择器的优先级。


内联样式优先级最高，因为它直接应用到元素，会覆盖内部或外部样式。内联样式的 specificity 为 `(1, 0, 0, 0)`。

下面是一个内联样式的另一个示例：

:::interactive_editor

```html
<p style="color: red;">This text is red.</p>
```

:::


内部 CSS（在 HTML `head` 中用 `style` 定义）优先级低于内联样式，但能覆盖外部样式。内部样式的 specificity 由所用选择器决定，例如使用 ID 时为 `(0, 1, 0, 0)`。

:::interactive_editor

```html
<head>
  <style>
    .text {
      color: blue;
    }
  </style>
</head>
<body>
  <div class="text">This text is blue.</div>
</body>
```

:::

在这个示例中，文本将是蓝色的，除非应用了内联样式或更具体的外部样式。


外部 CSS（通过 `link` 引入 `.css` 文件）通常具有更好的可维护性，优先级也较低；具体优先级仍由选择器类型决定，例如类选择器为 `(0, 0, 1, 0)`。

:::interactive_editor

```html
<head>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="text">This text's color is defined in an external CSS file.</div>
</body>
```

```css
.text {
  color: purple;
}
```

:::

在这个示例中，文本颜色在 `styles.css` 文件中定义，除非被内部或内联样式覆盖，否则将被应用。

# --questions--

## --text--

在这些选择器中，哪个的 specificity 更高？

## --answers--

类选择器。

### --feedback--

类选择器的优先级高于类型选择器，但低于 ID 和内联样式。

---

内联样式。

### --feedback--

内联样式优先级最高，因为它直接写在元素上。

---

ID 选择器。

### --feedback--

ID 选择器的优先级高于类和类型选择器。

---

类型选择器。

### --feedback--

类型选择器的优先级较低。 

## --video-solution--

2

## --text--

在 CSS 优先级的层次结构中，哪个具有最低优先级？

## --answers--

类选择器。

### --feedback--

这是最通用的选择器类型。

---

内联样式。

### --feedback--

这是最通用的选择器类型。

---

通配选择器。

---

ID 选择器。

### --feedback--

这是最通用的选择器类型。

## --video-solution--

3

## --text--

在下面的示例中，文本会是什么颜色？

```html
<head>
  <style>
    p {
      color: red;
    }
  </style>
</head>
<body>
  <p style="color: blue;">This text</p>
</body>
```

## --answers--

`blue`

---

`red`

### --feedback--

考虑最高优先级。

---

`yellow`

### --feedback--

考虑最高优先级。

---

`green`

### --feedback--

考虑最高优先级。

## --video-solution--

1