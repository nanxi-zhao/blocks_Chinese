---
id: 672b8f23511adf25646b4236
title: How Does the Cascade Algorithm Work at a High Level?
challengeType: 19
dashedName: how-does-the-cascade-algorithm-work-at-a-high-level
---

# --interactive--

级联算法（Cascade Algorithm）是浏览器在多条样式都匹配同一元素时，决定采用哪条规则的过程。它通过一套明确的规则保证样式选择的可预测性。

该过程先检查**相关性（relevance）**：浏览器会筛选出实际作用于目标元素的规则，包括选择器匹配和可能生效的媒体查询。

媒体查询（media query）是一种根据设备或视口特性（宽度、高度或方向）应用不同样式的技术。

接下来考虑的是**来源（origin）和重要性（importance）**。CSS 可能来自不同来源：浏览器默认样式（user-agent）、用户样式以及作者（你）编写的样式。

在考虑来源后，算法会评估每条规则的重要性，优先级会给标有 `!important` 的规则——它们会覆盖其他来源的规则。

在由来源和重要性筛选之后，算法会比较**specificity**。当两条规则来自相同来源且重要性相同，优先级更高（更具体）的选择器会被采用。

specificity 表示选择器的针对性，更具体的选择器会覆盖更通用的选择器。

最后，如果其它条件都相同，则按**出现顺序**决定：在相同 specificity 的情况下，后出现的规则会生效。

这也是为什么你编写样式的顺序有时会影响最终结果。

下面看个示例。

HTML 中有一个段落元素，CSS 中则有两条都针对段落的规则：

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">

<p>example paragraph</p>
```

```css
p {
  color: blue;
}

p {
  color: green; 
}
```

:::


第一条规则将段落设为蓝色，第二条将段落设为绿色。

哪一个会生效？因为后出现的规则会覆盖前面的同等规则，段落最终会是绿色（green）。

通过按顺序考虑相关性、来源与重要性、specificity、作用域以及出现顺序，级联算法确保了 CSS 的可预测性，帮助你构建更复杂、更精细的页面样式。


# --questions--

## --text--

级联算法在决定应用哪些样式时，第一步通常是什么？

## --answers--

它会检查规则的 specificity。

### --feedback--

思考浏览器如何判断哪些规则可能适用于某个元素。

---

它会按相关性（relevance）过滤规则。

---

它会查找 `!important` 声明。

### --feedback--

思考浏览器如何判断哪些规则可能适用于某个元素。

---

它会直接应用 CSS 中最后出现的规则。

### --feedback--

思考浏览器如何判断哪些规则可能适用于某个元素。

## --video-solution--

2

## --text--

如果对同一个段落应用了两组冲突的样式，会发生什么？

## --answers--

每条规则的部分样式都可能生效。

### --feedback--

回顾本课末尾的示例。

---

程序会崩溃。

### --feedback--

回顾本课末尾的示例。

---

最后出现的样式会被应用。

---

没有样式会生效。

### --feedback--

回顾本课末尾的示例。

## --video-solution--

3

## --text--

下列哪个因素不会影响级联算法在冲突时的决策？

## --answers--

选择器的 specificity。

### --feedback--

考虑级联算法在解析样式冲突时会评估哪些项。

---

规则的作用域和位置关系（scoping proximity）。

### --feedback--

考虑级联算法在解析样式冲突时会评估哪些项。

---

是否使用了 `!important` 关键字。

### --feedback--

考虑级联算法在解析样式冲突时会评估哪些项。

---

该 CSS 规则的 `color` 属性。

## --video-solution--

4
