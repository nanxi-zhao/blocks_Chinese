---
id: 67fe859c1ab68734d7c666cb
title: How Do You Work With Strings?
challengeType: 19
dashedName: how-do-you-work-with-strings
---

# --description--

字符串是一系列字符，可以用单引号或双引号包裹。在有些语言中，单引号和双引号的处理可能不同，但在 Python 中它们等价，所以你可以任选其一。举例如下：

```python
my_str_1 = 'Hello'
my_str_2 = "World"
```

如果需要多行字符串，可以使用三重引号（单引号或双引号均可）：

```python
my_str_3 = """Multiline
string"""
my_str_4 = '''Another
multiline
string'''
```

当字符串内部包含单引号或双引号时，有两种处理方式：

- 使用另一种引号包裹字符串。例如字符串中含单引号时，用双引号包裹；反之亦然：

```python
msg = "It's a sunny day"
quote = 'She said, "Hello World!"'
```

- 使用反斜杠（`\`）对引号进行转义，这样无论使用单引号还是双引号都可以：

```python
msg = 'It\'s a sunny day'
quote = "She said, \"Hello!\""
```

你也可以使用 `+` 运算符将多个字符串拼接在一起，这称为字符串连接（concatenation）。例如：

```python
my_str_1 = 'Hello'
my_str_2 = "World"

str_plus_str = my_str_1 + ' ' + my_str_2
print(str_plus_str) # Hello World
```

注意，拼接仅适用于字符串类型。如果尝试将字符串与数字直接相加，会抛出 `TypeError`：

```python
name = 'John Doe'
age = 26

name_and_age = name + age
print(name_and_age) # TypeError: can only concatenate str (not "int") to str
```

因为 Python 不会在拼接时自动把其他类型（如整数）转换为字符串。要解决这个问题，可以用内置的 `str()` 函数将数字转换为字符串：

```python
name = 'John Doe'
age = 26

name_and_age = name + str(age)
print(name_and_age) # John Doe26
```

也可以使用增强赋值运算符 `+=` 来进行拼接并赋值：

```py
name = 'John Doe'
age = 26

name_and_age = name  # 以名字为起点
name_and_age += str(age)  # 将年龄作为字符串追加

print(name_and_age)  # John Doe26
```

除了普通字符串，Python 还有一种称为 **f-string**（格式化字符串字面值）的字符串类型，适合做插值并能够以简洁可读的方式拼接表达式。

f-string 在引号前加上 `f`（大小写均可），并允许在花括号（`{}`）中嵌入变量或表达式。示例：

```python
name = 'John Doe'
age = 26
name_and_age = f'My name is {name} and I am {age} years old'
print(name_and_age) # My name is John Doe and I am 26 years old

num1 = 5
num2 = 10
print(f'The sum of {num1} and {num2} is {num1 + num2}') # The sum of 5 and 10 is 15
```

了解了字符串拼接和 f-string 后，我们来看如何获取字符串长度并访问单个字符，这被称为 **索引（indexing）**。获取字符串长度可以使用内置函数 `len()`：

```python
my_str = 'Hello world'
print(len(my_str))  # 11
```

接下来是索引。字符串中每个字符都有一个位置索引，索引从 0 开始，所以第一个字符的索引是 `0`，第二个字符是 `1`，以此类推。通过方括号 `[]` 并在其中放入索引，可以访问指定位置的字符。例如：

```python
my_str = "Hello world"

print(my_str[0])  # H
print(my_str[6])  # w
```

也支持负索引，`-1` 表示最后一个字符，`-2` 表示倒数第二个，以此类推：

```python
my_str = 'Hello world'
print(my_str[-1])  # d
print(my_str[-2]) # l
```

在掌握索引后，我们进一步介绍 **切片（slicing）**，用于提取字符串的子串。基本语法为：

```python
string[start:stop]
```

通过 `start:stop` 的形式可以提取指定范围的字符：

```python
my_str = 'Hello world'
print(my_str[1:4]) # ell
```

注意 `stop` 是不包含的，因此 `[1:4]` 提取的是索引 `1` 到 `3` 的字符。

可以省略 `start` 或 `stop`，Python 会分别默认取 0 或字符串结尾。例如省略 `start`：

```python
my_str = 'Hello world'
print(my_str[:7])  # Hello w
```

省略 `stop`：

```python
my_str = 'Hello world'
print(my_str[8:])  # rld
```

省略 `start` 和 `stop` 则会返回整个字符串：

```python
my_str = 'Hello world'
print(my_str[:])  # Hello world
```

切片语法还支持第三个可选参数 `step`，用于指定步长：

```python
string[start:stop:step]
```

下面示例中，从索引 0 开始，停止于 11（不含），每隔一个字符提取一次：

```python
my_str = 'Hello world'
print(my_str[0:11:2])  # Hlowrd
```

把 `step` 设为 `-1` 并省略 `start` 与 `stop`，可以反转字符串：

```python
my_str = 'Hello world'
print(my_str[::-1]) # dlrow olleH
```

在进行切片前，先判断某个字符或子串是否存在也很有用，Python 提供 `in` 操作符返回布尔值，表示是否包含：

```python
my_str = 'Hello world'

print('Hello' in my_str)  # True
print('hey' in my_str)    # False
print('hi' in my_str)    # False
print('e' in my_str)  # True
print('f' in my_str)  # False
```

# --questions--

## --text--

How can you concatenate strings in Python?

## --answers--

By using the `+` operator or `f strings`.

---

By using the `*` operator for joining strings.

### --feedback--

There's a simple operator and a special string format for this.

---

By using the `&` operator to merge strings.

### --feedback--

There's a simple operator and a special string format for this.

---

By assigning multiple strings to a list and printing them together.

### --feedback--

There's a simple operator and a special string format for this.

## --video-solution--

1

## --text--

How do you define a multiline string in Python?

## --answers--

Using parentheses `()` around the string.

### --feedback--

Python allows special quotes for multiline strings.

---

Using triple double quotes `"""` or triple single quotes `'''`.

---

Using a backslash `\` at the end of each line.

### --feedback--

Python allows special quotes for multiline strings.

---

Using square brackets `[]` to enclose the string.

### --feedback--

Python allows special quotes for multiline strings.

## --video-solution--

2

---

## --text--

How do you extract a specific portion of a string in Python?

## --answers--

Using parentheses with start and end positions.

### --feedback--

This operation relies on character positions and uses bracket notation.

---

Using curly braces with start and stop positions.

### --feedback--

This operation relies on character positions and uses bracket notation.

---

Using square brackets with start and stop positions.

---

Using angle brackets with start and stop positions.

### --feedback--

This operation relies on character positions and uses bracket notation.

## --video-solution--

3
