---
id: 67d2f5dacd5e0c749e5d534c
title: How Can You Debug Your React Components Using the React DevTools?
challengeType: 19
dashedName: how-can-you-debug-your-react-components-using-react-devtools
---

# --description--

浏览器自带的开发者工具可以帮助你调试 HTML、CSS 和 JavaScript，使用起来很方便。

不过，当你要定位和修复 React 应用中的问题时，浏览器自带工具并不总是最直观的。为此，React 团队开发了一个名为 “React Developer Tools”（简称 React DevTools）的扩展，方便你检查、调试并分析 React 应用的行为和性能。

React DevTools 可以作为 Chrome、Edge 和 Firefox 的浏览器扩展安装。如果你使用 Chrome 或 Edge，可以到 Chrome 网上应用店搜索 “React Developer Tools” 并安装。

如果使用 Firefox，请到 Firefox 扩展页面搜索该工具并安装。

在 Safari 上，你也可以通过 npm 全局安装 React DevTools，运行 `npm install -g react-devtools` 或 `yarn global add react-devtools`。

安装并启用 React DevTools 后，在浏览器中打开一个 React 应用并打开开发者工具（DevTools），你会看到两个额外的标签页：`Components` 和 `Profiler`。

`Components` 标签以树形视图展示应用的组件层级，借助它你可以：

- 查看组件的层级结构。
- 实时检查并修改 props、state 和 context 的值。
- 定位并查看所选组件的源码位置。
- 将组件数据打印到控制台以便调试。
- 检查组件对应的 DOM 元素。

`Profiler` 标签则用于记录和分析组件性能，帮助你发现不必要的重渲染、查看提交耗时，并找到可优化的点，从而让应用更流畅。

下面是一个简单示例，演示如何检查组件及其 props 和 state，这段代码与我们之前讲的 prop drilling 示例类似：

```jsx
import { useState } from "react";

export default function App() {
  const greeting = "Hello, Prop Drilling!";
  const response = "I'm not here to play!";

  return <Parent greeting={greeting} response={response} />;
}

const Parent = ({ greeting, response }) => {
  return <Child greeting={greeting} response={response} />;
};

const Child = ({ greeting, response }) => {
  return <Grandchild greeting={greeting} response={response} />;
};

const Grandchild = ({ greeting, response }) => {
  const [count, setCount] = useState(0);

  return (
    <>
      <h1>{greeting}</h1>
      <h2>{response}</h2>

      <button onClick={() => setCount(count + 1)}>Increase Count</button>
      <h2>Count: {count}</h2>
      <button onClick={() => setCount(count - 1)}>Decrease Count</button>
    </>
  );
};
```

如果你在 React DevTools 的 `Components` 标签查看组件树，会看到 `App` 在顶层，下面依次是 `Parent`、`Child` 和 `Grandchild`。

选中任意组件后，可以查看该组件的 props 和 state。例如，选中 `Parent` 可以看到 `greeting` 和 `response` 两个 prop（分别为 `Hello, Prop Drilling!` 和 `I'm not here to play!`）。

你可以实时查看并修改 props 与 state，便于调试。例如，选中 `Grandchild` 并把 `greeting` 从 `Hello, Prop Drilling!` 改为 `Hello, Welcome to Prop Drilling!`，页面会立即反映出修改。

要把组件信息输出到控制台，可以在 DevTools 中选中组件并使用右上角的相关图标或按钮，它会在控制台打印出 props、state、hooks、节点等数据，方便你进一步排查问题。

在 React 中，一个常见错误是 props 名称不匹配（props mismatch）。

例如，如果在 `Child` 组件里不小心把 `reply` 作为 prop 传给 `Grandchild`，而不是 `response`：

```jsx
const Child = ({ greeting, response }) => {
  return <Grandchild greeting={greeting} reply={response} />;
};
```
# --questions--

## --text--

如何在 Chrome 或 Edge 上安装 React DevTools？

## --answers--

从浏览器的扩展商店（Chrome 网上应用店或 Edge 扩展）搜索并安装 `React Developer Tools`。

### --feedback--

它和其他浏览器扩展一样在扩展商店中可以找到并安装。

---

也可以通过 npm 全局安装（适用于某些平台或 Safari）：运行 `npm install -g react-devtools` 或 `yarn global add react-devtools`。

### --feedback--

全局安装后可在支持的平台上以命令行方式启动 DevTools。

---

将它作为浏览器扩展添加到浏览器中。

---

它不会随 React 自动预装。

### --feedback--

你需要主动在扩展商店或通过 npm 安装它。

## --video-solution--

3

## --text--

安装 React DevTools 后，浏览器开发者工具中会出现哪两个额外的标签页用于调试 React？

## --answers--

`Components`（组件）和 `Profiler`（性能分析器）。

---

`Network`（网络）和 `Performance`（性能）。

### --feedback--

一个标签用于查看组件树，另一个用于分析性能。

---

`Elements`（元素）和 `Console`（控制台）。

### --feedback--

一个标签用于查看组件树，另一个用于分析性能。

---

`Sources`（源码）和 `Memory`（内存）。

### --feedback--

一个标签用于查看组件树，另一个用于分析性能。

## --video-solution--

1

## --text--

React DevTools 的 `Profiler` 标签页能帮助你分析什么？

## --answers--

组件的性能和重复渲染情况。

### --feedback--

它可以追踪渲染时间、查看每次提交的耗时，并帮助你优化性能较慢的组件。

---

网络请求。

### --feedback--

虽然网络请求也影响体验，但 `Profiler` 更侧重于渲染耗时与组件性能。

---

JavaScript 内存问题。

### --feedback--

`Profiler` 侧重渲染和提交时间，内存问题通常借助其他工具排查。

---

CSS 样式问题。

### --feedback--

样式问题通常用 Elements 面板调试，`Profiler` 用于性能分析。

## --video-solution--

4

# --questions--

## --text--

How can you install React DevTools on Chrome or Edge?

## --answers--

Download it from the official React website.

### --feedback--

You can find it in the same place as other browser extensions.

---

Install it via `npm` in your project.

### --feedback--

You can find it in the same place as other browser extensions.

---

Add it as a browser extension.

---

It comes pre-installed with React.

### --feedback--

You can find it in the same place as other browser extensions.

## --video-solution--

3

## --text--

After installing React DevTools, which two extra tabs appear in the browser developer tools for debugging React?

## --answers--

Components and Profiler.

---

Network and Performance.

### --feedback--

One tab helps inspect the component tree, while the other analyzes performance.

---

Elements and Console.

### --feedback--

One tab helps inspect the component tree, while the other analyzes performance.

---

Sources and Memory.

### --feedback--

One tab helps inspect the component tree, while the other analyzes performance.

## --video-solution--

1

## --text--

What does the Profiler tab in React DevTools help you analyze?

## --answers--

Network requests in a React app.

### --feedback--

It helps track render times and optimize slow components.

---

JavaScript memory leaks.

### --feedback--

It helps track render times and optimize slow components.

---

CSS styling issues.

### --feedback--

It helps track render times and optimize slow components.

---

Component performance and re-renders.
 
## --video-solution--

4
