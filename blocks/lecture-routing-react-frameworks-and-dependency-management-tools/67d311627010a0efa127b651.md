---
id: 67d311627010a0efa127b651
title: How Does Routing Work in React?
challengeType: 19
dashedName: how-does-routing-work-in-react
---

# --description--

在前面的课中你已经了解到 React 常用于构建单页应用（SPA）。单页应用通常只有一个 HTML 文件，通过 JavaScript 动态更新页面内容。

那么当你需要在 React 应用中添加多个“页面”时该怎么办？如何在不同视图之间导航？

这时就会用到 React Router。

React Router 是一个第三方库，可以为 React 应用添加路由功能。首先需要在已有的 React 项目中安装它：

```sh
npm i react-router
```

安装后在 `package.json` 的依赖列表中会看到 `react-router`：

```json
"dependencies": {
  "react": "^18.3.1",
  "react-dom": "^18.3.1",
  "react-router": "^7.2.0"
}
```

然后在 `main.jsx` 或 `index.jsx` 文件中引入 `BrowserRouter`，并在渲染 `App` 组件时把它包裹起来：

```jsx
import { StrictMode } from "react";
import { createRoot } from "react-dom/client";
import { BrowserRouter } from "react-router";
import App from "./App.jsx";

import "./index.css";

createRoot(document.getElementById("root")).render(
  <StrictMode>
    <BrowserRouter>
      <App />
    </BrowserRouter>
  </StrictMode>
);
```

要在应用中启用路由，需要在导入时引入 `Routes` 和 `Route` 组件：

```js
import { BrowserRouter, Routes, Route } from "react-router";
```

然后在 `BrowserRouter` 内添加 `Routes` 与 `Route`：

```jsx
createRoot(document.getElementById("root")).render(
  <StrictMode>
    <BrowserRouter>
      <Routes>
        <Route path="/" element={<App />} />
      </Routes>
    </BrowserRouter>
  </StrictMode>
);
```

`path` 与 `element` 把 URL 与 UI 组件关联起来。上例为主页（`/`）设置了指向 `App` 组件的路由。

在较大的应用中，通常会像下面这样设置多个视图和路由：

```jsx
<Routes>
  <Route index element={<Home />} />
  <Route path="about" element={<About />} />

  <Route path="products">
    <Route index element={<ProductsHome />} />
    <Route path=":category" element={<Category />} />
    <Route path=":category/:productId" element={<ProductDetail />} />
    <Route path="trending" element={<Trending />} />
  </Route>
</Routes>
```

示例中的 `index` 属性表示该路径段的默认路由。例如 `Home` 组件会在根路径 (`/`) 显示，而 `ProductsHome` 会在 `products` 路径显示。

你可能还注意到我们在路由内部嵌套了其他路由，例如：

```jsx
<Route path="products">
  <Route path="trending" element={<Trending />} />
</Route>
```

这表示子路由的路径会追加到父路由路径之后——本例中，热门商品页的路径为 `products/trending`。

如果路径以冒号（`:`）开头，就代表动态路由段：

```jsx
<Route path=":category" element={<Category />} />
```

上例定义了名为 `category` 的动态段。当用户访问像 `products/brass-instruments` 的 URL 时，会渲染 `Category` 组件，并可根据该段动态获取相应数据。

在子组件中可以使用 `useParams` 钩子获取动态段的值：

```jsx
import { useParams } from "react-router";

export default function Category() {
  let params = useParams();
   {/* 访问 category 参数： params.category */}
   {/* 其余代码放在这里 */}
}
```

动态路由的好处是能创建灵活且可复用的组件，依据 URL 参数展示不同内容，而无需为每个可能的路径都写死一个路由。

# --questions--

## --text--

React Router 用于做什么？

## --answers--

It is used to remove dynamic routes from your React applications.

用于从你的 React 应用中移除动态路由。

### --feedback--

回顾本课开头关于 React Router 的讲解。

---

只用于为你的 React 应用设置静态路由。

### --feedback--

回顾本课开头关于 React Router 的讲解。

---

用于移除应用中的路由。

### --feedback--

回顾本课开头关于 React Router 的讲解。

---

用于为你的 React 应用添加路由功能。

## --video-solution--

4

## --text--

哪个钩子用于获取 URL 中的动态参数？

## --answers--

`usePar`

`usePar`

### --feedback--

回顾本课最后关于该主题的讲解。

---

`useParams`

---

`useParameters`

### --feedback--

回顾本课最后关于该主题的讲解。

---

`usePara`

### --feedback--

回顾本课最后关于该主题的讲解。

## --video-solution--

2

## --text--

以下哪种写法是表示路径中动态段的正确方式？

## --answers--

```jsx

```jsx
<Route path=":category" element={<Category />} />
```

---

```jsx
<Route path="/category" element={<Category />} />
```

### --feedback--

回顾本课最后关于该主题的讲解。

---

```jsx
<Route path="\category" element={<Category />} />
```

### --feedback--

回顾本课最后关于该主题的讲解。

---

```jsx
<Route path="?category" element={<Category />} />
```

### --feedback--

回顾本课最后关于该主题的讲解。

## --video-solution--

1
