---
id: 673407be6af21d6766ed4b96
title: How Does the Fetch API Work with Common HTTP Methods and res.json()?
challengeType: 19
dashedName: how-does-the-fetch-api-work-with-common-http-methods-and-res-json
---

# --description--

在上一课中，我们看到了Fetch API是什么以及如何使用它。在这一课中，我们将讨论Fetch API的`GET`、`POST`、`PUT`和`DELETE`HTTP方法。

让我们从最常见的HTTP方法开始，即`GET`方法。这用于从服务器检索数据。当你使用`fetch()`而不指定方法时，它默认为`GET`。

```js
fetch('https://api.example.com/data')
```

在这段代码中，我们向`https://api.example.com/data`发出一个`GET`请求。现在，请注意你不能直接使用这些数据，你必须将响应转换为JSON格式。只有这样你才能在项目中的任何地方使用它。下面是这样做的一个示例：

```js
fetch('https://api.example.com/data')
  .then(response => response.json())
  .then(data => console.log(data))
```

在这段代码中，来自Fetch API的响应是一个承诺，我们使用`.then`处理程序将响应转换为JSON格式。在之前的课程中，你了解到`Promise`是一个对象，代表异步进程的最终完成(或失败)及其值。

承诺的值在创建承诺时是未知的。只有当异步进程完成时才知道。当我们把两个`.then`处理程序链接到fetch调用时，这被称为承诺链，将在下一课中教授。

到目前为止，我们一直在从服务器检索资源。但是，你知道我们也可以向服务器发送数据吗？`POST`方法用于向服务器发送数据以创建资源。下面是一个用于在服务器中创建数据的`POST`方法示例：

```js
fetch('https://api.example.com/users', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    name: 'John Doe',
    email: 'john@example.com'
  })
})
```

在这个例子中，我们发送一个`POST`请求来创建一个新用户。我们指定方法为`POST`，设置适当的标头，并包含一个带有我们要发送的数据的`body`。body需要是一个字符串，所以我们使用`JSON.stringify()`将我们的对象转换为JSON字符串。

`PUT`方法用于更新服务器的现有资源。下面是一个示例：

```js
fetch('https://api.example.com/users/45', {
  method: 'PUT',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    name: 'John Smith',
    email: 'john@example.com'
  })
})
```

在这个例子中，仔细查看URL，你可以在末尾看到一个`45`。这通常用作唯一ID来识别我们试图更新的数据。我们在代码中使用了`PUT`方法，并将数据指定为`body`，这将用于更新已识别的数据。

`DELETE`方法用于从服务器删除资源。下面是一个示例：

```js
fetch('https://api.example.com/users/45', {
  method: 'DELETE',
})
```

在这段代码中，我们包含了`DELETE`方法和URL末尾的一个ID，以识别需要删除的数据。

# --questions--

## --text--

如果未指定，`fetch()`使用的默认HTTP方法是什么？

## --answers--

`POST`

### --feedback--

想想从服务器检索数据时最常见的操作。

---

`GET`

---

`PUT`

### --feedback--

想想从服务器检索数据时最常见的操作。

---

`DELETE`

### --feedback--

想想从服务器检索数据时最常见的操作。

## --video-solution--

2

## --text--

使用`fetch()`发送带有`POST`请求的数据时，在将其包含在body中之前你需要对数据做什么？

## --answers--

加密它。

### --feedback--

考虑在请求body中发送数据时如何格式化数据。

---

压缩它。

### --feedback--

考虑在请求body中发送数据时如何格式化数据。

---

将其转换为JSON字符串。

---

Base64编码它。

### --feedback--

考虑在请求body中发送数据时如何格式化数据。

## --video-solution--

3

## --text--

`response.json()`方法做什么？

## --answers--

向服务器发送JSON数据。

### --feedback--

想想服务器的数据需要如何处理才能在JavaScript中使用。

---

创建一个新的JSON对象。

### --feedback--

想想服务器的数据需要如何处理才能在JavaScript中使用。

---

将响应体解析为JSON。

---

验证响应是否为JSON格式。

### --feedback--

想想服务器的数据需要如何处理才能在JavaScript中使用。

## --video-solution--

3
