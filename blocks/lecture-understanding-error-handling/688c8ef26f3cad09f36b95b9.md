---
id: 688c8ef26f3cad09f36b95b9
title: Python中有哪些好的调试技巧？
challengeType: 19
dashedName: what-are-some-good-debugging-techniques-in-python
---

# --description--

调试是任何 Python 开发者必备的一项技能。掌握基础调试技巧能帮助你高效发现并修复问题。

调试是识别并解决代码中错误或 bug 的过程，通常需要检查代码、理解执行流程，并利用工具定位问题的根源。

在本节里，我们会介绍一些常用的调试方法，帮助你在下一个 Python 项目中更顺利地排查问题。

## 使用 `print` 和 f 字符串

首先，在代码中不同位置使用 `print()` 和 f 字符串可以帮助你查看变量的状态与执行流程，例如：

```py
def add(a, b):
    result = a + b
    print(f'Adding {a} and {b} gives {result}')
    return result
```

通过打印 `a`、`b` 和 `result` 的值，你可以确认函数是否按预期运行。

## 使用内置的 `pdb` 进行交互式调试

接着，你可以使用 Python 内置的 `pdb` 模块进行交互式调试：

```py
import pdb

def divide(a, b):
    pdb.set_trace()
    return a / b

print(divide(10, 2))
```

通过 `.set_trace()` 设定断点，你可以单步执行代码、检查变量，并观察程序行为。

运行上述代码时，你会看到显示文件位置、调用 `.set_trace()` 的行以及随后的代码，并进入交互式 `pdb` 提示符：

```py
> /Users/fcc/Desktop/debugging.py(5)divide()
-> return a / b
(Pdb)
```

在提示符中输入 `help`，可以查看可用命令列表：

```py
(Pdb) help

Documented commands (type help <topic>):
========================================
EOF    c          d        h         list      q        rv       undisplay
a      cl         debug    help      ll        quit     s        unt      
alias  clear      disable  ignore    longlist  r        source   until    
args   commands   display  interact  n         restart  step     up       
b      condition  down     j         next      return   tbreak   w        
break  cont       enable   jump      p         retval   u        whatis   
bt     continue   exit     l         pp        run      unalias  where    

Miscellaneous help topics:
==========================
exec  pdb
```

然后你就可以使用这些命令来调试代码。

例如，如果想查看某个时刻变量的类型，可以使用 `whatis` 命令：

```py
(Pdb) whatis a
<class 'int'>
(Pdb) whatis divide
Function divide
```

通过 `.set_trace()`，你可以确认参数 `a` 的类型，以及 `divide` 是否为函数。

要继续执行代码，可以使用 `continue`（或其别名 `cont`、`c`）：

```py
(Pdb) continue
5.0
```

## IDE 调试工具

很多集成开发环境（IDE）都提供了强大的调试工具，例如断点、单步执行和变量查看等。

## 在 VS Code 中使用调试器

如果你使用 VS Code，可以在代码中设置断点并运行调试器来暂停执行，下面展示如何调试 `divide` 函数：

**步骤 1：准备代码** 新建 `main.py`，内容如下：

```py
def divide(a, b):
    result = a / b
    return result

print(divide(10, 2))
print(divide(15, 3))
```

**步骤 2：设置断点**

1. 在行 2（`result = a / b`）左侧的行号区域单击，设置断点

2. 出现红点表示断点已设置

**步骤 3：开始调试**

1. 按 `F5` 或通过 Run > Start Debugging 启动

2. 选择 "Python File"

3. 调试器会在断点处暂停执行

**步骤 4：查看变量**

- 将鼠标悬停在变量上可以查看当前值

- 使用左侧的 Variables 面板查看所有本地变量

- 在底部的 Debug Console 中评估表达式

**步骤 5：单步执行**

使用调试工具栏进行操作：

- **Continue (F5)**：继续执行直到下一个断点

- **Step Over (F10)**：执行当前行并跳到下一行

- **Step Into (F11)**：进入函数内部

- **Step Out (Shift+F11)**：跳出当前函数

IDE 的调试工具提供了可视化界面来检查程序状态，相较于仅靠 `print`，它能更方便地定位和修复问题。

掌握这些基础调试技巧 —— 使用 `print()` 快速检查，使用 `pdb` 进行交互式探索，以及使用 IDE 调试器进行可视化检查 —— 能帮助你更有效地发现并解决 Python 代码中的问题。
每种方法都有它的用处：`print()` 适合快速检查，`pdb` 适合交互式探索，IDE 调试器适合可视化排查。

# --questions--

## --text--

在调试中使用 `print()` 的目的是什么？

## --answers--

更快地执行代码。

### --feedback--

请回到讲解 `print()` 的章节复习。

---

显示变量值和程序执行流程。

---

编译代码。

### --feedback--

请回到讲解 `print()` 的章节复习。

---

终止程序。

### --feedback--

请回到讲解 `print()` 的章节复习。

## --video-solution--

2

## --text--

`pdb` 模块在 Python 中提供什么？

## --answers--

图形用户界面（GUI）。

### --feedback--

请回到讲解 `pdb` 的章节复习。

---

一种编译 Python 代码的方法。

### --feedback--

请回到讲解 `pdb` 的章节复习。

---

交互式调试环境。

---

一种加密代码的方法。

### --feedback--

请回到讲解 `pdb` 的章节复习。

## --video-solution--

3

## --text--

IDE 调试工具相比 `print()` 等方法有什么优势？

## --answers--

它们能让你更快地编写代码。

### --feedback--

请回到讲解 IDE 调试工具的章节复习。

---

它们能防止语法错误。

### --feedback--

请回到讲解 IDE 调试工具的章节复习。

---

它们会自动修复代码中的 bug。

### --feedback--

请回到讲解 IDE 调试工具的章节复习。

---

它们提供可视化界面来检查程序的状态。

## --video-solution--

4