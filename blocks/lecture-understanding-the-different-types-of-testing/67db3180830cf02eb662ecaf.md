---
id: 67db3180830cf02eb662ecaf
title: 断言在单元测试中是如何工作的？
challengeType: 19
dashedName: how-do-assertions-work-in-unit-testing
---

# --description--

你在之前的课程中首次接触了断言和单元测试。但作为复习，单元测试是独立检查单个函数或组件的输出，与测试整个程序的最终输出形成对比。断言用于测试代码是否按预期行为。

在本节课中，我们将更仔细地看看单元测试中的断言，并探讨一些最佳实践。

一个常用的断言库是Chai。这是MasterPuti代码库中使用的相同库。每当你参加工作坊或实验时，都有一个自动测试套件运行你的代码，以确保你的代码按预期方式行为。

让我们看看来自全栈开发者课程的一些例子。

在构建计算器工作坊中，步骤1是测试一个名为`addTwoAndSeven`的函数：

```js
assert.isFunction(addTwoAndSeven);
```

该断言检查提供的代码是否包含名为`addTwoAndSeven`的函数。如果用户创建了一个数组、字符串或任何其他不是函数的东西并将其赋值给`addTwoAndSeven`，那么测试将失败。

让我们看看工作坊后面另一个断言：

```js
assert.equal(addThreeAndFour(), 7);
```

该断言检查`addThreeAndFour`函数的返回值是否等于数字`7`。如果返回值不等于`7`，那么测试将失败。

Chai中还有更多断言，比如检查值是否为布尔值、对象是否具有特定属性名或值是否为`null`的断言。其他常见的JavaScript断言库有should.js和expect.js。

无论你使用哪个断言库，都有一些最佳实践需要注意。首先是编写清晰的断言消息。清晰且有意义的断言消息应该描述其背后的意图。否则，将很难定位哪些测试失败了。

另一个最佳实践是编写描述性的失败消息。描述性的失败消息应该说明哪个条件为真。这将帮助你弄清楚为什么某个特定的断言失败了。

当你继续学习编程时，熟悉测试并开始为个人项目编写测试是很重要的。这样做将大大有助于你为第一份开发工作做准备。

# --questions--

## --text--

以下哪个断言在Chai中用于测试值是否为函数？

## --answers--

`assert.functioning()`

### --feedback--

参考课程开头讨论这一点的地方。

---

`assert.isFunction()`

---

`assert.function()`

### --feedback--

参考课程开头讨论这一点的地方。

---

`assert.isTrueFunction()`

### --feedback--

Refer to the beginning of the lesson where this was discussed.

## --video-solution--

2

## --text--

以下哪个断言在Chai中用于测试两个值是否相等？

## --answers--

`assert.equality()`

### --feedback--

参考课程开头讨论这一点的地方。

---

`assert.equaling()`

### --feedback--

Refer to the beginning of the lesson where this was discussed.

---

`assert.equal()`

---

`assert.equalize()`

### --feedback--

Refer to the beginning of the lesson where this was discussed.

## --video-solution--

3

## --text--

以下哪项不是常用的断言库？

## --answers--

expect.js

### --feedback--

Refer to the end of the lesson where this was discussed.

---

Chai

### --feedback--

Refer to the end of the lesson where this was discussed.

---

should.js

### --feedback--

Refer to the end of the lesson where this was discussed.

---

Gherkin

## --video-solution--

4

