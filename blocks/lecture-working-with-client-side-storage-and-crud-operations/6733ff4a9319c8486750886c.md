---
id: 6733ff4a9319c8486750886c
title: 什么是localStorage，有哪些常用方法？
challengeType: 19
dashedName: what-is-localstorage-and-what-are-some-common-methods
---

# --description--

Web存储API为浏览器提供了一种机制，可以在浏览器内直接存储键值对，允许开发人员存储可以在不同页面重新加载和会话之间使用的信息。

Web存储API的两个主要组件是[localStorage](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L27-L27)和[sessionStorage](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L16-L16)。

[localStorage](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L27-L27)是Web存储API的一部分，它允许数据在浏览器窗口关闭或页面刷新后仍然保持。这些数据会一直存在，直到应用程序或用户明确删除它。

[sessionStorage](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L16-L16)是Web存储API的另一部分，它为页面会话期间存储数据，这意味着只要浏览器标签页或窗口保持打开状态，数据就可用。然而，与[localStorage](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L27-L27)不同，[sessionStorage](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L16-L16)中的数据在标签页或窗口关闭时会被清除。你将在下一课中学习更多关于[sessionStorage](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L16-L16)的知识。

[localStorage](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L27-L27)的常见用例包括存储用户设置，如主题或语言偏好，跨浏览器会话记住表单数据，以及缓存小块信息以提高Web应用程序的性能。

缓存是指将频繁访问的数据存储在临时存储位置（称为缓存）中，这样后续对该数据的请求可以更快地提供服务，而无需从较慢的数据源（如数据库或外部服务器）重新计算或获取。

一些常见的[localStorage](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L27-L27)方法包括[setItem](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L22-L22)、[getItem](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L22-L22)、[removeItem](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L22-L22)和[clear](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L22-L22)方法。

以下是一个使用[setItem()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L27-L27)方法的示例，它在[localStorage](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L27-L27)中存储一个键值对。

```js
localStorage.setItem('username', 'JaneDoe');
```

然后如果我们想从[localStorage](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L27-L27)中检索给定键的值，我们可以使用[getItem()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L33-L33)方法。

```js
let username = localStorage.getItem('username');
console.log(username); // JaneDoe
```

要使用键从[localStorage](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L27-L27)中删除项目，可以使用[removeItem()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L40-L40)方法。

```js
localStorage.removeItem('username');
```

要清除[localStorage](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L27-L27)中的所有数据，可以使用[clear()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L46-L46)方法。

```js
localStorage.clear();
```

现在，让我们看一个使用[localStorage](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L27-L27)存储用户首选主题的示例。

```js
// Store the user's theme preference
localStorage.setItem('theme', 'dark');

// Retrieve the stored theme preference
const userTheme = localStorage.getItem('theme');
console.log(userTheme); // 'dark'

// Remove the theme preference
localStorage.removeItem('theme');

// Clear all localStorage data
localStorage.clear();
```

在这个示例中：

- 我们首先为用户存储一个主题选择（[dark](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L53-L53)）。

- 然后我们检索该主题并将其输出到控制台。

- 最后，我们演示如何删除特定项目或清除所有存储的数据。

[localStorage](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L27-L27)对于存储需要在会话之间持久化的小块数据非常有用，但需要注意的是，[localStorage](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L27-L27)不应用于存储敏感信息，如密码，因为它可能带来安全风险。

# --questions--

## --text--

Web存储API的用途是什么？

## --answers--

向服务器发送小块数据与每个HTTP请求一起发送。

### --feedback--

Web存储API帮助你在用户的浏览器中存储数据。

---

在浏览器中存储键值对。

---

以加密形式存储敏感数据。

### --feedback--

Web存储API帮助你在用户的浏览器中存储数据。

---

在服务器上运行JavaScript代码。

### --feedback--

Web存储API帮助你在用户的浏览器中存储数据。

## --video-solution--

2

## --text--

使用哪个方法在本地存储中保存数据？

## --answers--

[localStorage.getItem()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L120-L120)

### --feedback--

该方法以[set](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L124-L124)开头，涉及设置键值对。

---

[localStorage.setItem()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L128-L128)

---

[localStorage.save()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L132-L132)

### --feedback--

该方法以[set](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L124-L124)开头，涉及设置键值对。

---

[localStorage.store()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L140-L140)

### --feedback--

该方法以[set](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L124-L124)开头，涉及设置键值对。

## --video-solution--

2

## --text--

[localStorage](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L27-L27)与[sessionStorage](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L16-L16)有什么区别？

## --answers--

[localStorage](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L27-L27)数据在标签页关闭时被清除，[sessionStorage](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L16-L16)是永久的。

### --feedback--

想想关闭并重新打开浏览器时[localStorage](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L27-L27)会发生什么。

---

[localStorage](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L27-L27)在浏览器会话之间持久化，而[sessionStorage](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L16-L16)在浏览器或标签页关闭时被清除。

---

[localStorage](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L27-L27)向服务器发送数据，[sessionStorage](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L16-L16)在本地存储数据。

### --feedback--

想想关闭并重新打开浏览器时[localStorage](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L27-L27)会发生什么。

---

两者行为相同，没有区别。

### --feedback--

想想关闭并重新打开浏览器时[localStorage](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff4a9319c8486750886c.md#L27-L27)会发生什么。

## --video-solution--

2