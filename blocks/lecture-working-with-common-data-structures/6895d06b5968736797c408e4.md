---
id: 6895d06b5968736797c408e4
title: 动态数组与静态数组有何不同？
challengeType: 19
dashedName: how-do-dynamic-arrays-differ-from-static-arrays
---

# --description--

数组是计算机科学中的基本数据结构。所有数组都存储有序的数据集合，但根据其类型，它们在幕后的工作方式可能不同。

它们的底层行为可能对程序的效率产生重要影响，所以让我们学习动态数组和静态数组及其区别，这样您就可以为您的程序选择最高效的数组。

我们从静态数组开始。

**静态数组**具有固定大小。它们将元素存储在相邻的内存位置。

静态数组的大小在数组初始化时确定。一旦分配了特定的内存块，它就是固定的，在程序运行期间无法更改。这是静态数组的关键特征。

将元素存储在相邻的内存位置使得数据检索过程更加高效，因为程序可以存储第一个元素的位置，然后使用索引来进行简单计算并找到内存中的其他元素。

多亏了这一点，访问静态数组的值需要常数时间[O(1)](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-data-structures/6895d06b5968736797c408e4.md#L22-L22)，这是非常高效的。

当您提前知道将存储的元素数量时，可以使用静态数组。当值需要频繁访问时也很有帮助，因为访问操作非常高效。

然而，这种数据结构无法增长或缩小，所以如果将存储的元素数量可能变化，您应该使用动态数组。

试图增加静态数组的大小需要创建一个新数组并将所有元素从旧数组复制到新数组，这是低效的。在这种情况下，动态数组会好得多，因为它自动处理这个过程。

Python不包括传统的静态数组作为内置数据结构。

但其他编程语言，如Java，确实支持它们。这是Java中可以存储三个整数的静态数组示例：

```java
int[] numbers = new int[3]; 
```

Python中的数组是动态的，所以让我们来看看它们。

**动态数组**更灵活，因为它们可以在程序运行期间自动增长或缩小。

它们通过自动调整大小机制工作，当原始数组满时将元素复制到新数组中。这个过程是高效完成的，因为新数组的大小是以有效的方式选择的，使得这些计算上昂贵的操作不那么频繁。

访问动态数组的元素需要常数时间[O(1)](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-data-structures/6895d06b5968736797c408e4.md#L22-L22)，所以这个操作非常高效。

在数组中间插入元素需要线性时间[O(n)](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-data-structures/6895d06b5968736797c408e4.md#L46-L46)，因为其后的元素需要重新定位。

在数组末尾插入元素需要常数时间[O(1)](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-data-structures/6895d06b5968736797c408e4.md#L22-L22)，如果动态数组中仍有可用空间，但如果数组已满需要调整大小，此操作具有[O(n)](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-data-structures/6895d06b5968736797c408e4.md#L46-L46)复杂度。

当您无法提前知道需要在数组中存储的值的数量时，应该使用动态数组。当您需要频繁插入和删除元素时也很有帮助。

Python的内置[list](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-data-structures/6895d06b5968736797c408e4.md#L52-L52)数据结构作为动态数组工作。您可以通过在方括号内写入元素（用逗号分隔）来创建列表。

```python
numbers = [3, 4, 5, 6]
```

您可以通过写入保存列表的变量名，后跟方括号，并在方括号内写入相应的索引来访问元素。

索引从第一个元素的0开始，每个后续元素递增1：

```python
numbers[0]  # 3
numbers[1]  # 4
numbers[2]  # 5
numbers[3]  # 6
```

要更新值，您只需要重新赋值：

```python
numbers[2] = 16
```

您可以使用.append()方法向列表追加元素：

```python
numbers.append(7)
```

您可以使用.insert()方法在特定索引处插入元素，将索引作为第一个参数传递，元素本身作为第二个参数。

```python
numbers.insert(3, 15)
```

您可以使用.pop()方法删除特定索引处的元素：

```python
numbers.pop(2)
```

如果您不指定索引，.pop()将删除最后一个元素。

还有其他内置列表方法，您可以在文档中查看，可以相当容易地添加和删除元素。

这就是动态数组（或在这种情况下是列表）的强大之处。

一般来说，当您提前知道元素数量并且需要频繁访问它们时，应该使用静态数组，当元素数量未知或随时间变化时，使用动态数组。

您应该始终考虑静态数组的简单性和动态数组的灵活性之间的权衡。它们对于特定的用例和场景都很有帮助。能够在给定问题中选择最佳数组是您将通过练习逐渐培养的问题解决技能的一部分。

# --questions--

## --text--

静态数组和动态数组在大小上的主要区别是什么？

## --answers--

静态数组在创建后可以更改其大小，而动态数组不能。

### --feedback--

想想每种类型的数组需要多少空间。

---

静态数组具有固定大小，而动态数组可以在运行时更改大小。

---

它们在大小处理方式上没有实际区别。

### --feedback--

想想每种类型的数组需要多少空间。

---

动态数组总是比静态数组大。

### --feedback--

想想每种类型的数组需要多少空间。

## --video-solution--

2

## --text--

如果您需要向已满的静态数组添加更多元素，典型的涉及过程是什么？

## --answers--

静态数组自动扩展其内存以适应新元素。

### --feedback--

想想当一个固定容量的容器空间不足时需要什么。

---

您必须创建一个更大的新数组并将所有现有元素复制到其中。

---

数组自动将其自身转换为动态数组。

### --feedback--

想想当一个固定容量的容器空间不足时需要什么。

---

如果数组已满，新元素将被简单地丢弃。

### --feedback--

想想当一个固定容量的容器空间不足时需要什么。

## --video-solution--

2

## --text--

在哪种情况下，静态数组通常比动态数组更合适？

## --answers--

当确切的元素数量未知且频繁变化时。

### --feedback--

想想与静态数组大小和资源使用相关的主要优势。

---

当您需要存储可能无限增长的非常大的数据集时。

### --feedback--

想想与静态数组大小和资源使用相关的主要优势。

---

当您需要在集合内的任意位置频繁插入和删除时。

### --feedback--

想想与静态数组大小和资源使用相关的主要优势。

---

当数据大小在编写程序时是固定且已知的。

## --video-solution--

4