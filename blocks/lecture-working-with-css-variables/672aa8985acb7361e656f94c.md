---
id: 672aa8985acb7361e656f94c
title: 什么是 CSS 自定义属性，它们是如何工作的？
challengeType: 19
dashedName: what-are-css-custom-properties
---

# --interactive--

CSS自定义属性，也称为CSS变量，是由CSS作者定义的实体，包含特定值以便在整个文档中重复使用。它们是一个强大的特性，允许创建更高效、可维护和灵活的样式表。

声明自定义属性的语法很简单。它以两个破折号（`--`）开头，后跟属性名称：

```css
:root {
  --main-color: #3498db;
}
```

在这个例子中，我们声明了一个名为`--main-color`的自定义属性，其值为`#3498db`。`:root`伪类通常用于声明全局自定义属性，因为它代表DOM树中的最高级父级。

要使用自定义属性，你需要使用`var()`函数：

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">
<button class="button">点击我</button>
```

```css
:root {
  --main-color: #3498db;
}

.button {
  background-color: var(--main-color);
}
```

:::

这将把具有`button`类的元素的背景颜色设置为存储在`--main-color`中的值。

自定义属性的一个关键特性是它们遵循CSS级联。这意味着你可以为特定元素或上下文重新定义它们：

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">
<div class="alert">这是一条警报消息。</div>
```

```css
.alert {
  --main-color: #e74c3c;
  background-color: var(--main-color);
}
```

:::

在这种情况下，具有`alert`类的元素将使用不同的`--main-color`值，覆盖全局定义。

自定义属性还支持回退值。如果自定义属性未定义或无效，你可以提供一个回退值：

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">
<div class="text">这是一些文本。</div>
```

```css
:root {
  --text-color: green;
}

.text {
  color: var(--text-color, green);
}
```

:::

在这里，如果`--text-color`未定义，`color`将默认为`green`。

自定义属性在创建可主题化的设 计时特别有用。你可以为不同的主题定义一组属性：

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">
<div class="light-theme">
  <p>这是一些浅色主题的文本。</p>
</div>
```

```css
:root {
  --bg-color: black;
}

body {
  background-color: var(--bg-color);
}

.light-theme {
  --bg-color: white;
  --text-color: black;
  background-color: var(--bg-color);
  color: var(--text-color);
  padding: 10px;
}

```

:::

切换主题就像从`body`元素添加或删除类一样简单。

自定义属性还可以与媒体查询一起使用来创建响应式设计：

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">

<div class="card">
  <h2>响应式设计</h2>
  <p>调整窗口大小查看卡片如何适应！</p>
</div>

```

```css
:root {
  --card-width: 90%;
  --card-bg: #f0f0f0;
  --card-padding: 1rem;
  --text-color: #333;
}

/* 平板电脑屏幕及以上 */
@media (min-width: 600px) {
  :root {
    --card-width: 70%;
    --card-bg: #e8f5e9;
    --card-padding: 1.5rem;
  }
}

/* 桌面屏幕及以上 */
@media (min-width: 1024px) {
  :root {
    --card-width: 50%;
    --card-bg: #d0f0ff;
    --card-padding: 2rem;
  }
}

body {
  font-family: system-ui, sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  background-color: #fafafa;
}

.card {
  width: var(--card-width);
  background-color: var(--card-bg);
  padding: var(--card-padding);
  color: var(--text-color);
  border-radius: 8px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  text-align: center;
  transition: all 0.3s ease;
}
```

:::

这种方法允许创建更易维护的响应式布局，因为你可以在一个地方而不是整个样式表中更改值。这可以显著减少样式表中的重复，特别是对于经常使用、复杂的值。

自定义属性还可以引用其他自定义属性：

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">
<button class="button">点击我</button>
```

```css
:root {
  --primary-color: #3498db;
  --button-bg: var(--primary-color);
}

button {
  background-color: var(--button-bg);
}

```

:::

这允许在不同的样式方面创建关系，使在整个站点中保持一致的主题更容易。

虽然自定义属性提供了许多优势，但重要的是要注意它们的浏览器支持。它们在现代浏览器中得到了很好的支持，但旧版浏览器可能无法识别它们。使用前沿功能时，始终要有回退计划。

总之，CSS自定义属性提供了一种强大的方式来创建更动态、灵活和可维护的样式表。它们允许创建可主题化的设计，简化响应式布局，并启用运行时样式操作。

随着Web开发的不断发展，自定义属性正成为开发者工具箱中日益重要的工具，为创建适应性强且高效的CSS提供了新的可能性。

# --questions--

## --text--

声明CSS自定义属性的正确语法是什么？

## --answers--

`$main-color: #3498db;`

### --feedback--

记住自定义属性在其声明中具有唯一的前缀。

---

`@main-color: #3498db;`

### --feedback--

记住自定义属性在其声明中具有唯一的前缀。

---

`--main-color: #3498db;`

---

`main-color: #3498db;`

### --feedback--

记住自定义属性在其声明中具有唯一的前缀。

## --video-solution--

3

## --text--

如何在样式声明中使用CSS自定义属性？

## --answers--

`use(--main-color)`

### --feedback--

想想用于引用CSS中自定义属性的函数。

---

`var(--main-color)`

---

`@main-color`

### --feedback--

想想用于引用CSS中自定义属性的函数。

---

`$(--main-color)`

### --feedback--

想想用于引用CSS中自定义属性的函数。

## --video-solution--

2

## --text--

使用CSS自定义属性时应该注意什么？

## --answers--

它们可以与旧版本的CSS一起使用。

### --feedback--

考虑一下CSS自定义属性是最近才引入的，以及这可能会给使用旧设备的人带来什么问题。

---

它们可能不被旧版浏览器支持。

---

它们可以提高页面速度。

### --feedback--

考虑一下CSS自定义属性是最近才引入的，以及这可能会给使用旧设备的人带来什么问题。

---

它们会增加样式表中的重复。

### --feedback--

考虑一下CSS自定义属性是最近才引入的，以及这可能会给使用旧设备的人带来什么问题。

## --video-solution--

2