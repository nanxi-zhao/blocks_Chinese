---
id: 683ec8fd8b21827317388a45
title: 什么是集合，它们是如何工作的？
challengeType: 19
dashedName: what-are-sets-and-how-do-they-work
---

# --description--

集合是 Python 的内置数据结构之一。集合的核心特征之一是它们不存储重复的值。如果您尝试向集合中添加重复值，只会存储其中一个。

集合是可变的和无序的，这意味着它们的元素不按任何特定顺序存储，因此您不能使用索引或键来访问它们。它们只能包含不可变数据类型（如数字、字符串和元组）的值。它们支持数学集合运算，包括并集、交集、差集和对称差集。

要定义一个集合，您只需要在花括号内写下其元素并用逗号分隔。这是一个数字集合的示例：

```python
my_set = {1, 2, 3, 4, 5} 
```

使用集合的一个奇特之处是，如果您需要定义一个空集合，必须使用 `set()` 函数。如果您只写空花括号，如 `{}`，Python 将自动创建一个字典。

```python
set() # 集合
{}    # 字典
```

您可以使用 `.add()` 方法向集合中添加元素，并将新元素作为参数传入：

```python
my_set.add(6)
```

在我们的示例中，新集合将是：

```python
{1, 2, 3, 4, 5, 6}
```

如果您尝试添加一个已经在集合中的元素，只会保留一个。在这个例子中，我们已经在集合中有数字 5：

```python
my_set.add(5)
```

所以集合不会改变：

```python
{1, 2, 3, 4, 5, 6}
```

要从集合中删除元素，您有两种选择。您可以使用 `.remove()` 方法或 `.discard()` 方法，并将要删除的元素作为参数传入。

如果找不到元素，`.remove()` 方法将引发 `KeyError`，而 `.discard()` 方法不会：

```python
my_set.remove(4)
my_set.discard(4)
```

`.clear()` 方法从集合中删除所有元素：

```python
my_set.clear()
```

Python 集合还有强大的方法来执行常见的数学集合运算。

`.issubset()` 和 `.issuperset()` 方法分别检查一个集合是否是另一个集合的子集或超集。

在这里，我们检查 `your_set` 是否是 `my_set` 的子集，结果是 `False`，因为 `your_set` 的所有元素都不在 `my_set` 中。

我们还检查 `my_set` 是否是 `your_set` 的超集。这也是 `False`，因为 `my_set` 没有 `your_set` 的所有元素：

```python
my_set = {1, 2, 3, 4, 5}
your_set = {2, 3, 4, 6}

print(your_set.issubset(my_set)) # False
print(my_set.issuperset(your_set)) # False
```

`.isdisjoint()` 方法检查两个集合是否不相交，这意味着它们没有任何共同元素。在这种情况下，结果是 `False`，因为 `my_set` 和 `your_set` 确实有共同元素——2、3 和 4：

```python
print(my_set.isdisjoint(your_set)) # False
```

并集运算符 `|` 返回一个包含两个集合所有元素的新集合：

```python
my_set | your_set # {1, 2, 3, 4, 5, 6}
```

交集运算符 `&` 返回一个只包含集合共同元素的新集合：

```python
my_set & your_set # {2, 3, 4}
```

差集运算符 `-` 返回一个包含第一个集合中有但其他集合中没有的元素的新集合。在这个例子中，数字 1 和 5 在 `my_set` 中但不在 `your_set` 中：

```python
my_set - your_set # {1, 5}
```

对称差集运算符 `^` 返回一个包含在第一个或第二个集合中但不在两个集合中的元素的新集合。在这种情况下，1 和 5 在 `my_set` 中但不在 `your_set` 中，所以它们被包含。数字 6 在 `your_set` 中但不在 `my_set` 中，所以它也被包含：

```python
my_set ^ your_set # {1, 5, 6}
```

如果在这些运算符旁边加上等号，每个运算符都有其对应的复合赋值运算符。这些运算符会自动将结果集合赋值给表达式中的第一个集合：

```python
|= &= -= ^=
```

例如，`-=` 运算符找出集合的差集，并用该结果更新第一个集合：

```python
my_set -= your_set
```

之后，`my_set` 将被更新为 `{1, 5}`：

```python
print(my_set) # {1, 5}
```

您可以使用 `in` 运算符检查元素是否在集合中。在这里，我们检查 5 是否在 `my_set` 中。结果将是一个布尔值 `True` 或 `False`：

```python
print(5 in my_set)
```

这些就是集合的基础知识。当您不需要按特定顺序存储值，而只需要存储唯一值时，它们非常有用。

# --questions--

## --text--

以下哪项是 Python 集合的核心特征？

## --answers--

元素是有序的并通过索引访问。

### --feedback--

想想集合与列表、元组和字典的不同之处。

---

元素作为键值对存储。

### --feedback--

想想集合与列表、元组和字典的不同之处。

---

元素是唯一的且无序的。

---

元素可以是任何数据类型，包括列表和字典。

### --feedback--

想想集合与列表、元组和字典的不同之处。

## --video-solution--

3

## --text--

使用哪个运算符来检查元素是否存在于集合中？

## --answers--

`==`

### --feedback--

想想用于测试集合内成员资格的运算符。

---

`in`

---

`get()`

### --feedback--

想想用于测试集合内成员资格的运算符。

---

`find()`

### --feedback--

想想用于测试集合内成员资格的运算符。

## --video-solution--

2

## --text--

哪种集合运算返回一个新集合，包含存在于两个集合中的任意一个但不同时存在于两个集合中的元素？

## --answers--

并集

### --feedback--

想想哪种运算识别每个集合独有的元素。

---

交集

### --feedback--

想想哪种运算识别每个集合独有的元素。

---

差集

### --feedback--

想想哪种运算识别每个集合独有的元素。

---

对称差集

## --video-solution--

4