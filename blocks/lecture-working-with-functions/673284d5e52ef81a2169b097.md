---
id: 673284d5e52ef81a2169b097
title: 什么是箭头函数，它们如何工作？
challengeType: 19
dashedName: what-are-arrow-functions-and-how-do-they-work
---

# --interactive--

在上一课中，你学习了如何使用函数，函数是可重用的代码片段，有助于使你的代码更加模块化、易于维护和更高效。所有之前的示例都使用了常规函数语法，如下所示：

```js
function greetings(name) {
  console.log("你好, " + name + "!");
}
```

但另一种在JavaScript中编写函数的方法是创建箭头函数表达式。下面是你可以重构前面的示例以使用箭头函数语法的方式：

```js
const greetings = (name) => {
  console.log("你好, " + name + "!");
};
```

在这个修改后的示例中，我们正在创建一个名为`greetings`的`const`变量，并为其分配一个匿名函数。除了缺少`function`关键字和在`name`参数和函数体之间添加了箭头（`=>`）之外，大部分语法对你来说都很熟悉。如果你的参数列表只有一个参数，那么你可以像这样删除括号：

```js
const greetings = name => {
  console.log("你好, " + name + "!");
};
```

如果你的箭头函数没有参数，那么你必须像这样使用括号：

```js
const greetings = () => {
  console.log("你好");
};
```

当第一次学习函数时，你必须将函数体包装在花括号中。但如果你的函数体只包含一行代码，你可以像这样删除花括号：

```js
const greetings = name => console.log("你好, " + name + "!");
```

需要注意的是，删除常规函数语法的括号和花括号将不起作用。如果你尝试做这样的事情，你会得到错误：

```js
// 这会产生语法错误 
function greetings name console.log("你好, " + name + "!");
```

这些类型的单行函数只有在使用箭头函数语法时才有效。另一个关键概念是`return`语句。下面是使用箭头函数语法计算面积的示例：

:::interactive_editor

```js
const calculateArea = (width, height) => {
  const area = width * height;
  return area;
};

console.log(calculateArea(5, 3)); // 15
```

:::

我们在函数内部创建了一个名为`area`的变量，然后返回该变量。但我们可以稍微清理一下代码并返回计算本身：

:::interactive_editor

```js
const calculateArea = (width, height) => {
  return width * height;
}; 

console.log(calculateArea(5, 3)); // 15
```

:::

如果你试图删除花括号并将计算放在同一行，那么你会得到`Uncaught SyntaxError: Unexpected token 'return'`消息：

```js
const calculateArea = (width, height) => return width * height;
```

你得到这个错误的原因是，你需要删除`return`语句。当你删除那个`return`语句时，错误将消失，函数仍将隐式返回计算结果。

```js
const calculateArea = (width, height) => width * height;
```

那么什么时候应该使用箭头函数语法呢？这取决于情况。许多开发人员在他们的个人项目中一直使用它。然而，当在团队中工作时，选择通常取决于现有的代码库是使用常规函数还是箭头函数。在未来的课程中，我们将介绍何时使用箭头函数以及何时避免使用它们。

# --questions--

## --text--

编写一个接受两个参数并返回它们之和的箭头函数的正确方式是什么？

## --answers--

`(a, b) => { a + b }`

### --feedback--

记住箭头函数中隐式返回的语法。

---

`(a, b) => a + b`

---

`(a, b) => return a + b`

### --feedback--

记住箭头函数中隐式返回的语法。

---

`a, b => a + b`

### --feedback--

请记住箭头函数中隐式返回的语法。

## --video-solution--

2

## --text--

编写一个不接受参数并返回字符串`"Hello"`的箭头函数的正确方式是什么？

## --answers--

`() => "Hello"`

---

`() => "Hello"`

### --feedback--

记住无参数和单一表达式返回的箭头函数的语法。

---

`() => { "Hello" }`

### --feedback--

请记住无参数和单一表达式返回的箭头函数的语法。

---

`() => return "Hello"`

### --feedback--

请记住无参数和单一表达式返回的箭头函数的语法。

## --video-solution--

1

## --text--

下面代码的输出是什么？

```js
let multiply = (a, b = 1) => a * b;

console.log(multiply(5));
console.log(multiply(5, 2));
```

## --answers--

`5`, `10`

---

`1`, `2`

### --feedback--

考虑如何在箭头函数中使用默认参数。

---

`undefined`, `10`

### --feedback--

考虑一下默认参数在箭头函数中是如何工作的。

---

会报错。

### --feedback--

考虑一下默认参数在箭头函数中是如何工作的。

## --video-solution--

1