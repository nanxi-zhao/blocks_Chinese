---
id: 673284e7244c0c1a649121b9
title: 编程中的作用域是什么，全局作用域、局部作用域和块级作用域是如何工作的？
challengeType: 19
dashedName: what-is-scope-in-programming-and-how-does-global-local-and-block-scope-work
---

# --interactive--

编程中的作用域指的是变量在代码不同部分中的可见性和可访问性。它决定了变量可以在哪里被访问或修改。在JavaScript中，理解作用域对于编写干净、高效且无错误的代码至关重要。有三种主要的作用域类型：全局作用域、局部作用域和块级作用域。

全局作用域是JavaScript程序中最外层的作用域。在全局作用域中声明的变量可以从代码的任何地方访问，包括函数和块内。这些变量通常被称为全局变量。虽然全局变量可能很方便，但应该谨慎使用，因为它们可能导致命名冲突并使代码更难维护。下面是全局变量的示例：

:::interactive_editor

```js
let globalVar = "我是一个全局变量";

function printGlobalVar() {
    console.log(globalVar);
}

printGlobalVar(); // "我是一个全局变量"
```

:::

在这个示例中，`globalVar`在全局作用域中声明，可以在`printGlobalVar`函数内访问。

另一方面，局部作用域指的是只能在函数内访问的变量。下面是局部作用域的示例：

:::interactive_editor

```js
function greet() {
    let message = "你好，局部作用域！";
    console.log(message);
}

greet(); // "你好，局部作用域！"
// console.log(message); // 这将抛出错误
```

:::

在这段代码中，`message`是`greet`函数内的局部变量。它可以在函数内使用，但试图在函数外访问它将导致错误。

块级作用域是ES6中引入`let`和`const`关键字时的概念。块是花括号`{}`内的任何代码部分，例如在`if`语句、`for`循环或`while`循环中。循环的概念将在后续课程中讲解。

使用`let`或`const`在块内声明的变量只能在该块内访问。下面是块级作用域的示例：

```js
if (true) {
    let blockVar = "我在一个块中";
    console.log(blockVar); // "我在一个块中"
}
console.log(blockVar); // 这将抛出错误
```

在这个示例中，`blockVar`只能在`if`块内访问。试图在块外访问它将导致错误。理解这些不同类型的作用域对于管理变量可访问性和避免代码中的意外副作用至关重要。

应该谨慎使用全局变量，因为它们可能导致命名冲突并使代码更难维护。局部变量有助于保持代码不同部分的隔离，这在大型程序中特别有用。使用`let`和`const`的块级作用域提供了对变量可访问性的更精细控制，有助于防止错误并使代码更可预测。掌握全局、局部和块级作用域的基本概念将为理解更高级的主题提供坚实的基础。

# --questions--

## --text--

下面代码的输出是什么？

```js
let x = 10;

function printX() {
    let x = 20;
    console.log(x);
}

printX();
console.log(x);
```

## --answers--

`20`, `20`

### --feedback--

考虑局部作用域如何在函数中工作，以及它如何与全局作用域中的变量交互。

---

`20`, `10`

---

`10`, `10`

### --feedback--

考虑局部作用域如何在函数中工作，以及它如何与全局作用域中的变量交互。

---

`10`, `20`

### --feedback--

考虑局部作用域如何在函数中工作，以及它如何与全局作用域中的变量交互。

## --video-solution--

2

## --text--

在以下代码中，试图在块外访问`blockVar`的结果是什么？

```js
if (true) {
    let blockVar = "你好";
}
console.log(blockVar);
```

## --answers--

它将打印`"你好"`。

### --feedback--

记住使用`let`声明的变量的块级作用域是如何工作的。

---

它将打印`undefined`。

### --feedback--

请记住使用`let`声明的变量的块级作用域是如何工作的。

---

它将抛出一个`ReferenceError`。

---

它将打印`null`。

### --feedback--

记住使用`let`声明的变量的块级作用域是如何工作的。

## --video-solution--

3

## --text--

以下哪项正确描述了在脚本顶层（任何函数或块之外）使用`let`声明的变量的作用域？

## --answers--

函数作用域。

### --feedback--

想一想，在脚本顶层声明的变量在哪里可以访问。

---

块级作用域。

### --feedback--

想一想，在脚本顶层声明的变量在哪里可以访问。

---

全局作用域。

---

局部作用域。

### --feedback--

想一想，在脚本顶层声明的变量在哪里可以访问。

## --video-solution--

3