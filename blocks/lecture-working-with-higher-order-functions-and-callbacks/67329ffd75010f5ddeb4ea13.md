---
id: 67329ffd75010f5ddeb4ea13
title: 什么是回调函数，它如何与 forEach 方法一起工作？
challengeType: 19
dashedName: what-is-a-callback-function-and-how-does-it-work-with-the-foreach-method
---

# --interactive--

在 JavaScript 中，回调函数是作为参数传递给另一个函数的函数，并在主函数完成执行后执行。这是一种确保某些代码在先前操作完成后才执行的方式。

这个概念对于理解 JavaScript 的许多方面是基础性的，包括 `forEach` 方法的工作原理。

让我们从理解简单上下文中的回调函数开始。

想象你有一个执行任务的函数，你想在该任务完成后做些什么。你可以不把所有代码写在一个大函数中，而是传递第二个函数（回调函数）在第一个函数完成后执行。这允许更灵活和模块化的代码。

现在，让我们介绍 `forEach` 方法。`forEach` 是 JavaScript 中数组的内置方法。它允许你遍历数组中的每个元素并对每个元素执行操作。你想执行的操作在你提供给 `forEach` 的回调函数中定义。

以下是 `forEach` 如何与回调函数一起工作的示例：

:::interactive_editor

```js
let numbers = [1, 2, 3, 4, 5];

numbers.forEach(function(number) {
  console.log(number * 2);
});
```

:::

在这个示例中，我们有一个数字数组。我们在该数组上使用 `forEach` 方法，并向 `forEach` 提供一个回调函数作为参数。

这个回调函数接受一个参数，代表数组中的每个元素。`forEach` 方法将为数组中的每个元素调用这个回调函数一次。

在这种情况下，回调函数将每个数字乘以 `2` 并记录结果。因此，当这段代码运行时，它将输出：

```md
2
4
6
8
10
```

重要的是要理解回调函数按顺序为数组中的每个元素调用一次。`forEach` 为你处理循环，所以你不必自己写 `for` 循环。

你也可以使用箭头函数作为回调函数，这可以使你的代码更加简洁：

:::interactive_editor

```js
let numbers = [1, 2, 3, 4, 5];
numbers.forEach(number => console.log(number * 2));
```

:::

这与前面的示例完全相同，但代码更少。

`forEach` 中的回调函数实际上最多可以接受三个参数：当前元素、当前元素的索引和调用 `forEach` 的数组。

以下是使用所有三个参数的示例：

:::interactive_editor

```js
let numbers = [1, 2, 3, 4, 5];
numbers.forEach((number, index, array) => {
  console.log(`Element ${number} is at index ${index} in array ${array}`);
});
```

:::

这将记录有关每个元素、其索引和原始数组的信息。

理解回调函数和像 `forEach` 这样的方法很重要，因为当你在 JavaScript 中进步时，它们构成了许多更高级概念的基础，特别是在异步编程中，你将在未来的课程中学习。

# --questions--

## --text--

JavaScript 中回调函数的主要目的是什么？

## --answers--

创建新数组。

### --feedback--

想想为什么我们可能想把一个函数作为参数传递给另一个函数。

---

在另一个操作完成后执行代码。

---

定义新变量。

### --feedback--

想想为什么我们可能想把一个函数作为参数传递给另一个函数。

---

替换 `for` 循环。

### --feedback--

想想为什么我们可能想把一个函数作为参数传递给另一个函数。

## --video-solution--

2

## --text--

`forEach` 中的回调函数被调用多少次？

## --answers--

一次。

### --feedback--

考虑 `forEach` 如何遍历数组。

---

两次。

### --feedback--

考虑 `forEach` 如何遍历数组。

---

数组中每个元素一次。

---

取决于数组的大小。

### --feedback--

考虑 `forEach` 如何遍历数组。

## --video-solution--

3

## --text--

以下哪项不是可以传递给 `forEach` 回调函数的参数？

## --answers--

当前元素。

### --feedback--

记住我们提到的 `forEach` 可以提供给其回调的三个参数。

---

当前元素的索引。

### --feedback--

记住我们提到的 `forEach` 可以提供给其回调的三个参数。

---

调用 `forEach` 的数组。

### --feedback--

记住我们提到的 `forEach` 可以提供给其回调的三个参数。

---

数组的长度。

## --video-solution--

4