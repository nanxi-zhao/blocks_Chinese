id: 67fe8399c41a212871025f96
title: What Are Lists and How Do They Work?
challengeType: 19
dashedName: what-are-lists-and-how-do-they-work
---

# --description--

在接下来的几节课里，我们会一起学习列表（list）、元组（tuple）和 range，它们是 Python 中三种基本的序列类型。

列表是一种有序的元素序列，元素可以是字符串、数字，甚至是其他列表。像 JavaScript 一样，列表是可变的（mutable），并使用从零开始的索引（zero-based indexing），这意味着第一个元素的索引是 `0`。

下面是创建列表的基本写法：

```py
cities = ['Los Angeles', 'London', 'Tokyo']
```

要访问 `cities` 列表中的元素，可以通过索引号来引用。例如，访问 `cities` 列表的第一个元素可以这样写：

```py
cities = ['Los Angeles', 'London', 'Tokyo']
cities[0] # 'Los Angeles'
```

使用负索引可以从列表末尾开始访问元素，而不是从索引 `0` 开始。要访问列表的最后一个元素，可以使用 `-1`，例如：

```py
cities = ['Los Angeles', 'London', 'Tokyo']
cities[-1] # 'Tokyo'
```

另一种创建列表的方法是使用 `list()` 构造器，它可以把可迭代对象转换为列表，例如：

```py
developer = 'Jessica'
list(developer) # ['J', 'e', 's', 's', 'i', 'c', 'a']
```

可迭代对象（iterable）是一类可以逐项遍历的对象——关于循环（loops）的内容我们会在后面详细学习。

要获取列表中元素的数量，可以使用 `len()` 函数：

```py
numbers = [1, 2, 3, 4, 5]
len(numbers) # 5
```

如果想更新列表中特定索引处的值，可以像下面这样操作：

```py
programming_languages = ['Python', 'Java', 'C++', 'Rust']
programming_languages[0] = 'JavaScript'
print(programming_languages) # ['JavaScript', 'Java', 'C++', 'Rust']
```

因为列表是可变的，你可以更新列表中的任意元素，只要提供的索引在有效范围内。如果你传入的索引（正向或负向）超出了列表范围，就会抛出 `IndexError`：

```py
programming_languages = ['Python', 'Java', 'C++', 'Rust']
programming_languages[10] = 'JavaScript'

"""
Traceback (most recent call last):
  File "<stdin>", line 2, in <module>
IndexError: list assignment index out of range
"""
```

如果想从列表中删除某个元素，可以使用 `del` 关键字，例如：

```py
developer = ['Jane Doe', 23, 'Python Developer']
del developer[1]
print(developer) # ['Jane Doe', 'Python Developer']
```

有时候我们需要检查某个元素是否在列表中，这时可以使用 `in` 关键字：

```py
programming_languages = ['Python', 'Java', 'C++', 'Rust']

'Rust' in programming_languages # True
'JavaScript' in programming_languages # False
```

列表里也经常出现嵌套列表（列表中包含列表）的情况，例如：

```py
developer = ['Alice', 25, ['Python', 'Rust', 'C++']]
```

在这个例子中，嵌套的子列表包含了三种常见的编程语言。要访问嵌套的子列表，需要使用索引 `2`（因为索引从 0 开始）：

```py
developer = ['Alice', 25, ['Python', 'Rust', 'C++']]
developer[2] # ['Python', 'Rust', 'C++']
```

如果想访问嵌套列表中的第二个语言，可以再使用一次索引，例如：

```py
developer = ['Alice', 25, ['Python', 'Rust', 'C++']]
developer[2][1] # 'Rust'
```

另一个常见的技巧是对列表进行解包（unpacking）。

把列表的值解包到新的变量里，是一种很方便的赋值方式。下面示例把 `developer` 列表解包到 `name`、`age` 和 `job` 三个变量中：

```py
developer = ['Alice', 34, 'Rust Developer']
name, age, job = developer

print(name) # 'Alice'
print(age) # 34
print(job) # 'Rust Developer'
```

此时 `name` 的值为 `'Alice'`，`age` 的值为 `34`，`job` 的值为 `'Rust Developer'`。

如果需要收集剩余的元素，可以使用星号（`*`）操作符：

```py
developer = ['Alice', 34, 'Rust Developer']
name, *rest = developer

print(name) # 'Alice'
print(rest) # [34, 'Rust Developer']
```

在这个例子里，`name` 仍然是 `'Alice'`，而 `rest` 则是一个包含剩余两个元素的列表。

如果左侧变量的数量与列表项的数量不匹配，会抛出 `ValueError`：

```py
developer = ['Alice', 34, 'Rust Developer']
name, age, job, city = developer

"""
Traceback (most recent call last):
  File "<stdin>", line 2, in <module>
ValueError: not enough values to unpack (expected 4, got 3)
"""
```

最后我们来看切片操作符（`:`）。类似于字符串，切片可以用来访问列表中的一部分：

```py
desserts = ['Cake', 'Cookies', 'Ice Cream', 'Pie', 'Brownies']
desserts[1:4] # ['Cookies', 'Ice Cream', 'Pie']
```

在这个例子中，起始索引是 `1`（第二个元素），结束索引是 `4`，切片会包含起始索引到结束索引之前的所有元素。

切片还可以指定步长（step），决定索引之间的跳跃幅度。比如下面有一个数字列表：

```py
numbers = [1, 2, 3, 4, 5, 6]
```

如果想提取所有偶数，可以这样使用切片：

```py
numbers = [1, 2, 3, 4, 5, 6]
numbers[1::2] # [2, 4, 6]
```

因为第一个偶数在索引 `1`，所以把起始索引设为 `1`，末尾留空表示到列表末尾，步长设为 `2`，这样每隔一个元素取一次，就能得到偶数序列。

列表是非常有用且灵活的数据结构，你会在很多 Python 程序中频繁使用。下一节课我们会学习列表常用的方法。

# --questions--

## --text--

下面哪些关于列表的描述是正确的？

## --answers--

它们是从二开始索引的。

### --feedback--

请参考本节课开头的内容寻找答案。

---

它们是从零开始索引的。

---

它们只在类（class）内部使用。

### --feedback--

请参考本节课开头的内容寻找答案。

---

它们在 Python 程序中很少使用。

### --feedback--

请参考本节课开头的内容寻找答案。

## --video-solution--

2

## --text--

下面哪种方法可以正确访问列表中的第二个元素？

```py
cities = ['Los Angeles', 'London', 'Tokyo']
```

## --answers--

`cities[1]`

---

`cities[2]`

### --feedback--

请参考本节课开头的内容寻找答案。

---

`cities[0]`

### --feedback--

请参考本节课开头的内容寻找答案。

---

`cities[-1]`

### --feedback--

请参考本节课开头的内容寻找答案。

## --video-solution--

1

## --text--

下面哪种方法可以正确访问倒数第二个元素？

```py
numbers = [1, 2, 3, 4, 5, 6]
```

## --answers--

`numbers[-5]`

### --feedback--

请记住，使用负索引可以从列表末尾开始访问元素。

---

`numbers[2]`

### --feedback--

请记住，使用负索引可以从列表末尾开始访问元素。

---

`numbers[0]`

### --feedback--

请记住，使用负索引可以从列表末尾开始访问元素。

---

`numbers[-2]`

## --video-solution--

4
