---
id: 6839e4d62ae09d1661e4cf9b
title: What Are List Comprehensions and What Are Some Useful Functions to Work With Lists?
challengeType: 19
dashedName: what-are-list-comprehensions-and-what-are-some-useful-functions-to-work-with-lists
---

# --description--
# --description--

前几节我们已经熟悉了循环模式。现在学习更简洁的写法：列表推导（list comprehension）以及一些对列表很有用的函数，如 `map()`、`filter()` 和 `sum()`。

例如，下面的代码通过循环与条件筛选出 0–20 之间的偶数：

```py
even_numbers = []
for num in range(21):
    if num % 2 == 0:
        even_numbers.append(num)
print(even_numbers)
```

使用列表推导可以把上面的逻辑写成一行：

```py
even_numbers = [num for num in range(21) if num % 2 == 0]
print(even_numbers)
```

列表推导既简洁又清晰，适合大多数简单的生成场景。你也可以在推导中使用条件表达式来生成复杂结果，例如把数字标注为奇偶：

```py
numbers = [1, 2, 3, 4, 5]
result = [(num, 'Even') if num % 2 == 0 else (num, 'Odd') for num in numbers]
print(result)
# [(1, 'Odd'), (2, 'Even'), (3, 'Odd'), (4, 'Even'), (5, 'Odd')]
```

`filter()` 可以根据条件筛选已有可迭代对象，例如挑选长度大于 4 的单词：

```py
words = ['tree', 'sky', 'mountain', 'river', 'cloud', 'sun']
def is_long_word(word):
    return len(word) > 4
long_words = list(filter(is_long_word, words))
print(long_words) # ['mountain', 'river', 'cloud']
```

`map()` 会把一个函数应用到可迭代对象的每个元素上，比如把摄氏度转换为华氏度：

```py
celsius = [0, 10, 20, 30, 40]
def to_fahrenheit(temp):
    return (temp * 9/5) + 32
fahrenheit = list(map(to_fahrenheit, celsius))
print(fahrenheit) # [32.0, 50.0, 68.0, 86.0, 104.0]
```

`sum()` 用于计算可迭代对象元素之和，支持可选的 `start` 初始值：

```py
numbers = [5, 10, 15, 20]
total = sum(numbers, start=10)
print(total) # 60
```

这些工具看起来可能有点多，但多练习几次就能得心应手，能显著提高代码的简洁性与可读性。继续加油！

# --questions--

## --text--

Which of the following is the correct way to use list comprehension?

## --answers--

```py
[while for loop num in range(21)]
```

### --feedback--

Review the beginning of the lesson for the answer.

---

```py
## --video-solution--

2

## --text--

下面哪种写法是正确使用列表推导的方式？

## --answers--

```py
[while for loop num in range(21)]
```

### --feedback--

请复习本节课开头寻找答案。

---

```py
[num for num in range(21) if num % 2 == 0]
```

---

```py
[num for num]
```

### --feedback--

请复习本节课开头寻找答案。

---

```py
[for num in range(21) if num % 2 == 0]
```

### --feedback--

请复习本节课开头寻找答案。

## --video-solution--

2

## --text--

下面哪个函数会将一个函数应用到可迭代对象的每个元素上？

## --answers--

`memoryview`

### --feedback--

想想哪个函数会把转换“映射”到列表中的每个元素上。

---

`map`

---

`max`

### --feedback--

想想哪个函数会把转换“映射”到列表中的每个元素上。

---

`min`

### --feedback--

想想哪个函数会把转换“映射”到列表中的每个元素上。

## --video-solution--

2

## --text--

下面代码会打印出什么？

```py
numbers = [5, 10, 15, 20]
total = sum(numbers, start=10)
print(total) # ?
```

## --answers--

`60`

---

`50`

### --feedback--

复习本节课结尾部分寻找答案。

---

`40`

### --feedback--

复习本节课结尾部分寻找答案。

---

`70`

### --feedback--

复习本节课结尾部分寻找答案。

## --video-solution--

1
