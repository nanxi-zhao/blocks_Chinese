---
id: 6732c04638420641dcca2e6e
title: For...of 循环是如何工作的，什么时候应该使用它？
challengeType: 19
dashedName: how-does-the-for-of-loop-work-and-when-should-you-use-it
---

# --interactive--

`for...of` 循环用于需要遍历可迭代对象的值时。可迭代对象的例子包括数组和字符串。

以下是 `for...of` 循环的基本语法：

```js
for (变量 of 可迭代对象) {
  // 要执行的代码块
}
```

示例中的变量表示正在遍历的可迭代对象的当前值。

如果你有一个数字数组，变量将是数组中的当前数字。如果你有一个字符串，变量将是字符串中的当前字符。

让我们看几个例子，这样你可以更好地理解 `for...of` 循环的工作原理。

在第一个例子中，我们有一个数字数组，我们想要遍历每个数字并将其记录到控制台。

:::interactive_editor

```js
const numbers = [1, 2, 3, 4, 5];

for (const num of numbers) {
  console.log(num);
}
```

:::

我们创建了一个名为 `num` 的变量，它将表示数组中的当前数字。对于第一次迭代，`num` 将是 `1`，对于第二次迭代，`num` 将是 `2`，以此类推。

在循环内部，我们将当前数字记录到控制台。

这里是另一个例子，我们有一个字符串，我们想要遍历每个字符并将其记录到控制台。

:::interactive_editor

```js
const str = 'MasterPuti';

for (let char of str) {
  console.log(char);
}
```

:::

在这个例子中，我们创建了一个名为 `char` 的变量，它将表示字符串中的当前字符。

对于每次迭代，循环将当前字符记录到控制台。

需要注意的是，在 `for...of` 循环中声明变量时可以使用 `let` 或 `const`。

但是，如果你要使用 `const`，请确保变量的值在循环内部不会改变。如果改变了，你会得到一个错误。

这里是使用 `const` 导致错误的例子：

```js
const numbers = [1, 2, 3, 4, 5];

for (const num of numbers) {
  console.log(num);
  num = num + 1; // 这将导致错误
}
```

在这个例子中，我们试图在循环内部改变 `num` 的值。由于我们用 `const` 声明了 `num`，我们会得到一个错误。所以，如果你需要在循环内部改变变量的值，请改用 `let`。

让我们看最后一个处理对象数组的例子。

:::interactive_editor

```js
const people = [
  { name: 'John', age: 30 },
  { name: 'Jane', age: 25 },
  { name: 'Jim', age: 40 }
];

for (const person of people) {
  console.log(`${person.name} is ${person.age} years old`);
}
```

:::

在这个例子中，我们有一个名为 `people` 的对象数组。每个对象都有一个 `name` 和 `age` 属性。

当我们遍历数组时，我们创建了一个名为 `person` 的变量，它将表示数组中的当前对象。

在循环内部，我们向控制台输出一条消息。

第一条消息将是 `John is 30 years old`，第二条消息将是 `Jane is 25 years old`，第三条消息将是 `Jim is 40 years old`。

`for...of` 循环在需要遍历数组或字符串等可迭代对象的值时非常有用。它们也易于阅读，可以使你的代码更简洁。

# --questions--

## --text--

以下代码的输出将是什么？

```js
const colors = ['red', 'green', 'blue'];

for (const color of colors) {
  console.log(color);
}
```

## --answers--

```md
red
green
blue
```

---

```md
red
red
red
```

### --feedback--

想想循环中的 `color` 变量代表什么。

---

```md
color
color
color
```

### --feedback--

想想循环中的 `color` 变量代表什么。

---

```md
blue
blue
red
red
green
green
```

### --feedback--

想想循环中的 `color` 变量代表什么。

## --video-solution--

1

## --text--

如果你试图在 `for...of` 循环中重新分配用 `const` 声明的变量的值会发生什么？

## --answers--

值被成功重新分配。

### --feedback--

想想 `const` 的含义以及它与重新分配值的关系。

---

循环将跳过发生重新分配的迭代。

### --feedback--

想想 `const` 的含义以及它与重新分配值的关系。

---

将发生错误。

---

循环将立即终止。

### --feedback--

想想 `const` 的含义以及它与重新分配值的关系。

## --video-solution--

3

## --text--

在以下代码片段中，什么被记录到控制台？

```js
const fruits = ['apple', 'banana', 'cherry'];

for (let fruit of fruits) {
  console.log(fruit.toUpperCase());
}
```

## --answers--

```md
APPLE
APPLE
APPLE
```

### --feedback--

想想 fruit 变量在循环中代表什么以及 `toUpperCase` 方法是如何工作的。

---

```md
apple
banana
cherry
```

### --feedback--

想想 fruit 变量在循环中代表什么以及 `toUpperCase` 方法是如何工作的。

---

```md
APPLE
BANANA
CHERRY
```

---

```md
FRUIT
FRUIT
FRUIT
```

### --feedback--

想想 fruit 变量在循环中代表什么以及 `toUpperCase` 方法是如何工作的。

## --video-solution--

3