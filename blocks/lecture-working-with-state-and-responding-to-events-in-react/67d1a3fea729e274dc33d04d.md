---
id: 67d1a3fea729e274dc33d04d
title: React中的事件是如何工作的？
challengeType: 19
dashedName: how-do-events-work-in-react
---

# --description--

事件处理是每个交互式网站的重要组成部分。

React通过其合成事件系统提供了一种强大且一致的处理事件的方法，这是对原生事件（如您在早期课程中了解到的`click`、`keydown`和`submit`）的包装。

这个跨浏览器的包装器确保事件在所有浏览器中都能以相同的方式工作，因此不存在不一致性。

让我们看看React中的事件是如何工作的，这样你就可以开始在项目中使用它们了。

在React中，事件处理程序的工作方式与原生浏览器事件类似，但有一些调整。

React使用驼峰命名法，如`onClick`和`onSubmit`，而不是使用小写的事件属性名称如`onclick`和`onsubmit`。

此外，React期望事件处理程序是一个函数，而不是使用字符串来指定事件类型。

事件处理函数作为prop传递给元素，而事件类型如`onClick`或`onSubmit`在JSX中用作属性。

以下是提醒您如何在普通HTML中处理点击事件：

```html
<button onclick="alert('Button clicked!')">Click Me</button>
```

以下是您在React中执行相同操作的方法：

```jsx
function handleClick() {
  console.log("Button clicked!");
}

<button onClick={handleClick}>Click Me</button>;
```

在这个例子中，当用户点击按钮时，`handleClick`会在控制台记录一条消息。

请注意，在`onClick`属性中`handleClick`后面不需要括号，因为您传递的是函数的引用，而不是调用它。

在React中，事件处理函数通常以`handle`前缀开头，以表明它们负责处理事件，如`handleClick`或`handleSubmit`。

当用户操作触发事件时，React会将一个合成事件对象传递给您的处理程序。这个对象的行为非常像原生JavaScript中的原生事件对象，提供诸如`type`、`target`和`currentTarget`等属性。

您可以将`event`作为参数传递给处理函数并在控制台中记录它以查看其结构：

```js
function handleClick(event) {
  console.log(event);
}
```

为了防止默认行为，比如在`onSubmit`事件期间浏览器刷新，您可以调用`preventDefault()`方法：

```jsx
function handleSubmit(event) {
  event.preventDefault();
  console.log("Form submitted!");
}

<form onSubmit={handleSubmit}>
  <input type="text" />
  <button>Submit</button>
</form>;
```

您也可以通过调用`event.stopPropagation()`来阻止事件冒泡到父元素。

有时，在处理特殊情况如删除和编辑功能时，您可能希望向事件处理程序传递额外数据。您可以通过将处理程序包装在内联箭头函数中来实现：

```jsx
function handleDelete(id) {
  console.log("Deleting item:", id);
}

<button onClick={() => handleDelete(1)}>Delete Item</button>;
```

在React中使用内联事件处理程序是可以的，因为React高效地管理重新渲染并避免性能问题。

在原生JavaScript中，内联事件处理程序可能会通过在每次渲染时创建新函数而导致性能问题，因为没有虚拟DOM来优化这个过程。

# --questions--

## --text--

React如何在不同浏览器中一致地处理事件？

## --answers--

仅使用原生浏览器事件。

### --feedback--

回顾课程开始时讨论的答案。

---

为每个浏览器创建自定义事件。

### --feedback--

回顾课程开始时讨论的答案。

---

通过其合成事件系统。

---

通过为每个事件直接修改DOM。

### --feedback--

回顾课程开始时讨论的答案。

## --video-solution--

3

## --text--

如何防止默认行为，比如在React中浏览器刷新？

## --answers--

通过使用`stopPropagation()`方法。

### --feedback--

想想阻止默认浏览器操作的方法。

---

通过调用`preventDefault()`方法。

---

通过将事件设置为`false`。

### --feedback--

想想阻止默认浏览器操作的方法。

---

通过使用`return`语句。

### --feedback--

想想阻止默认浏览器操作的方法。

## --video-solution--

2

## --text--

React与标准HTML在命名事件属性方面有何不同？

## --answers--

React使用小写事件名称如`onclick`和`onsubmit`。

### --feedback--

想想JavaScript命名约定如何应用于React中的事件。

---

React使用驼峰命名法事件名称如`onClick`和`onSubmit`。

---

React将所有事件名称大写。

### --feedback--

想想JavaScript命名约定如何应用于React中的事件。

---

React在事件名称中使用连字符如`on-click`和`on-submit`。

### --feedback--

想想JavaScript命名约定如何应用于React中的事件。

## --video-solution--

2