---
id: 67f39d848979082814c07d9c
title: 类和对象复习
challengeType: 31
dashedName: review-classes-and-objects
---

# --description--

## Python类和对象

- **类定义**：类是创建对象的蓝图。它通过其属性和方法定义对象将具有的行为。以下是Python中类定义的基本示例：

```python
class Dog:
    def __init__(self, name, age):
        self.name = name
        self.age = age

    def bark(self):
        print(f'{self.name.upper()} says woof woof!')
```

- **创建对象**：对象是类的实例。通过使用必要参数调用类来创建它们。

```python
dog1 = Dog('Jack', 3)
dog2 = Dog('Thatcher', 5)

dog1.bark()  # JACK says woof woof!
dog2.bark()  # THATCHER says woof woof!
```

- **使用对象调用方法**：你可以对对象调用方法来执行操作或检索信息。

```python
objectName1.methodName()
objectName2.methodName()
```

- **类和对象的区别**：类是可重用的模板，而对象是具有实际数据的该类的特定实例。

## 属性

- **实例属性**：在[__init__()](file:///E:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/@types/node/globals.d.ts#L136-L136)中使用[self](file:///E:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/@types/node/globals.d.ts#L136-L136)定义，对每个对象都是唯一的。
- **类属性**：直接在类内部定义，由所有实例共享。

```python
class Dog:
    species = 'French Bulldog'  # 类属性

    def __init__(self, name):
        self.name = name  # 实例属性

print(Dog.species) # French Bulldog

jack = Dog('Jack')
print(jack.name)     # Jack
print(jack.species)  # French Bulldog
```

## 方法

- **方法**：在类内部定义的函数，对对象的属性进行操作。

```python
class Car:
    def __init__(self, color, model):
        self.color = color
        self.model = model

    def describe(self):
        return f'This car is a {self.color} {self.model}'

my_car_1 = Car('red', 'Tesla Model S')
print(my_car_1.describe())  # This car is a red Tesla Model S
```

- **访问方法**：使用点符号对对象调用方法。以下是针对两个不同汽车对象调用[describe](file:///E:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/@types/node/globals.d.ts#L136-L136)方法的示例：

```python
class Car:
 def __init__(self, color, model):
   self.color = color  
   self.model = model  

 def describe(self):
   return f'This car is a {self.color} {self.model}'

my_car_1 = Car('red', 'Tesla Model S')
my_car_2 = Car('green', 'Lamborghini Revuelto')

print(my_car_1.describe()) # 使用点符号调用方法

print(my_car_2.describe()) # 使用点符号调用方法
```

## Dunder（魔法）方法

- **定义**：以双下划线开头和结尾的特殊方法（例如[__init__](file:///E:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/@types/node/globals.d.ts#L136-L136), [__len__](file:///E:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/@types/node/globals.d.ts#L136-L136), [__str__](file:///E:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/@types/node/globals.d.ts#L136-L136), [__eq__](file:///E:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/@types/node/globals.d.ts#L136-L136)）。Python在内部使用它们进行内置操作。

```python
class Book:
    def __init__(self, title, pages):
        self.title = title
        self.pages = pages

    def __len__(self):
        return self.pages

    def __str__(self):
        return f"'{self.title}' has {self.pages} pages"

    def __eq__(self, other):
        return self.pages == other.pages

book1 = Book('Built Wealth Like a Boss', 420)
print(len(book1))        # 420
print(str(book1))        # 'Built Wealth Like a Boss' has 420 pages
```

- **间接调用dunder方法**：你不需要直接调用dunder方法。相反，当某些操作发生时，Python会自动调用它们。这些操作包括：

  - **加法、减法、乘法、除法和其他算术运算**。在加法中，调用[__add__()](file:///E:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/@types/node/globals.d.ts#L136-L136)，减法调用[__sub__()](file:///E:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/@types/node/globals.d.ts#L136-L136)，乘法调用[__mul__()](file:///E:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/@types/node/globals.d.ts#L136-L136)，除法调用[__truediv__()](file:///E:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/@types/node/globals.d.ts#L136-L136)。

  - **字符串操作，如连接、重复、格式化和转换为文本**。连接调用[__add__()](file:///E:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/@types/node/globals.d.ts#L136-L136)，重复调用[__mul__()](file:///E:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/@types/node/globals.d.ts#L136-L136)，格式化调用[__format__()](file:///E:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/@types/node/globals.d.ts#L136-L136)，文本转换调用[__str__()](file:///E:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/@types/node/globals.d.ts#L136-L136)和[__repr__()](file:///E:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/@types/node/globals.d.ts#L136-L136)，等等。

  - **比较操作，如相等、小于、大于等**。相等检查调用[__eq__()](file:///E:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/@types/node/globals.d.ts#L136-L136)，小于调用[__lt__()](file:///E:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/@types/node/globals.d.ts#L136-L136)，大于调用[__gt__()](file:///E:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/@types/node/globals.d.ts#L136-L136)，等等。

  - **迭代操作，如使对象可迭代和遍历项目**。调用[__iter__()](file:///E:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/@types/node/globals.d.ts#L136-L136)返回迭代器，调用[__next__()](file:///E:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/@types/node/globals.d.ts#L136-L136)获取下一项。

## 现实世界示例：购物车

- **带有Dunder方法的购物车类**：允许添加、删除、迭代和检查内容，并具有内置行为。

```python
class Cart:
    def __init__(self):
        self.items = []

    def add(self, item):
        self.items.append(item)

    def remove(self, item):
        if item in self.items:
            self.items.remove(item)
        else:
            print(f'{item} is not in cart')

    def list_items(self):
        return self.items

    def __len__(self):
        return len(self.items)

    def __getitem__(self, index):
        return self.items[index]

    def __contains__(self, item):
        return item in self.items

    def __iter__(self):
        return iter(self.items)

cart = Cart()
cart.add('Laptop')
print(len(cart))        # 1
print('Laptop' in cart) # True
```

# --assignment--

复习类和对象的主题和概念。