---
id: 67f39b91583dec1e1eddbb9e
title: 循环和序列复习
challengeType: 31
dashedName: review-loops-and-sequences
---

# --description--

## Python列表

- **介绍**：在Python中，列表数据类型是由字符串、数字甚至其他列表组成的有序元素序列。列表是可变的且基于零索引。

```python
cities = ['Los Angeles', 'London', 'Tokyo']
```

- **访问列表中的元素**：要从`cities`列表中访问元素，可以引用其在序列中的索引号：

```python
cities = ['Los Angeles', 'London', 'Tokyo']
cities[0] # Los Angeles
```

- **使用负索引访问元素**：要访问任何列表的最后一个元素，可以使用`-1`作为索引号：

```python
cities = ['Los Angeles', 'London', 'Tokyo']
cities[-1] # Tokyo
```

- 负索引用于从列表末尾而不是从索引`0`开始访问元素。

- **使用`list()`构造函数创建列表**：也可以使用`list()`构造函数创建列表。`list()`构造函数用于将可迭代对象转换为列表：

```python
developer = 'Jessica'

print(list(developer)) 
# 结果: ['J', 'e', 's', 's', 'i', 'c', 'a']
```

- **查找列表的长度**：可以使用`len()`函数获取列表的长度：

```python
numbers = [1, 2, 3, 4, 5]
len(numbers) # 5
```

- **列表可变性**：列表是可变的，这意味着只要传入有效的索引号，就可以更新列表中的任何元素。要更新特定索引处的列表，可以为该索引分配新值：

```python
programming_languages = ['Python', 'Java', 'C++', 'Rust']
programming_languages[0] = 'JavaScript'
print(programming_languages) # ['JavaScript', 'Java', 'C++', 'Rust']
```

- **索引超出范围错误**：如果传入超出列表范围的索引（正数或负数），则会收到`IndexError`：

```python
programming_languages = ['Python', 'Java', 'C++', 'Rust']
programming_languages[10] = 'JavaScript'

"""
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
IndexError: list assignment index out of range
"""
```

- **从列表中删除元素**：可以使用`del`关键字从列表中删除元素：

```python
developer = ['Jane Doe', 23, 'Python Developer']
del developer[1]
print(developer) # ['Jane Doe', 'Python Developer']
```

- **检查元素是否存在于列表中**：可以使用`in`关键字检查元素是否存在于列表中：

```py
programming_languages = ['Python', 'Java', 'C++', 'Rust']

'Rust' in programming_languages # True
'JavaScript' in programming_languages # False
```

- **嵌套列表**：列表可以嵌套在其他列表中：

```python
developer = ['Alice', 25, ['Python', 'Rust', 'C++']]
```

- 要访问嵌套列表，需要使用索引`2`来访问，因为列表是基于零索引的。

```python
developer = ['Alice', 25, ['Python', 'Rust', 'C++']]
developer[2] # ['Python', 'Rust', 'C++']
```

- 要进一步访问嵌套列表中的第二种语言，需要使用索引`1`来访问：

```python
developer = ['Alice', 25, ['Python', 'Rust', 'C++']]
developer[2][1] # Rust
```

- **从列表中解包值**：从列表中解包值是一种将列表中的值分配给新变量的技术。以下是将`developer`列表解包到名为`name`、`age`和`job`的新变量中的示例：

```py
developer = ['Alice', 34, 'Rust Developer']
name, age, job = developer
```

- **收集列表中的剩余项目**：要收集列表中的任何剩余元素，可以使用星号（`*`）运算符，如下所示：

```py
developer = ['Alice', 34, 'Rust Developer']
name, *rest = developer
```

- 如果赋值运算符左侧的变量数量与列表中的项目总数不匹配，则会收到`ValueError`。

- **切片列表**：切片是使用切片运算符`:`访问列表一部分的概念。要切片从索引`1`开始到索引`3`结束的列表，可以使用以下语法：

```python
desserts = ['Cake', 'Cookies', 'Ice Cream', 'Pie']
desserts[1:3] # ['Cookies', 'Ice Cream']
```

- **步长间隔**：也可以指定步长间隔，确定索引之间的增量。以下是使用切片提取偶数列表的示例：

```python
numbers = [1, 2, 3, 4, 5, 6]
numbers[1::2] # [2, 4, 6]
```

## 列表方法

- **append()**：用于在列表末尾添加项目。以下是使用`append()`方法将数字`6`添加到`numbers`列表的示例：

```py
numbers = [1, 2, 3, 4, 5]
numbers.append(6)
print(numbers) # [1, 2, 3, 4, 5, 6]
```

- **追加列表**：`append()`方法也可用于在另一个列表末尾添加一个列表：

```py
numbers = [1, 2, 3, 4, 5]
even_numbers = [6, 8, 10]

numbers.append(even_numbers)
print(numbers) # [1, 2, 3, 4, 5, [6, 8, 10]]
```

- **extend()**：用于在列表末尾添加多个项目。以下是将数字`6`、`8`和`10`添加到`numbers`列表末尾的示例：

```py
numbers = [1, 2, 3, 4, 5]
even_numbers = [6, 8, 10]

numbers.extend(even_numbers)
print(numbers) # [1, 2, 3, 4, 5, 6, 8, 10]
```

- **insert()**：用于在列表的特定索引处插入项目。以下是使用`insert()`方法的示例：

```py
numbers = [1, 2, 3, 4, 5]
numbers.insert(2, 2.5)

print(numbers) # [1, 2, 2.5, 3, 4, 5]
```

- **remove()**：用于从列表中删除项目。`remove()`方法只会删除列表中项目的第一次出现：

```py
numbers = [1, 2, 3, 4, 5, 5, 5]
numbers.remove(5)

print(numbers) # [1, 2, 3, 4, 5, 5]

```

- **pop()**：用于从列表中删除特定项目并返回它：

```py
numbers = [1, 2, 3, 4, 5]
numbers.pop(1) # 数字2被返回
```

- 如果没有为`pop`方法指定元素，则删除最后一个元素。

```py
numbers = [1, 2, 3, 4, 5]
numbers.pop() # 数字5被返回
```

- **clear()**：用于从列表中删除所有项目：

```py
numbers = [1, 2, 3, 4, 5]
numbers.clear()

print(numbers) # []
```

- **sort()**：`sort()`方法用于就地排序元素。以下是就地排序随机`numbers`列表的示例：

```py
numbers = [19, 2, 35, 1, 67, 41]
numbers.sort()

print(numbers) # [1, 2, 19, 35, 41, 67]
```

- **sorted()**：用于排序列表中的元素并返回新的排序列表，而不是修改原始列表。

- **reverse()**：用于反转列表中元素的顺序：

```py
numbers = [6, 5, 4, 3, 2, 1]
numbers.reverse()

print(numbers) # [1, 2, 3, 4, 5, 6]
```

- **index()**：用于查找元素在列表中首次出现的索引：

```python
programming_languages = ['Rust', 'Java', 'Python', 'C++']
programming_languages.index('Java') # 1
```

- 如果使用`index()`方法找不到元素，则结果将是`ValueError`。

## Python中的元组

- **定义**：元组是Python数据类型，用于创建有序的值序列。元组可以包含混合的数据类型：

```py
developer = ('Alice', 34, 'Rust Developer')
```

- 元组是不可变的，这意味着元组中的元素一旦创建就不能更改。如果尝试更新元组中的项目，将收到`TypeError`：

```py
programming_languages = ('Python', 'Java', 'C++', 'Rust')
programming_languages[0] = 'JavaScript'

"""
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: "tuple" object does not support item assignment
"""
```

- **从元组中访问元素**：要从元组中访问元素，使用方括号表示法和索引号：

```py
developer = ('Alice', 34, 'Rust Developer')
developer[1] # 34
```

- 可以使用负索引从元组末尾开始访问元素：

```py
numbers = (1, 2, 3, 4, 5)
numbers[-2] # 4
```

- 如果尝试传入超过或等于元组长度的索引号，则会收到`IndexError`：

```py
numbers = (1, 2, 3, 4, 5)
numbers[7]

"""
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
IndexError: tuple index out of range
"""
```

- 也可以使用`tuple()`构造函数创建元组。在构造函数中，可以传入不同的可迭代对象，如字符串、列表甚至其他元组。

```python
developer = 'Jessica'

print(tuple(developer)) 
# 结果: ('J', 'e', 's', 's', 'i', 'c', 'a')
```

- **验证元组中的项目**：要检查项目是否在元组中，可以使用`in`关键字，如下所示：

```py
programming_languages = ('Python', 'Java', 'C++', 'Rust')

'Rust' in programming_languages # True
'JavaScript' in programming_languages # False
```

- **解包元组**：可以像这样从元组中解包项目：

```py
developer = ('Alice', 34, 'Rust Developer')
name, age, job = developer
```

- 如果需要收集元组中的任何剩余元素，可以使用星号（`*`）运算符，如下所示：

```py
developer = ('Alice', 34, 'Rust Developer')
name, *rest = developer
```

- **切片元组**：切片可用于提取元组的一部分。例如，项目`pie`和`cookies`可以切片到单独的元组中：

```py
desserts = ('cake', 'pie', 'cookies', 'ice cream')
desserts[1:3] # ('pie', 'cookies')
```

- **从元组中删除项目**：从元组中删除项目将引发`TypeError`，因为元组是不可变的：

```py
developer = ('Jane Doe', 23, 'Python Developer')
del developer[1]

"""
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: "tuple" object doesn't support item deletion
"""
```

- **何时使用元组而不是列表？**：如果你需要一个动态的元素集合，可以在其中添加、删除和更新元素，则应使用列表。如果你知道正在处理固定且不可变的数据集合，则应使用元组。

## 常见元组方法

- **`count()`**：用于确定项目在元组中出现的次数。例如，可以检查语言`'Rust'`在元组中出现的次数：

```py
programming_languages = ('Rust', 'Java', 'Python', 'C++', 'Rust')
programming_languages.count('Rust') # 2
```

- 如果`count()`函数中指定的项目在元组中根本不存在，则返回值将为`0`：

```py
programming_languages = ('Rust', 'Java', 'Python', 'C++', 'Rust')
programming_languages.count('JavaScript') # 0
```

- 如果没有向`count()`函数传递任何参数，则Python将返回`TypeError`。

- **index()**：用于查找特定项目在元组中的索引。以下是使用`index()`方法查找语言`'Java'`索引的示例：

```py
programming_languages = ('Rust', 'Java', 'Python', 'C++', 'Rust')
programming_languages.index('Java') # 1
```

- 如果找不到指定的项目，则Python将返回`ValueError`。

- 可以向`index()`方法传递可选的起始索引，以指定在元组中开始搜索项目的位置：

```py
programming_languages = ('Rust', 'Java', 'Python', 'C++', 'Rust', 'Python')
programming_languages.index('Python', 3) # 5
```

- 也可以向`index()`方法传递可选的结束索引，以指定在元组中停止搜索项目的位置：

```py
programming_languages = ('Rust', 'Java', 'Python', 'C++', 'Rust', 'Python', 'JavaScript', 'Python')
programming_languages.index('Python', 2, 5) # 2
```

- **`sorted()`**：用于排序任何可迭代对象中的元素并返回新的排序列表。以下是使用`sorted()`函数创建新数字列表的示例：

```py
numbers = (13, 2, 78, 3, 45, 67, 18, 7)
sorted(numbers) # [2, 3, 7, 13, 18, 45, 67, 78]
```

- **修改排序行为**：可以使用可选的`reverse`和`key`参数自定义可迭代对象的排序行为。以下是使用`key`参数按长度排序元组中项目的示例：

```py
programming_languages = ('Rust', 'Java', 'Python', 'C++', 'Rust', 'Python')
sorted(programming_languages, key=len)

# 结果
# ['C++', 'Rust', 'Java', 'Rust', 'Python', 'Python']
```

- 可以使用`reverse`参数创建按相反顺序排列的新值列表，如下所示：

```py
programming_languages = ('Rust', 'Java', 'Python', 'C++', 'Rust', 'Python')

print(sorted(programming_languages, reverse=True))

# 结果
# ['Rust', 'Rust', 'Python', 'Python', 'Java', 'C++']
```

## Python中的循环

- **定义**：循环用于重复执行代码块指定次数。

- **`for`循环**：用于遍历序列（如列表、元组或字符串）并对该序列中的每个项目执行代码块。以下是使用`for`循环遍历列表并将每种语言打印到控制台的示例：

```py
programming_languages = ['Rust', 'Java', 'Python', 'C++']

for language in programming_languages:
    print(language)

"""
结果 

Rust
Java
Python
C++
"""
```

- 以下是使用`for`循环遍历字符串`code`并打印每个字符的示例：

```py
for char in 'code':
    print(char)

"""
结果 

c
o
d
e
"""
```

- `for`循环可以嵌套。以下是使用嵌套`for`循环的示例：

```py
categories = ['Fruit', 'Vegetable']
foods = ['Apple', 'Carrot', 'Banana']

for category in categories:
    for food in foods:
        print(category, food)

"""
结果

Fruit Apple
Fruit Carrot
Fruit Banana
Vegetable Apple
Vegetable Carrot
Vegetable Banana
"""

```

- **`while`循环**：重复执行代码块直到条件为`False`。以下是使用`while`循环进行猜数字游戏的示例：

```py
secret_number = 3
guess = 0

while guess != secret_number:
    guess = int(input('猜一个数字 (1-5): '))
    if guess != secret_number:
        print('错了！再试一次。')

print('你猜对了！')

"""
结果

猜一个数字 (1-5): 2
错了！再试一次。
猜一个数字 (1-5): 1
错了！再试一次。
猜一个数字 (1-5): 3
你猜对了！
"""

```

- **`break`和`continue`语句**：用于修改循环的执行。

- `break`语句用于在满足特定条件时立即退出循环。以下是使用`break`语句处理`developer_names`列表的示例：

```py
developer_names = ['Jess', 'Naomi', 'Tom']

for developer in developer_names:
    if developer == 'Naomi':
        break
    print(developer)
```

- `continue`语句用于跳过当前迭代并进入循环的下一次迭代。以下是使用`continue`语句而不是`break`语句的示例：

```py
developer_names = ['Jess', 'Naomi', 'Tom']

for developer in developer_names:
    if developer == 'Naomi':
        continue
    print(developer)
```

- `for`和`while`循环都可以与`else`子句结合使用，该子句仅在循环未被`break`终止时执行：

```python
words = ['sky', 'apple', 'rhythm', 'fly', 'orange']

for word in words:
    for letter in word:
        if letter.lower() in 'aeiou':
            print(f"'{word}' 包含元音 '{letter}'")
            break
    else:
        print(f"'{word}' 没有元音")
```

## 范围及其在循环中的使用

- **`range()`函数**：用于生成整数序列。

```py
range(start, stop, step)
```

- 必需的`stop`参数是一个整数（不包含），表示生成数字序列的终点。以下是使用`range()`函数的示例：

```py
for num in range(3):
    print(num)
```

- 如果未指定`start`参数，则默认为`0`。默认情况下，整数序列将按`1`递增。可以使用可选的`step`参数更改默认增量值。以下是生成从2到但不包括11（即包括10）的偶数整数序列的示例：

```py
for num in range(2, 11, 2):
    print(num)
```

- 如果不向`range()`函数提供任何参数，则会收到`TypeError`。

- `range()`函数只接受整数作为参数，不接受浮点数。使用浮点数也会导致`TypeError`：

```py
ERROR!
Traceback (most recent call last):
  File "<main.py>", line 1, in <module>
TypeError: 'float' object cannot be interpreted as an integer
```

- 可以为`step`参数使用负整数来生成递减顺序的整数序列：

```py
for num in range(40, 0, -10):
    print(num)
```

- `range()`函数还可以通过与`list`构造函数一起使用来创建整数列表。`list`构造函数用于将可迭代对象转换为列表。以下是生成包含2到10之间偶数整数的列表的示例：

```py
numbers = list(range(2, 11, 2))
print(numbers) # [2, 4, 6, 8, 10]
```

## Python中的`enumerate()`和`zip()`函数

- **`enumerate()`**：用于遍历序列并跟踪该序列中每个项目的索引。`enumerate()`函数将可迭代对象作为参数，并返回由索引和可迭代对象中每个项目的值组成的`enumerate`对象。

```python
languages = ['Spanish', 'English', 'Russian', 'Chinese']

for index, language in enumerate(languages):
    print(f'索引 {index} 和语言 {language}')

# 结果
# 索引 0 和语言 Spanish
# 索引 1 和语言 English
# 索引 2 和语言 Russian
# 索引 3 和语言 Chinese

```

- `enumerate()`函数也可以在`for`循环之外使用：

```python
languages = ['Spanish', 'English', 'Russian', 'Chinese']

print(list(enumerate(languages)))
# [(0, 'Spanish'), (1, 'English'), (2, 'Russian'), (3, 'Chinese')]
```

- `enumerate()`函数还接受可选的`start`参数，该参数指定计数的起始值。如果省略此参数，则计数将从`0`开始。

- **`zip()`**：用于并行遍历多个可迭代对象。以下是使用`zip()`函数遍历`developers`和`ids`的示例：

```python
developers = ['Naomi', 'Dario', 'Jessica', 'Tom']
ids = [1, 2, 3, 4]

for name, id in zip(developers, ids):
    print(f'姓名: {name}')
    print(f'ID: {id}')


"""
结果

姓名: Naomi
ID: 1
姓名: Dario
ID: 2
姓名: Jessica
ID: 3
姓名: Tom
ID: 4
"""

```

## Python中的列表推导式

- **定义**：列表推导式允许你在一行中通过将循环和条件直接放在方括号内来创建新列表。这使代码更短，通常更容易阅读。

```py
even_numbers = [num for num in range(21) if num % 2 == 0]
print(even_numbers)
```

## 可迭代方法

- **`filter()`**：用于根据条件从可迭代对象中过滤元素。它返回一个仅包含满足条件的元素的迭代器。以下是创建仅包含超过四个字符的单词的新列表的示例：

```py
words = ['tree', 'sky', 'mountain', 'river', 'cloud', 'sun']

def is_long_word(word):
    return len(word) > 4

long_words = list(filter(is_long_word, words))
print(long_words) # ['mountain', 'river', 'cloud']
```

- **`map()`**：用于将函数应用于可迭代对象中的每个项目并返回包含结果的新可迭代对象。以下是使用`map()`函数将摄氏温度列表转换为华氏温度的示例：

```py
celsius = [0, 10, 20, 30, 40]

def to_fahrenheit(temp):
    return (temp * 9/5) + 32

fahrenheit = list(map(to_fahrenheit, celsius))
print(fahrenheit) # [32.0, 50.0, 68.0, 86.0, 104.0]
```

- **`sum()`**：用于获取可迭代对象（如列表或元组）的总和。以下是使用`sum()`函数的示例：

```py
numbers = [5, 10, 15, 20]
total = sum(numbers)
print(total) # 结果: 50
```

- 你还可以传递可选的`start`参数，该参数设置求和的初始值。以下是使用`start`参数作为位置参数的更新示例：

```py
numbers = [5, 10, 15, 20]
total = sum(numbers, 10) # 位置参数
print(total) # 60
```

- 你也可以选择将`start`参数作为关键字参数使用，如下所示：

```py
numbers = [5, 10, 15, 20]
total = sum(numbers, start=10) # 关键字参数
print(total) # 60
```

## Lambda函数

- **定义**：Python中的lambda函数是创建无名函数（匿名函数）的简洁方式。
- Lambda函数通常用作另一个函数的参数。以下是lambda函数的示例：

```py
numbers = [1, 2, 3, 4, 5]

even_numbers = list(filter(lambda x: x % 2 == 0, numbers))
print(even_numbers)  # [2, 4]
```

- 使用lambda函数的最佳实践包括不将它们分配给变量，保持它们简单易读，以及将它们用于简短的一次性函数。

# --assignment--

复习循环和序列主题和概念。