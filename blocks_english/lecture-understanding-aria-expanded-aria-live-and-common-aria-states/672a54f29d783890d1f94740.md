---
id: 672a54f29d783890d1f94740
title: 自定义控制元素常用的一些 ARIA 状态是什么？
challengeType: 19
dashedName: what-are-some-common-aria-states-used-on-custom-control-elements
---

# --description--

语义表单控制元素如 `input`、`select`、`textarea`、`button` 和 `fieldset` 具有内置状态，这些状态会传达给辅助技术。

例如，你可以使用 `disabled` 属性禁用按钮，或使用 `checked` 属性指示复选框被选中。

但是，如果你正在创建自定义控制元素，则需要使用 ARIA 属性向辅助技术传达控件的状态。

在本课中，我们将讨论一些可以在自定义控制元素上使用的常见 ARIA 状态。

我们要讨论的第一个 ARIA 状态是 `aria-selected`。此状态用于指示元素被选中。你可以在自定义控件如选项卡界面、列表框或网格上使用此状态。

以下是如何在自定义选项卡控件上使用 `aria-selected` 的示例：

```html
<div role="tablist">
  <button role="tab" aria-selected="true">选项卡 1</button>
  <button role="tab" aria-selected="false">选项卡 2</button>
  <button role="tab" aria-selected="false">选项卡 3</button>
</div>
```

选项卡用于在有限空间内显示多个内容面板。`aria-selected` 状态用于指示当前选择了哪个选项卡。

当用户选择一个选项卡时，所选选项卡的 `aria-selected` 状态设置为 `true`，其他选项卡的 `aria-selected` 状态设置为 `false`。

另一个常见的 ARIA 状态是 `aria-disabled`。此状态用于指示元素仅对使用辅助技术（如屏幕阅读器）的人禁用。重要的是要注意，`aria-disabled` 实际上不会禁用元素。这取决于你，开发者，让它看起来和行为像一个禁用的元素。当原生 HTML 元素替代 `disabled` 属性时，此属性也常用于原生 HTML 元素。选择哪一个将取决于按钮使用的上下文。

以下是如何在自定义编辑按钮上使用 `aria-disabled` 的示例：

```html
<div role="button" tabindex="-1" aria-disabled="true">编辑</div>
```

`aria-disabled` 属性用于告诉屏幕阅读器用户编辑按钮被禁用且无法交互。再次强调，它实际上不会禁用按钮。使用 `aria-disabled` 时，你需要应用样式和 JavaScript 来使控件看起来和行为像一个禁用按钮。

在大多数情况下，你可能会使用原生按钮元素，但在某些情况下你可能需要使用自定义控件。因此，了解如何向辅助技术传达控件的状态是至关重要的。

我们要讨论的下一个 ARIA 状态是 `aria-haspopup`。此状态用于指示交互元素在激活时将触发弹出元素。你只能在弹出元素具有以下角色之一时使用 `aria-haspopup` 属性：`menu`、`listbox`、`tree`、`grid` 或 `dialog`。`aria-haspopup` 的值必须是这些角色之一或 `true`，后者默认为 `menu` 角色。

以下是使用 `aria-haspopup` 的文件编辑器菜单示例：

```html
<button id="menubutton" aria-haspopup="menu" aria-controls="filemenu" aria-expanded="false">文件</button>
<ul id="filemenu" role="menu" aria-labelledby="menubutton" hidden>
  <li role="menuitem" tabindex="-1">打开</li>
  <li role="menuitem" tabindex="-1">新建</li>
  <li role="menuitem" tabindex="-1">保存</li>
  <li role="menuitem" tabindex="-1">删除</li>
</ul>
```

`aria-haspopup` 状态用于指示 `文件` 菜单按钮在激活时将打开一个弹出菜单。屏幕阅读器用户在导航到按钮时可能会听到这些额外信息。

你需要使用 JavaScript 来显示和隐藏弹出菜单，并实现适当的键盘支持以与菜单交互。另外，请注意 ARIA `menu` 角色指的是非常特定类型的菜单。它通常指用户可以调用的操作列表，类似于桌面应用程序上的菜单。它不包括我们通常称为"菜单"的更常见用途，如导航菜单。实际上，你在网络上创建的大多数"菜单"都不会是 ARIA 菜单，你也不会在它们上使用 `aria-haspopup`。

我们要讨论的下一个 ARIA 状态是 `aria-required`。`aria-required` 属性用于指示在提交表单之前需要填写字段。以下是使用 `aria-required` 属性处理自定义表单控件的示例。

```html
<div id="name-label">全名*</div>
<div role="textbox" contenteditable aria-labelledby="name-label" aria-required="true" id="name"></div>
```

我们需要使用 `contenteditable` 属性，以便用户可以在其中输入。我们还使用 `aria-required` 属性设置为 `true` 来指示这个自定义表单控件是必需的。

要使表单控件看起来像普通表单控件，你需要添加 CSS。你还需要添加 JavaScript 来防止在没有内容的情况下提交表单。

如果标签已经包含"必需"这个词，那么你应该省略 `aria-required` 属性。这确保屏幕阅读器只宣布"必需"一次。

在大多数情况下，你可能会在原生 `label` 和 `form` 元素上使用 `required` 属性。但是如果你需要创建自定义表单控件，那么在必要时添加 `aria-required` 属性是很重要的。

此外，`aria-required` 属性也可以用于原生表单输入，如 `input`、`textarea` 和 `select` 元素。这通常比原生 required 属性更受青睐，因为 required 属性可能有潜在的可用性和可访问性问题，特别是浏览器提供的默认错误处理。最终，你需要进行测试以确定哪种属性最适合你的情况。

我们要讨论的最后一个 ARIA 状态是 `aria-checked`。此属性用于指示元素是否处于选中状态。它最常用于创建自定义复选框、单选按钮、开关和列表框。

以下是如何在自定义复选框控件上使用 `aria-checked` 的示例：

```html
<div role="checkbox" aria-checked="true" tabindex="0">复选框</div>
```

原生复选框元素具有内置的 `checked` 状态，该状态会传达给辅助技术。但是，如果你正在创建自定义复选框控件，则需要使用 `aria-checked` 属性来指示其状态。

当用户与自定义复选框控件交互时，你需要使用 `aria-checked` 状态来反映复选框的新状态。当复选框被选中时，`aria-checked` 属性设置为 `true`。当它未被选中时，设置为 `false`。

原生元素通常具有更好的支持和内置的可访问性功能。

但是，如果你必须创建自定义控件，使用 ARIA 属性对于有效地向辅助技术传达这些控件的状态至关重要。

一如既往，测试你的工作以确保 ARIA 属性正确应用，并且自定义控件以既可访问又用户友好的方式运行。

# --questions--

## --text--

你会使用哪个 ARIA 状态来指示当前选择了哪个选项卡？

## --answers--

`aria-disabled`

### --feedback--

此状态显示哪个选项卡处于活动状态。

---

`aria-selected`

---

`aria-haspopup`

### --feedback--

此状态显示哪个选项卡处于活动状态。

---

`aria-checked`

### --feedback--

此状态显示哪个选项卡处于活动状态。

## --video-solution--

2

## --text--

在自定义控件的上下文中，哪个 ARIA 状态用于指示元素当前被禁用？

## --answers--

`aria-checked`

### --feedback--

此状态显示元素无法交互。

---

`aria-disabled`

---

`aria-selected`

### --feedback--

此状态显示元素无法交互。

---

`aria-haspopup`

### --feedback--

此状态显示元素无法交互。

## --video-solution--

2

## --text--

当你想要指示菜单项有子菜单时，应该使用哪个 ARIA 状态？

## --answers--

`aria-checked`

### --feedback--

其中一个状态强烈暗示存在弹出窗口。

---

`aria-disabled`

### --feedback--

其中一个状态强烈暗示存在弹出窗口。

---

`aria-haspopup`

---

`aria-selected`

### --feedback--

其中一个状态强烈暗示存在弹出窗口。

## --video-solution--

3