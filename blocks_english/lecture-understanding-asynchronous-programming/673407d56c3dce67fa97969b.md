---
id: 673407d56c3dce67fa97969b
title: What Is Async/Await, and How Does It Work?
challengeType: 19
dashedName: what-is-async-await-and-how-does-it-work
---

# --description--

在之前的课程中，你学习了异步编程，它允许其他代码在我们等待一些耗时任务完成时运行，比如从服务器获取数据、从文件读取数据等等。

`async`/`await`建立在承诺之上，使编写和阅读异步代码更容易。当你在函数前放置`async`关键字时，这意味着该函数将始终返回一个`Promise`。只有在`async`函数内部，你才能使用`await`关键字，它允许你在继续执行下一行代码之前等待`Promise`解决。下面是一个示例来说明`async`/`await`如何工作：

```js
async function delayedGreeting(name) {
  console.log("A Messenger entered the chat...");
  await new Promise(resolve => setTimeout(resolve, 2000));
  console.log(`Hello, ${name}!`);
}

delayedGreeting("Alice");
console.log("First Printed Message!");
```

在这段代码中，我们定义了一个名为`delayedGreeting`的`async`函数。在这个函数内部，我们使用`await`来暂停执行2秒钟。延迟后，它会打印一个问候语。

当我们调用这个函数时，你会看到`First Printed Message!`在问候语之前出现。这是因为函数是异步的——它不会阻止其余代码运行。

`async`/`await`的最大优势之一是错误处理。使用承诺时，我们经常不得不使用`.catch()`方法来处理错误。使用`async`/`await`时，我们可以使用`try`/`catch`块。下面是一个示例：

```js
async function fetchUserData() {
  try {
    let response = await fetch(`https://api.example.com/users`);
    let userData = await response.json();
    console.log(userData);
  } catch (error) {
    console.log("Error fetching user data:", error);
  }
}

fetchUserData();
```

在这个例子中，我们使用`async`/`await`从API获取用户数据。`await`关键字使用了两次：一次等待获取操作完成，另一次等待JSON解析完成。如果在此过程中发生任何错误，它将在`catch`块中被捕获。

# --questions--

## --text--

JavaScript中`async`关键字的主要目的是什么？

## --answers--

让函数运行得更快。

### --feedback--

想想`async`对函数返回值的作用。

---

表示函数将始终返回一个承诺。

---

为函数创建一个新线程来运行。

### --feedback--

想想`async`对函数返回值的作用。

---

防止函数被异步调用。

### --feedback--

想想`async`对函数返回值的作用。

## --video-solution--

2

## --text--

JavaScript中的`await`关键字可以在哪里使用？

## --answers--

代码中的任何地方。

### --feedback--

考虑`await`可以放置的限制。

---

在代码的开头。

### --feedback--

考虑`await`可以放置的限制。

---

在`async`函数内部。

---

仅在`try...catch`块中。

### --feedback--

考虑`await`可以放置的限制。

## --video-solution--

3

## --text--

当在等待的承诺中发生错误时会发生什么？

## --answers--

程序崩溃。

### --feedback--

想想`async`/`await`的错误处理如何工作。

---

错误会自动记录到控制台。

### --feedback--

想想`async`/`await`的错误处理如何工作。

---

什么都不会发生，承诺中的错误被忽略。

### --feedback--

想想`async`/`await`的错误处理如何工作。

---

可以使用`try...catch`块捕获错误。

## --video-solution--

4
