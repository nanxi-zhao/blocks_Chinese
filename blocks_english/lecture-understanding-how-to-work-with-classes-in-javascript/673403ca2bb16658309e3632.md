---
id: 673403ca2bb16658309e3632
title: This关键字是如何工作的？
challengeType: 19
dashedName: how-does-the-this-keyword-work
---

# --description--

让我们来学习[this](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/usedPropTypes.js#L45-L45)关键字。你已经了解到类就像蓝图一样，你可以用来创建对象。

这些蓝图需要一种通用的方式来引用在代码中正在创建、访问或修改的特定对象。这正是[this](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/usedPropTypes.js#L45-L45)关键字的用途。它指的是代码应该运行的上下文。如果你在方法中使用它，[this](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/usedPropTypes.js#L45-L45)的值将是与该方法关联的对象的引用。这样，你就可以访问类中的对象属性和方法，并在不同的对象上重用该方法。

例如，这里我们有一个[Dessert](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/propTypes.js#L45-L45)类。这次，我们定义了一个[hasPeanuts](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/blocks_english/lecture-working-with-classes-in-javascript/673403ca2bb16658309e3632.md#L19-L19)属性。

```js
class Dessert {
  constructor(hasPeanuts) {
    this.hasPeanuts = hasPeanuts;
  }
}
```

注意我们在构造函数中使用了[this](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/usedPropTypes.js#L45-L45)关键字。记住，当创建类的新对象时，构造函数会自动调用。

[this](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/usedPropTypes.js#L45-L45)关键字告诉程序[hasPeanuts](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/blocks_english/lecture-working-with-classes-in-javascript/673403ca2bb16658309e3632.md#L19-L19)应该是当前正在创建的对象的一个属性。

赋值语句的右侧是将[hasPeanuts](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/blocks_english/lecture-working-with-classes-in-javascript/673403ca2bb16658309e3632.md#L19-L19)参数的值分配给新对象的[hasPeanuts](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/blocks_english/lecture-working-with-classes-in-javascript/673403ca2bb16658309e3632.md#L19-L19)属性。

```js
this.hasPeanuts = hasPeanuts;
```

这是在构造函数的上下文中，但你也可以在其他方法中使用[this](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/usedPropTypes.js#L45-L45)关键字。

这是我们的[Dessert](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/propTypes.js#L45-L45)类的一些变化。现在我们有两个属性：[name](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/blocks_english/lecture-working-with-strings-in-javascript/687b7400741c0e81bc060515.md#L22-L23)和[price](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/blocks_english/lecture-working-with-classes-in-javascript/673403ca2bb16658309e3632.md#L42-L42)。

```js
class Dessert {
  constructor(name, price) {
    this.name = name;
    this.price = price;
  }

  showPrice() {
    console.log(`The price of ${this.name} is $${this.price}.`);
  }
}
```

我们还有一个新的[showPrice](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/blocks_english/lecture-working-with-classes-in-javascript/673403ca2bb16658309e3632.md#L45-L47)方法。在这个方法中，我们在控制台打印一条描述性消息，包含甜点对象的名称和价格。

注意我们是如何使用[this](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/usedPropTypes.js#L45-L45)关键字来访问[showPrice](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/blocks_english/lecture-working-with-classes-in-javascript/673403ca2bb16658309e3632.md#L45-L47)方法中的对象属性的。

在该方法的上下文中，[this](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/usedPropTypes.js#L45-L45)关键字的值将会是什么？它将引用调用该方法的对象。在这种情况下，我们创建了一个名为`"Brownie"`、价格为`$5.99`的Dessert实例：

```js
const brownie = new Dessert("Brownie", 5.99);
```

如果我们在这个对象上调用.showPrice()方法：

```js
brownie.showPrice();
```

输出如下：

```js
The price of Brownie is $5.99.
```

当前对象（`brownie`）的名称和价格在字符串中被替换了。

这都要感谢[this](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/usedPropTypes.js#L45-L45)关键字，它为你提供了一种通用的方式来引用类中的当前对象。这允许你在不同的对象上重用该方法。

这是在对象方法的上下文中，但[this](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/usedPropTypes.js#L45-L45)关键字在独立函数和箭头函数中也会有值。

在独立函数中，它的值通常指向全局对象（在非严格模式下）或[undefined](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/@types/node-fetch/node_modules/@types/node/globals.d.ts#L131-L131)（在严格模式下）。

[this](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/usedPropTypes.js#L45-L45)关键字的值在箭头函数中略有不同。箭头函数从定义它们的封闭作用域继承[this](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/usedPropTypes.js#L45-L45)的值。它们不会创建自己的[this](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/usedPropTypes.js#L45-L45)绑定。这意味着[this](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/usedPropTypes.js#L45-L45)的值取决于定义箭头函数的上下文，而不是调用箭头函数的位置或方式。这使得箭头函数在回调或保持上下文时很有用。

然而，正因为如此，在对象方法中[this](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/usedPropTypes.js#L45-L45)的值不会指向当前对象，所以在使用箭头函数时需要记住这一点。

同样的规则适用于在其他函数中定义的箭头函数。它们将从父作用域继承[this](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/usedPropTypes.js#L45-L45)的值。

[this](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/usedPropTypes.js#L45-L45)关键字是访问和操作对象的强大工具。理解它的工作原理对于掌握JavaScript中的面向对象编程至关重要。

# --questions--

## --text--

[this](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/usedPropTypes.js#L45-L45)关键字在JavaScript中的主要用途是什么？

## --answers--

定义一个新对象。

### --feedback--

想想[this](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/usedPropTypes.js#L45-L45)在方法中是如何使用的。

---

访问当前对象的属性和方法。

---

创建函数。

### --feedback--

想想[this](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/usedPropTypes.js#L45-L45)在方法中是如何使用的。

---

调用其他对象的方法。

### --feedback--

想想[this](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/usedPropTypes.js#L45-L45)在方法中是如何使用的。

## --video-solution--

2

## --text--

以下关于JavaScript方法中[this](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/usedPropTypes.js#L45-L45)的陈述哪一个是正确的？

## --answers--

[this](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/usedPropTypes.js#L45-L45)总是指向全局对象。

### --feedback--

想想[this](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/usedPropTypes.js#L45-L45)的值如何根据上下文而改变。

---

[this](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/usedPropTypes.js#L45-L45)总是绑定到定义函数的对象。

### --feedback--

想想[this](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/usedPropTypes.js#L45-L45)的值如何根据上下文而改变。

---

[this](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/usedPropTypes.js#L45-L45)可以根据使用的上下文指向不同的对象。

---

[this](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/usedPropTypes.js#L45-L45)只在函数式编程中使用。

### --feedback--

想想[this](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/usedPropTypes.js#L45-L45)的值如何根据上下文而改变。

## --video-solution--

3

## --text--

在以下哪种情况下你通常会使用[this](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/usedPropTypes.js#L45-L45)关键字？

## --answers--

定义函数时。

### --feedback--

想想[this](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/usedPropTypes.js#L45-L45)的常见用例。

---

访问对象的属性和方法时。

---

调用函数时。

### --feedback--

想想[this](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/usedPropTypes.js#L45-L45)的常见用例。

---

创建新对象时。

### --feedback--

想想[this](file:///e:/1.work/byy/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/blocks/node_modules/eslint-plugin-react/lib/util/usedPropTypes.js#L45-L45)的常见用例。

## --video-solution--

2