---
id: 6733ff6f02dde548ebe4a6d5
title: 什么是Cookie，它是如何工作的？
challengeType: 19
dashedName: what-are-cookies-and-how-do-they-work
---

# --description--

Cookie，也称为Web Cookie或浏览器Cookie，是服务器发送给用户Web浏览器的小块数据。这些Cookie存储在用户的设备上，并在后续请求中发送回服务器。

Cookie在帮助Web应用程序保持状态和记住用户信息方面至关重要，这尤其重要，因为HTTP是一种无状态协议。

Cookie可以存储各种信息，如用户偏好、会话数据或跟踪信息。

Cookie总是以名称-值对的形式存储。这意味着每个Cookie都有一个名称（键）和一个关联的值。

例如，Cookie可能会像这样存储用户的会话ID：[sessionId=abc123](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff6f02dde548ebe4a6d5.md#L27-L27)。键是[sessionId](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff6f02dde548ebe4a6d5.md#L27-L27)，值是[abc123](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff6f02dde548ebe4a6d5.md#L27-L27)。每次浏览器与服务器通信时，浏览器都会以名称-值对的形式发送这些Cookie。

当用户访问网站时，服务器可以通过在HTTP响应中包含Set-Cookie头来向用户的浏览器发送一个或多个Cookie。头是提供有关HTTP请求或响应的附加信息的键值对。你将在未来的课程中学习更多关于HTTP请求和响应的知识。

一旦设置了Cookie，浏览器就会存储它们，并在每次向同一域发送后续请求时自动将它们包含在Cookie头中。这允许服务器访问存储的Cookie，并将它们用于维护用户会话或跟踪偏好等用途。

以下是Cookie在HTTP响应中设置的示例：

```http
Set-Cookie: sessionId=abc123; Expires=Wed, 21 Oct 2021 07:28:00 GMT; Secure; HttpOnly
```

浏览器将存储Cookie，在未来向同一服务器的请求中，它将在[Cookie](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff6f02dde548ebe4a6d5.md#L33-L33)头中包含Cookie：

```http
Cookie: sessionId=abc123
```

服务器然后可以读取Cookie并使用存储的会话ID来检索有关用户的信息，例如他们是否已登录。

以下是不同类型Cookie的分解。

- 会话Cookie只在用户在网站上的会话期间持续存在。一旦用户关闭浏览器或标签页，会话Cookie就会被删除。这些Cookie通常用于在用户访问期间保持登录状态等任务。

- 持久Cookie有到期日期，并在用户的设备上存储直到达到该日期。持久Cookie通常用于跨会话记住用户偏好或登录详细信息。

- 安全Cookie只通过HTTPS发送，确保它们在传输过程中不会被攻击者拦截。

- HttpOnly Cookie无法通过浏览器中运行的JavaScript访问或修改，使它们更能抵御跨站脚本（XSS）攻击。跨站脚本（XSS）攻击发生在攻击者将恶意脚本注入到其他用户查看的网页中时。这些脚本然后可以在受害者的浏览器上下文中执行，可能窃取Cookie、会话数据或在用户不知情或未经同意的情况下执行其他恶意操作。通过将Cookie标记为HttpOnly，它们受到保护，无法通过JavaScript访问，从而降低此类攻击的风险。

您可以通过使用[Set-Cookie](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff6f02dde548ebe4a6d5.md#L27-L27)头的服务器响应或通过使用[document.cookie](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff6f02dde548ebe4a6d5.md#L48-L48)的JavaScript来创建Cookie。

以下是使用JavaScript设置Cookie的示例：

```js
document.cookie = "username=JohnDoe; expires=Fri, 31 Dec 2021 23:59:59 GMT; path=/";
```

此命令设置一个名为[username](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff6f02dde548ebe4a6d5.md#L53-L53)的Cookie，其值为["JohnDoe"](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff6f02dde548ebe4a6d5.md#L53-L53)，将在2021年底到期。您可以通过简单地用新值重新设置来更新现有Cookie。

要删除Cookie，您需要将其到期日期设置为过去：

```js
document.cookie = "username=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/";
```

这将从浏览器中删除[username](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff6f02dde548ebe4a6d5.md#L53-L53) Cookie。

# --questions--

## --text--

Cookie在Web应用程序中的主要用途是什么？

## --answers--

永久存储大量数据。

### --feedback--

想想Cookie如何帮助Web应用程序在请求之间记住用户特定的数据。

---

存储有助于在请求之间保持状态和记住用户信息的数据。

---

替换服务器端数据库。

### --feedback--

想想Cookie如何帮助Web应用程序在请求之间记住用户特定的数据。

---

增强浏览器中的JavaScript性能。

### --feedback--

想想Cookie如何帮助Web应用程序在请求之间记住用户特定的数据。

## --video-solution--

2

## --text--

以下哪个属性确保Cookie只通过HTTPS发送？

## --answers--

[Secure](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff6f02dde548ebe4a6d5.md#L110-L110)

---

[HttpOnly](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff6f02dde548ebe4a6d5.md#L114-L114)

### --feedback--

此属性保护Cookie不通过不安全的HTTP连接发送。

---

[SameSite](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff6f02dde548ebe4a6d5.md#L122-L122)

### --feedback--

此属性保护Cookie不通过不安全的HTTP连接发送。

---

[Expires](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff6f02dde548ebe4a6d5.md#L130-L130)

### --feedback--

此属性保护Cookie不通过不安全的HTTP连接发送。

## --video-solution--

1

## --text--

如何使用JavaScript删除Cookie？

## --answers--

通过将其值设置为[null](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff6f02dde548ebe4a6d5.md#L146-L146)。

### --feedback--

想想设置到期日期如何影响Cookie的生命周期。

---

通过将其到期日期设置为过去日期。

---

通过使用[document.cookie.remove()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-client-side-storage-and-crud-operations/6733ff6f02dde548ebe4a6d5.md#L158-L158)方法。

### --feedback--

想想设置到期日期如何影响Cookie的生命周期。

---

通过重新加载页面。

### --feedback--

想想设置到期日期如何影响Cookie的生命周期。

## --video-solution--

2