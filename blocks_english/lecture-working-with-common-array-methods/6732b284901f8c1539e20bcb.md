---
id: 6732b284901f8c1539e20bcb
title: 如何从数组的中间添加和删除元素？
challengeType: 19
dashedName: how-do-you-add-remove-elements-from-the-middle-of-an-array
---

# --interactive--

JavaScript中的[splice()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L26-L26)方法是修改数组的强大方式。它允许你从数组的任何位置添加或删除元素，包括中间位置。[splice()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L26-L26)方法的返回值将是从数组中删除的项目的数组。如果没有删除任何内容，则返回一个空数组。

需要注意的是，这个方法会改变原始数组，就地修改而不是创建新数组。在使用[splice()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L26-L26)时要注意这一点。以下是基本语法：

```js
array.splice(startIndex, itemsToRemove, item1, item2)
```

[startIndex](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L15-L15)指定开始修改数组的索引，而[itemsToRemove](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L15-L15)是一个可选参数，表示要删除多少个元素。如果省略[itemsToRemove](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L15-L15)，[splice()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L26-L26)将从[startIndex](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L15-L15)到数组末尾删除所有元素。后续参数（[item1](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L15-L15)、[item2](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L15-L15)等）是要添加到数组中的元素，从起始索引开始。

让我们从一个从数组中间删除元素的示例开始：

:::interactive_editor

```js
let fruits = ["apple", "banana", "orange", "mango", "kiwi"];
let removed = fruits.splice(2, 2);

console.log(fruits);  // ["apple", "banana", "kiwi"]
console.log(removed); // ["orange", "mango"]
```

:::

在这个示例中，[splice(2, 2)](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L26-L26)从索引[2](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L26-L26)开始删除[2](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L26-L26)个元素。修改后的数组现在只包含[apple](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L25-L25)、[banana](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L25-L25)和[kiwi](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L25-L25)。现在，让我们看看如何向数组中间添加元素：

:::interactive_editor

```js
let colors = ["red", "green", "blue"];
colors.splice(1, 0, "yellow", "purple");

console.log(colors); // ["red", "yellow", "purple", "green", "blue"]
```

:::

在这里，[splice(1, 0, "yellow", "purple")](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L40-L40)从索引[1](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L40-L40)开始，删除[0](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L40-L40)个元素，并插入[yellow](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L40-L40)和[purple](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L40-L40)。第二个参数（[0](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L40-L40)）表示在插入之前不删除任何元素。你也可以使用[splice()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L26-L26)同时删除和添加元素：

:::interactive_editor

```js
let numbers = [1, 2, 3, 4, 5];
numbers.splice(1, 2, 6, 7, 8);

console.log(numbers); // [1, 6, 7, 8, 4, 5]
```

:::

在这种情况下，[splice(1, 2, 6, 7, 8)](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L53-L53)从索引[1](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L53-L53)开始，删除[2](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L53-L53)个元素（[2](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L52-L52)和[3](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L52-L52)），并插入[6](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L53-L53)、[7](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L53-L53)和[8](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L53-L53)。如果你需要保持原始数组不变，应该在使用[splice()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L26-L26)之前创建一个副本：

:::interactive_editor

```js
let original = [1, 2, 3, 4, 5];
let copy = [...original];
copy.splice(2, 1, 6);

console.log(original); // [1, 2, 3, 4, 5]
console.log(copy);     // [1, 2, 6, 4, 5]
```

:::

在这个示例中，为了创建[original](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L65-L65)数组的副本而不修改它，我们使用展开运算符（...）。展开运算符将创建[original](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L65-L65)数组元素的浅拷贝到新数组中。你将在未来的课程中学习更多相关内容。

当我们使用[copy.splice(2, 1, 6)](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L67-L67)时，它通过删除索引[2](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L67-L67)处的元素（即[3](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L65-L65)）并在该位置插入新元素[6](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L67-L67)来修改副本数组。

[splice()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L26-L26)的一个常见用例是在你知道索引时从数组中删除单个元素：

:::interactive_editor

```js
let fruits = ["apple", "banana", "orange", "mango"];
let indexToRemove = fruits.indexOf("orange");
if (indexToRemove !== -1) {
    fruits.splice(indexToRemove, 1);
}

console.log(fruits); // ["apple", "banana", "mango"]
```

:::

在这个示例中，我们首先使用[indexOf()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/67329f64e0ef5c5b7388158d.md#L22-L22)方法查找元素[orange](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L85-L85)在[fruits](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L84-L84)数组中的索引。[indexOf()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/67329f64e0ef5c5b7388158d.md#L22-L22)方法返回给定元素第一次出现的索引，如果在数组中找不到该元素则返回[-1](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/67329f64e0ef5c5b7388158d.md#L37-L37)。

然后我们将[indexToRemove](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L85-L85)与[-1](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/67329f64e0ef5c5b7388158d.md#L37-L37)进行比较，以确保在尝试删除元素之前该元素存在于数组中。如果[indexToRemove](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L85-L85)不等于[-1](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/67329f64e0ef5c5b7388158d.md#L37-L37)（意味着找到了该元素），我们使用[splice()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L26-L26)从[indexToRemove](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L85-L85)位置开始删除一个元素。

你也可以使用[splice()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L26-L26)通过删除所有元素来清空数组：

:::interactive_editor

```js
let array = [1, 2, 3, 4, 5];
array.splice(0);

console.log(array); // []
```

:::

虽然[splice()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L26-L26)很强大，但值得注意的是，对于非常大的数组，它可能不如其他方法高效，特别是在修改数组开头时。这是因为[splice()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L26-L26)可能需要移动所有后续元素。在这种情况下，如果你只在数组末尾添加或删除元素，[push()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L112-L112)、[pop()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L112-L112)、[unshift()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L112-L112)和[shift()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L112-L112)等方法可能更合适。

总之，[splice()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L26-L26)方法是JavaScript中修改数组的多功能方式。它允许精确控制从数组任何位置添加和删除元素。理解如何有效使用[splice()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L26-L26)可以大大提高你在JavaScript代码中操作数组的能力。

# --questions--

## --text--

以下代码的输出结果是什么？

```js
let arr = [1, 2, 3, 4, 5];
arr.splice(2, 0, 6, 7);
console.log(arr);
```

## --answers--

[1, 2, 6, 7, 3, 4, 5]

---

[1, 2, 3, 4, 5, 6, 7]

### --feedback--

考虑[splice()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L26-L26)方法中第二个参数（[0](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L40-L40)）的含义。

---

[1, 2, 3, 6, 7, 4, 5]

### --feedback--

考虑[splice()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L26-L26)方法中第二个参数（[0](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L40-L40)）的含义。

---

[1, 2, 6, 7, 4, 5]

### --feedback--

考虑[splice()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L26-L26)方法中第二个参数（[0](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L40-L40)）的含义。

## --video-solution--

1

## --text--

以下哪个[splice()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L26-L26)调用可以从数组中删除数字3？

```js
let arr = [1, 2, 3, 4, 5];
```

## --answers--

[arr.splice(3, 1)](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L170-L170)

### --feedback--

记住，数组索引从0开始。

---

[arr.splice(3, 0)](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L178-L178)

### --feedback--

记住，数组索引从0开始。

---

[arr.splice(2, 1)](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L186-L186)

---

[arr.splice(arr.length - 2, 1)](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L190-L190)

### --feedback--

记住，数组索引从0开始。

## --video-solution--

3

## --text--

[splice()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L26-L26)方法返回什么？

## --answers--

修改后的数组。

### --feedback--

考虑在从数组中删除元素后可能有用的信息。

---

删除的元素数量。

### --feedback--

考虑在从数组中删除元素后可能有用的信息。

---

包含已删除元素的数组。

---

[undefined](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-common-array-methods/6732b284901f8c1539e20bcb.md#L226-L226)

### --feedback--

考虑在从数组中删除元素后可能有用的信息。

## --video-solution--

3