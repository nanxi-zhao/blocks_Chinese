---
id: 683ec8e8a2389f713380fca8
title: 有哪些常见的技术可以遍历字典？
challengeType: 19
dashedName: what-are-some-common-techniques-to-loop-over-a-dictionary
---

# --description--

如果您需要访问和处理字典的键值对，可以遍历字典。这对于更新它们的值或对其应用某些逻辑很有帮助。

让我们看看一些可以使用的技术。

假设我们有一个 `products` 字典，将每个产品与其价格关联起来：

```python
products = {
    'Laptop': 990,
    'Smartphone': 600,
    'Tablet': 250,
    'Headphones': 70,
}
```

如果我们想为所有产品提供 20% 的折扣，可以遍历所有键值对并修改价格。

`.values()`、`.keys()` 和 `.items()` 方法对于这些技术至关重要。我们在之前的课程中简要介绍了它们。

它们返回包含字典的值、键和键值对的视图对象。您可以在 `for` 循环中使用这些视图对象来遍历元素。

例如，您可以像这样遍历字典的所有值。

您写 `for`，循环变量（在这个例子中是 `price`），`products.values()` 来获取 `products` 字典的所有值，一个冒号，然后是循环体，您可以在其中对值应用任何逻辑。在这个例子中，我们正在打印它们。

循环变量将在每次迭代中取每个值：

```python
for price in products.values():
    print(price)
```

这是输出。如您所见，每个值都被打印到控制台，一个接一个：

```md
990
600
250
70
```

如果您需要遍历字典的键，这对 `.keys()` 来说完全相同。您只需要遍历 `products.keys()` 或直接遍历 `products`，并为循环变量分配一个描述性的名称：

```python
for product in products.keys():
    print(product)

for product in products:
    print(product)
```

这是输出。每个键都被打印到控制台，一次一个：

```md
Laptop
Smartphone
Tablet
Headphones
```

如果您需要同时遍历键及其对应的值，这对键值对来说也完全相同。您只需要遍历 `products.items()`：

```python
for product in products.items():
    print(product)
```

这是输出。现在您得到包含键及其对应值的单独元组：

```md
('Laptop', 990)
('Smartphone', 600)
('Tablet', 250)
('Headphones', 70)
```

如果您想将键和值存储在单独的循环变量中，您只需要定义它们并用逗号分隔。然后，您可以在循环体中使用它们。

在这里，我们定义了一个 `product` 循环变量和一个 `price` 循环变量。每个变量将保存其对应的值。重要的是要按顺序定义它们——先键，然后是值：

```python
for product, price in products.items():
    print(product, price)
```

这是输出。我们将它们并排打印，但您可以根据需要在代码中使用这些值。

```md
Laptop 990
Smartphone 600
Tablet 250
Headphones 70
```

现在您对此有了更多了解，我们可以回到最初的示例。如果我们想提供 20% 的折扣，我们将每个价格乘以 `0.8` 并将其重新分配为该产品键的值。

如果我们要使用整数，也可以向下舍入结果：

```python
products = {
    'Laptop': 990,
    'Smartphone': 600,
    'Tablet': 250,
    'Headphones': 70,
}

for product, price in products.items():
    products[product] = round(price * 0.8)

print(products)
```

然后，如果我们打印字典，我们将得到这些带有折扣价格的键值对：

```python
{
    'Laptop': 792, 
    'Smartphone': 480, 
    'Tablet': 200, 
    'Headphones': 56
}
```

最后，如果您需要在遍历键值对时跟踪计数器，可以调用 `enumerate()` 函数。这个计数器本质上充当了循环中该元素的某种"索引"或"计数"。

该函数返回一个 `enumerate` 对象，它为每个键值对分配一个整数，就像一个计数器。您可以从任何数字开始计数，但默认情况下，它从 0 开始。

在这里，我们正在遍历 `products` 字典的键：

```python
for product in enumerate(products):
    print(product)
```

但是 `enumerate()` 函数也会为每个键分配一个整数，所以我们得到包含整数和键的元组。

这是输出：

```md
(0, 'Laptop')
(1, 'Smartphone')
(2, 'Tablet')
(3, 'Headphones')
```

如果需要，您可以将这些值分配给单独的循环变量。在这里，我们有两个循环变量（`index` 和 `product`）。这是您在使用 `enumerate()` 时通常会看到和使用的方式：

```python
for index, product in enumerate(products):
    print(index, product)
```

如果您需要遍历值，可以将 `products` 替换为 `products.values()`：

```python
for price in enumerate(products.values()):
    print(price)
```

输出将在每个元组中包含索引和价格：

```md
(0, 990)
(1, 600)
(2, 250)
(3, 70)
```

您也可以将它们分配给单独的循环变量：

```python
for index, price in enumerate(products.values()):
    print(index, price)
```

这将是输出。您可以根据需要在代码中使用它们：

```md
0 990
1 600
2 250
3 70
```

使用 `products.items()`，您除了"索引"或"计数器"外，还可以获得整个键值对：

```python
for index, product in enumerate(products.items()):
    print(index, product)
```

在这个例子中，我们得到索引，后跟一个包含相应键值对的键和值的元组：

```md
0 ('Laptop', 990)
1 ('Smartphone', 600)
2 ('Tablet', 250)
3 ('Headphones', 70)
```

要自定义计数的初始值，您可以向 `enumerate()` 传递第二个参数。例如，这里我们从 1 开始计数：

```python
for index, product in enumerate(products.items(), 1):
    print(index, product)
```

您可以在输出中看到这个变化。现在第一个整数是 1 而不是 0：

```md
1 ('Laptop', 990)
2 ('Smartphone', 600)
3 ('Tablet', 250)
4 ('Headphones', 70)
```

这适用于我们到目前为止看到的任何变体。您只需要将初始数字作为第二个参数传递。

有许多技术可以遍历字典。这些是一些常见的方法，您需要为您的项目选择最好的方法。

# --questions--

## --text--

在循环中使用哪个字典方法可以访问存储在字典中的键值对？

## --answers--

`.keys()`

### --feedback--

想想哪个方法返回包含键及其对应值的序列。

---

`.items()`

---

`.values()`

### --feedback--

想想哪个方法返回包含键及其对应值的序列。

---

`enumerate()`

### --feedback--

想想哪个方法返回包含键及其对应值的序列。

## --video-solution--

2

## --text--

当使用 `enumerate()` 函数与 `dictionary.items()` 时，第一个循环变量代表什么？

## --answers--

字典的键

### --feedback--

想想 `enumerate()` 为每次迭代添加了什么到可迭代对象。

---

字典的值。

### --feedback--

想想 `enumerate()` 为每次迭代添加了什么到可迭代对象。

---

键值对的索引或计数。

---

键值对作为元组。

### --feedback--

想想 `enumerate()` 为每次迭代添加了什么到可迭代对象。

## --video-solution--

3

## --text--

如果您需要遍历字典并只访问键，应该使用哪个方法？

## --answers--

`.keys()`

---

`.values()`

### --feedback--

想想哪个方法让您访问字典的键。

---

`enumerate()`

### --feedback--

想想哪个方法让您访问字典的键。

---

`.items()`

### --feedback--

想想哪个方法让您访问字典的键。

## --video-solution--

1