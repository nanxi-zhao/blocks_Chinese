---
id: 673362d7f94d551edb532d24
title: sort 方法是如何工作的？
challengeType: 19
dashedName: how-does-the-sort-method-work
---

# --interactive--

在编程中有许多不同的方法来排序数据。在本课中，我们将重点介绍 JavaScript 中的内置 `sort` 方法。

`sort` 方法用于排列数组的元素并返回对排序数组的引用。不会创建副本，因为元素是就地排序的。

以下是 `sort` 方法的基本语法：

```js
array.sort(compareFunction);
```

`compareFunction` 是一个可选参数，它指定定义排序顺序的函数。稍后我们将了解在排序数字时如何使用比较函数。

在第一个示例中，我们有一个随机顺序的字符串数组。

```js
const fruits = ["Banana", "Orange", "Apple", "Mango"];
```

我们的目标是按字母顺序对数组进行排序。我们可以通过在 `fruits` 数组上调用 `sort` 方法来实现。

:::interactive_editor

```js
const fruits = ["Banana", "Orange", "Apple", "Mango"];
fruits.sort();

console.log(fruits); // ["Apple", "Banana", "Mango", "Orange"]
```

:::

结果将是一个按字母顺序排序的水果数组，从水果 `Apple` 开始。

在下一个示例中，我们要排序以下数字数组：

```js
const numbers = [414, 200, 5, 10, 3];
```

如果我们尝试在 `numbers` 数组上使用 `sort` 方法，我们将得到意外的结果。

:::interactive_editor

```js
const numbers = [414, 200, 5, 10, 3];
numbers.sort();

console.log(numbers); // [10, 200, 3, 414, 5]
```

:::

我们期望看到结果 `[3, 5, 10, 200, 414]`，但相反我们得到了 `[10, 200, 3, 414, 5]`。

这是因为 `sort` 方法将元素转换为字符串，然后比较它们的 UTF-16 代码单元值序列。

UTF-16 代码单元是表示字符串中字符的数值。UTF-16 代码单元的示例是数字 `65`、`66` 和 `67`，它们分别代表字符 `A`、`B` 和 `C`。

因此，数字 `200` 在数组中出现在数字 `3` 之前，因为字符串 `200` 在比较它们的 UTF-16 代码单元时出现在字符串 `3` 之前。

解决这个问题的方法是向 `sort` 方法提供一个比较函数。

以下是使用比较函数对 `numbers` 数组进行排序的示例：

:::interactive_editor

```js
const numbers = [414, 200, 5, 10, 3];

numbers.sort((a, b) => a - b);

console.log(numbers); // [3, 5, 10, 200, 414]
```

:::

参数 `a` 和 `b` 是要比较的两个元素。比较函数应该在 `a` 应该在 `b` 之前时返回负值，在 `a` 应该在 `b` 之后时返回正值，在 `a` 和 `b` 相等时返回零。

第一次比较是数字 `414` 和 `200`。`414 - 200` 的结果是 `214`，这是一个正值。这意味着 `414` 在排序数组中应该在 `200` 之后。

下一次比较是数字 `200` 和 `5`。`200 - 5` 的结果是 `195`，这是一个正值。这意味着 `200` 在排序数组中应该在 `5` 之后。

我们对数组中的所有元素重复这个过程，结果是一个排序的数字数组。

尽管在编程中有许多其他方法来排序数据，但在需要排序元素数组时，JavaScript 中的 `sort` 方法在很多情况下都很有用和高效。

# --questions--

## --text--

JavaScript 中的 `sort` 方法做什么？

## --answers--

它创建数组的副本并对副本进行排序。

### --feedback--

该方法直接修改原始数组。

---

它就地对数组的元素进行排序。

---

它只对数字进行排序。

### --feedback--

该方法直接修改原始数组。

---

它默认按降序对元素进行排序。

### --feedback--

该方法直接修改原始数组。

## --video-solution--

2

## --text--

为什么在不使用比较函数的情况下使用 `sort` 方法时数字不能按预期排序？

## --answers--

`sort` 方法无法对数字进行排序。

### --feedback--

考虑 JavaScript 在比较时如何处理不同数据类型。

---

元素根据 UTF-16 代码单元作为字符串进行比较。

---

`sort` 方法区分大小写。

### --feedback--

考虑 JavaScript 在比较时如何处理不同数据类型。

---

该方法只适用于字符串。

### --feedback--

考虑 JavaScript 在比较时如何处理不同数据类型。

## --video-solution--

2

## --text--

如果 `a` 应该在 `b` 之后，比较函数应该返回什么？

## --answers--

负值。

### --feedback--

想想元素的顺序。

---

零。

### --feedback--

想想元素的顺序。

---

正值。

---

`undefined`

### --feedback--

想想元素的顺序。

## --video-solution--

3