---
id: 672d26809d388621ad1ecd43
title: isNaN 是如何工作的？
challengeType: 19
dashedName: how-does-isnan-work
---

# --interactive--

在 JavaScript 中，`NaN` 代表 "Not a Number"（非数字）。它是一个特殊的值，表示无法表示或未定义的数值结果。`NaN` 是全局对象的一个属性，在 JavaScript 中它也被认为是一种数字类型，这可能一开始会让人觉得反直觉。

`NaN` 通常是那些应该返回数字但无法产生有意义数值结果的操作结果。例如：

:::interactive_editor

```js
let result = 0 / 0;
console.log(result); // NaN
```

:::

在这个例子中，零除以零在数学上是未定义的，所以 JavaScript 返回 `NaN`。`NaN` 的一个奇特属性是它不等于任何东西，包括它自己：

:::interactive_editor

```js
console.log(NaN === NaN); // false
```

:::

这种独特的行为使得使用标准比较运算符检查值是否为 `NaN` 变得具有挑战性。为了解决这个问题，JavaScript 提供了 `isNaN()` 函数。`isNaN()` 函数属性用于确定一个值是否为 `NaN`。然而，了解 `isNaN()` 的工作原理很重要，因为它有时会产生意外的结果。以下是 `isNaN()` 的行为方式：

:::interactive_editor

```js
console.log(isNaN(NaN));       // true
console.log(isNaN(undefined)); // true
console.log(isNaN({}));        // true

console.log(isNaN(true));      // false
console.log(isNaN(null));      // false
console.log(isNaN(37));        // false

console.log(isNaN("37"));      // false: "37" 被转换为 37
console.log(isNaN("37.37"));   // false: "37.37" 被转换为 37.37
console.log(isNaN(""));        // false: 空字符串被转换为 0
console.log(isNaN(" "));       // false: 包含空格的字符串被转换为 0

console.log(isNaN("blabla"));  // true: "blabla" 不是数字
```

:::

正如你所看到的，`isNaN()` 首先尝试将参数转换为数字。如果无法转换，它返回 `true`。这种行为可能导致一些令人惊讶的结果，特别是在处理可以强制转换为数字的字符串时。

由于这些潜在的不一致性，ES6（2015年发布的JavaScript第六版）引入了 `Number.isNaN()`。这种方法在测试之前不会尝试将参数转换为数字。它只在值恰好是 `NaN` 时返回 `true`：

:::interactive_editor

```js
console.log(Number.isNaN(NaN));        // true
console.log(Number.isNaN(Number.NaN)); // true
console.log(Number.isNaN(0 / 0));      // true

console.log(Number.isNaN("NaN"));      // false
console.log(Number.isNaN(undefined));  // false
console.log(Number.isNaN({}));         // false
console.log(Number.isNaN("blabla"));   // false
```

:::

`Number.isNaN()` 提供了一种更可靠的方式来检查 `NaN` 值，特别是在类型强制转换可能导致全局 `isNaN()` 函数出现意外结果的情况下。在实践中，当处理应该为数字的数值操作或用户输入时，通常需要检查 `NaN` 以优雅地处理错误或意外输入。例如：

:::interactive_editor

```js
let a = 0;
let b = 0;
let result = a / b;

if (Number.isNaN(result)) {
  result = "错误：除法结果为 NaN";
}

console.log(result); // "错误：除法结果为 NaN"
```

:::

在这个例子中，我们使用 `Number.isNaN()` 来捕获除法操作结果为 `NaN` 的情况，从而能够适当地处理这种情况。理解 `NaN` 以及如何正确检查它是编写健壮的 JavaScript 代码的关键，特别是在处理数学运算或解析用户输入时。

# --questions--

## --text--

以下代码的输出是什么？

```js
console.log(isNaN("123"));
```

## --answers--

`true`

### --feedback--

考虑 `isNaN()` 如何处理可以转换为数字的字符串。

---

`false`

---

`undefined`

### --feedback--

考虑 `isNaN()` 如何处理可以转换为数字的字符串。

---

`NaN`

### --feedback--

考虑 `isNaN()` 如何处理可以转换为数字的字符串。

## --video-solution--

2

## --text--

以下哪项正确检查一个值是否恰好是 `NaN`？

## --answers--

`value === NaN`

### --feedback--

想想哪种方法在检查之前不会尝试转换值。

---

`isNaN(value)`

### --feedback--

想想哪种方法在检查之前不会尝试转换值。

---

`Number.isNaN(value)`

---

`value.isNaN()`

### --feedback--

想想哪种方法在检查之前不会尝试转换值。

## --video-solution--

3

## --text--

`NaN === NaN` 的结果是什么？

## --answers--

`true`

### --feedback--

记住 `NaN` 在比较中的独特属性。

---

`false`

---

`undefined`

### --feedback--

记住 `NaN` 在比较中的独特属性。

---

`Error`

### --feedback--

记住 `NaN` 在比较中的独特属性。

## --video-solution--

2