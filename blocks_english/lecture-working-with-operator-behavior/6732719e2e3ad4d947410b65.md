---
id: 6732719e2e3ad4d947410b65
title: 运算符优先级是如何工作的？
challengeType: 19
dashedName: how-does-operator-precedence-work
---

# --interactive--

如果你在 JavaScript 中编写一个包含多个运算符的表达式，JavaScript 如何决定先计算哪一个？这就是运算符优先级的作用。让我们通过代码示例详细探讨运算符优先级，以及当运算符具有相同优先级时会发生什么。

运算符优先级决定了表达式中运算的计算顺序。优先级较高的运算符在优先级较低的运算符之前进行计算。可以把运算符优先级想象成数学中的概念，乘法和除法发生在加法和减法之前。

如果不遵循这个规则，基本方程式会给出错误的答案。JavaScript 的工作方式也是如此。它有自己的规则来决定哪些运算符先执行，哪些后执行。例如，看看下面的表达式：

:::interactive_editor

```js
const result = 2 + 3 * 4;

console.log(result); // 14
```

:::

如果 JavaScript 从左到右计算这个表达式，你会期望 `2 + 3 = 5`，然后 `5 * 4 = 20`。但由于乘法的优先级高于加法，JavaScript 先计算 `3 * 4` 部分，结果是 `2 + 12 = 14`。

有时，你可能希望表达式的某些部分先运行，而不考虑优先级规则。你可以使用括号 `()` 来实现这一点。括号内的任何内容都会优先计算，无论是什么。让我们让前面例子中的 `2 + 3` 部分先计算：

:::interactive_editor

```js
const result = (2 + 3) * 4;

console.log(result); // 20
```

:::

在上面的例子中，括号强制 JavaScript 先计算 `2 + 3`，然后将结果乘以 `4`。这给你 `20` 而不是 `14`。

除法运算符的优先级也比加法或减法高：

:::interactive_editor

```js
const result = 2 + 6 / 3;

console.log(result); // 4
```

:::

如果 JavaScript 从左到右计算这个表达式，你可能会期望 `2 + 6 = 8`，然后 `8 / 3 = 2.67`。但由于除法的优先级高于加法，JavaScript 先计算除法：`6 / 3 = 2`，然后加上 `2 + 2`，得到结果 `4`。

所以，在乘法和除法中，这些运算总是发生在加法和减法之前，除非你使用括号来改变顺序。那么当运算符具有相同的优先级时会发生什么呢？JavaScript 使用结合性来确定计算它们的顺序。

结合性告诉 JavaScript 是从左到右还是从右到左计算运算符。对于加法和乘法等大多数运算符，结合性是从左到右。所以，JavaScript 从表达式的最左边处理到最右边：

:::interactive_editor

```js
const result = 10 - 2 + 3;

console.log(result); // 11
```

:::

首先，`10 - 2 = 8`，然后 `8 + 3 = 11`。在这种情况下，JavaScript 从左到右移动。一些运算符，如赋值运算符（`=`），是右到左结合的。这意味着表达式的右侧先被计算：

:::interactive_editor

```js
let a, b;
a = b = 5;

console.log(a); // 5
console.log(b); // 5
console.log(a + b); // 10
```

:::

在上面的例子中，JavaScript 先将 `5` 赋值给 `b`，然后将 `b`（现在是 `5`）赋值给 `a`。

指数运算符也是右到左结合的：

:::interactive_editor

```js
const result = 2 ** 3 ** 2;

console.log(result); // 512
```

:::

首先，JavaScript 计算 `3 ** 2`，等于 `9`，然后计算 `2 ** 9`，等于 `512`。如果指数运算符是左到右结合的，JavaScript 会先计算 `2 ** 3` 得到 `8`，然后 `8 ** 2` 得到 `64`。

# --questions--

## --text--

JavaScript 中的运算符优先级与数学相比如何？

## --answers--

加法发生在乘法和除法之前。

### --feedback--

想想你在数学方程式中遵循的运算顺序。

---

乘法和除法发生在加法和减法之前，就像在数学中一样。

---

所有运算都按照它们出现的顺序执行。

### --feedback--

想想你在数学方程式中遵循的运算顺序。

---

减法优先于所有其他运算。

### --feedback--

想想你在数学方程式中遵循的运算顺序。

## --video-solution--

2

## --text--

如何在 JavaScript 中覆盖运算符优先级？

## --answers--

通过使用加法运算符（`+`）来改变运算顺序。

### --feedback--

想想你如何在数学方程式中改变运算顺序。

---

通过使用括号来强制表达式的某些部分先计算。

---

通过反转表达式中的运算符。

### --feedback--

想想你如何在数学方程式中改变运算顺序。

---

通过从左到右执行所有运算，而不考虑优先级。

### --feedback--

想想你如何在数学方程式中改变运算顺序。

## --video-solution--

2

## --text--

JavaScript 如何计算带有指数运算符（`**`）的表达式？

## --answers--

从左到右。

### --feedback--

想想指数运算在表达式中的顺序。

---

从右到左，意味着它先计算最右边的指数运算。

---

通过将底数乘以自身指定的次数。

### --feedback--

想想指数运算在表达式中的顺序。

---

通过先将指数相加，然后计算结果。

### --feedback--

想想指数运算在表达式中的顺序。

## --video-solution--

2