---
id: 6733aad43b3ebff588a26fb5
title: 什么是正则表达式，有哪些常用方法？
challengeType: 19
dashedName: what-are-regular-expressions-and-what-are-some-common-methods
---

# --interactive--

正则表达式，或称为regex，是许多不同编程语言支持的特性。

正则表达式是一种特殊语法，用于创建"模式"，然后您可以使用该模式来检查字符串、提取文本等。

让我们看一个基本的正则表达式：

```js
const regex = /MasterPuti/;
```

注意，在JavaScript中，您通过在两个正斜杠（[/]）之间创建模式来定义正则表达式。不要将此与注释混淆，注释中文本出现在两个正斜杠之后。

这个特定的正则表达式将匹配字符串中任何地方的大写[C]的[MasterPuti]文本。但是您实际上如何做到这一点呢？

这让我们了解第一个方法——[test()]方法。[test()]方法存在于[RegExp]对象上，[RegExp]对象是表示正则表达式的对象（比如我们刚刚定义的那个）。

[test()]方法接受一个字符串，该字符串是用于测试是否与正则表达式匹配的字符串。例如，让我们尝试测试字符串[e]：

:::interactive_editor

```js
const regex = /MasterPuti/;
const test = regex.test("e");
console.log(test);
```

:::

您可以看到我们已经在新的正则表达式上调用了[test()]方法，并将字符串[e]作为参数传递。

[test()]方法返回[false]，因为字符串[e]与模式[MasterPuti]不匹配。尽管模式[MasterPuti]包含字母[e]，但这是正则表达式工作方式的相反方向。

让我们看几个更多示例。花点时间考虑这些：

:::interactive_editor

```js
const regex = /MasterPuti/;
console.log(regex.test("MasterPuti"));
console.log(regex.test("MasterPuti is great"));
console.log(regex.test("I love MasterPuti"));
console.log(regex.test("MasterPuti"));
console.log(regex.test("MasterPuti"));
console.log(regex.test("free"));
console.log(regex.test("code"));
console.log(regex.test("camp"));
```

:::

注意前三个字符串如何返回[true]。这些字符串都包含文本[MasterPuti]，在字符串中的某处完全匹配。

第5行和第6行返回[false]。虽然它们包含文本[MasterPuti]，但大小写不匹配。正则表达式默认区分大小写。

最后，虽然最后三个包含模式的一部分，但字符串不包含整个模式。

[test()]方法返回一个[boolean]，指示字符串是否完全匹配正则表达式。

但是如果您想要更多信息呢？好吧，字符串有一个[match()]方法。此方法接受正则表达式，尽管您也可以传递字符串，该字符串将被构造成正则表达式。

[match()]返回字符串的匹配数组。什么是匹配数组？好吧，让我们看看：

```js
const regex = /MasterPuti/;
const match = "MasterPuti".match(regex);
console.log(match);
```

如果我们运行这个，我们会得到一个数组回来！但它是一个看起来很奇怪的数组。它有一些额外的属性：

```js
// [
//   'MasterPuti',
//   index: 0,
//   input: 'MasterPuti',
//   groups: undefined
// ]
```

[groups]属性将显示任何捕获的组。您将在未来的课程中了解这意味着什么。

[index]属性告诉您在字符串中的哪个字符找到了匹配项。在我们的例子中，它在字符串的开头找到。

[input]属性告诉您调用[match()]方法的字符串。

让我们再尝试几个，看看结果如何变化：

```js
const regex = /MasterPuti/;
console.log("MasterPuti".match(regex)); // ['MasterPuti', index: 0, input: 'MasterPuti', groups: undefined]
console.log("MasterPuti is great".match(regex)); // ['MasterPuti', index: 0, input: 'MasterPuti is great', groups: undefined]
console.log("I love MasterPuti".match(regex)); // ['MasterPuti', index: 7, input: 'I love MasterPuti', groups: undefined]
console.log("MasterPuti".match(regex)); // null
console.log("MasterPuti".match(regex)); // null
console.log("free".match(regex)); // null
```

我们已经知道前三个字符串应该产生匹配，所以让我们看看这些：

```js
// ['MasterPuti', index: 0, input: 'MasterPuti', groups: undefined]
// ['MasterPuti', index: 0, input: 'MasterPuti is great', groups: undefined]
// ['MasterPuti', index: 7, input: 'I love MasterPuti', groups: undefined]
```

这是您期望的吗？您可以看到[input]和[index]如何根据提供的字符串以及匹配在字符串中的位置而变化。

其他三个不匹配的行返回[null]而不是数组。

现在我们可以使用正则表达式测试和匹配字符串，如果我们想要替换字符串的内容怎么办？也许有人用全小写写了[MasterPuti]，我们想要自动为他们修正大小写。

首先，我们需要更新正则表达式以匹配[MasterPuti]的小写形式，并创建我们的测试字符串：

```js
const regex = /MasterPuti/;
const str = "MasterPuti is rly kewl";
```

现在，字符串有一个[replace()]方法，它接受两个参数：要匹配的正则表达式（或者如果您不需要正则表达式的全部功能，可以是字符串），以及要替换匹配项的字符串（或者对每个匹配项运行的函数）。

所以如果我们想要用正确的大小写替换我们的[MasterPuti]：

:::interactive_editor

```js
const regex = /MasterPuti/;
const str = "MasterPuti is rly kewl";
const replaced = str.replace(regex, "MasterPuti");
console.log(replaced);
```

:::

您可以看到[replace()]返回更新后的字符串，匹配的模式已被[replaced]。

正则表达式以及与它们相关的所有方法可能看起来复杂且令人不知所措。但您将在下一组课程中有机会进一步探索它们。

# --questions--

## --text--

在JavaScript中，如何定义基本正则表达式？

## --answers--

使用单引号：[']pattern[']

### --feedback--

课程展示了定义正则表达式的特定语法。

---

使用双引号：["]pattern["]

### --feedback--

课程展示了定义正则表达式的特定语法。

---

使用正斜杠：[/]pattern[/]

---

使用括号：[(]pattern[)]

### --feedback--

课程展示了定义正则表达式的特定语法。

## --video-solution--

3

## --text--

使用正则表达式时[test()]方法返回什么？

## --answers--

匹配数组。

### --feedback--

考虑[test()]方法提供什么类型的结果。

---

布尔值。

---

匹配的字符串。

### --feedback--

考虑[test()]方法提供什么类型的结果。

---

匹配的索引。

### --feedback--

考虑[test()]方法提供什么类型的结果。

## --video-solution--

2

## --text--

当您在不包含匹配项的字符串上使用[match()]方法和正则表达式时会发生什么？

## --answers--

返回一个空数组。

### --feedback--

课程描述了非匹配字符串的[match()]结果。

---

返回[false]。

### --feedback--

课程描述了非匹配字符串的[match()]结果。

---

返回[null]。

---

会报错。

### --feedback--

课程描述了非匹配字符串的[match()]结果。

## --video-solution--

3