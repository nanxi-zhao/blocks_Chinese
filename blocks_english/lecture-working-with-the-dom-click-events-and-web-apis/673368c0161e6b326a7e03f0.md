---
id: 673368c0161e6b326a7e03f0
title: 如何使用innerHTML和createElement()创建新节点？
challengeType: 19
dashedName: how-do-you-create-new-nodes-using-innerhtml-and-createelement
---

# --interactive--

让我们看看如何使用[innerHTML](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368c0161e6b326a7e03f0.md#L14-L14)和[createElement()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368c0161e6b326a7e03f0.md#L72-L72)创建节点。

我们从[innerHTML](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368c0161e6b326a7e03f0.md#L14-L14)开始。

[innerHTML](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368c0161e6b326a7e03f0.md#L14-L14)是[Element](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/67336894ae148431a870694d.md#L62-L62)对象的一个属性，你可以用它来设置它们的HTML标记。使用[innerHTML](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368c0161e6b326a7e03f0.md#L14-L14)，你可以用字符串设置现有元素的HTML结构，创建所有必要的节点。

这是一个示例。我们有一个空的[div](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368c0161e6b326a7e03f0.md#L19-L21)，我们将使用[innerHTML](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368c0161e6b326a7e03f0.md#L14-L14)属性在其中添加一些元素：

```html
<div id="container">
  <!-- Add new elements here -->
</div>
```

首先，我们需要通过其ID选择元素：

```js
const container = document.getElementById("container");
```

然后，我们将容器的[innerHTML](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368c0161e6b326a7e03f0.md#L14-L14)属性设置为一个字符串。这个字符串必须包含表示你想要创建的节点和结构所需的所有标记。你可以把它想象成在字符串中编写HTML。

:::interactive_editor

```html
<div id="container"></div>
<script src="index.js"></script>
```

```js
const container = document.getElementById("container");
container.innerHTML = "<ul><li>Cheese</li><li>Tomato</li></ul>";
```

:::

我们将把这个元素的[innerHTML](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368c0161e6b326a7e03f0.md#L14-L14)设置为一个披萨配料（奶酪和番茄）的无序列表。

如果这样使标记更容易理解，你也可以将字符串写在多行上。重要的是标记要准确地表示你想要创建的HTML结构。

运行这段代码后，如果你检查你的标记，你会看到以下HTML结构。

```html
<div id="container">
  <ul>
    <li>Cheese</li>
    <li>Tomato</li>
  </ul>
</div>
```

新节点在字符串被解析后动态地创建并添加到DOM中。

[innerHTML](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368c0161e6b326a7e03f0.md#L14-L14)在某些场景中非常有用。但是，它确实有一些安全风险，你应该熟悉这些风险。如果你无法完全控制字符串，就不应该使用它。

例如，如果字符串将由用户输入，你不应该使用[innerHTML](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368c0161e6b326a7e03f0.md#L14-L14)，因为用户可能会在你的网站中插入恶意内容。因此，通常建议使用[textContent](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368c0161e6b326a7e03f0.md#L65-L65)来插入纯文本。

创建新节点的另一种方法是使用[createElement()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368c0161e6b326a7e03f0.md#L72-L72)方法。使用这个新方法，你可以通过指定其标签名来创建一个新元素。

例如，如果你想创建一个图像元素，你会在调用这个方法时传递[img](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368c0161e6b326a7e03f0.md#L72-L72)标签作为字符串：

```js
document.createElement("img");
```

你可以将这个新对象赋值给一个变量：

```js
const img = document.createElement("img");
```

如果文档是[HTMLDocument](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368c0161e6b326a7e03f0.md#L81-L81)，[createElement()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368c0161e6b326a7e03f0.md#L72-L72)方法会返回一个新的[HTMLElement](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368c0161e6b326a7e03f0.md#L81-L81)对象。否则，它会返回一个[Element](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/67336894ae148431a870694d.md#L62-L62)对象。

一旦你准备好了这个新元素，你可以使用[appendChild()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368c0161e6b326a7e03f0.md#L97-L97)方法将其作为另一个现有元素的子元素添加到DOM中，或者你可以使用其他方法将其插入到特定位置。选择最适合你需求的方法。

:::interactive_editor

```html
<div id="container"></div>
<script src="index.js"></script>
```

```js
const container = document.getElementById("container");
const img = document.createElement("img");
img.src = "https://cdn.MasterPuti.org/curriculum/cat-photo-app/lasagna.jpg";
img.alt = "A slice of lasagna on a plate.";
container.appendChild(img);
```

:::

使用[innerHTML](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368c0161e6b326a7e03f0.md#L14-L14)和[createElement()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368c0161e6b326a7e03f0.md#L72-L72)创建节点可以让你动态地操作网站的结构和内容。通过结合这些技术，你可以构建交互式Web应用程序。

# --questions--

## --text--

[innerHTML](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368c0161e6b326a7e03f0.md#L14-L14)属性的主要用途是什么？

## --answers--

更新HTML元素。

### --feedback--

想想[innerHTML](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368c0161e6b326a7e03f0.md#L14-L14)如何用于操作元素的结构。

---

设置元素的文本内容。

### --feedback--

想想[innerHTML](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368c0161e6b326a7e03f0.md#L14-L14)如何用于操作元素的结构。

---

修改元素的属性。

### --feedback--

想想[innerHTML](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368c0161e6b326a7e03f0.md#L14-L14)如何用于操作元素的结构。

---

动态地将HTML内容注入元素。

## --video-solution--

4

## --text--

以下哪种方法用于在JavaScript中创建新的HTML元素？

## --answers--

[createElement()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368c0161e6b326a7e03f0.md#L72-L72)

---

[createNode()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368c0161e6b326a7e03f0.md#L152-L152)

### --feedback--

想想如何从头开始创建一个新元素。

---

[appendChild()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368c0161e6b326a7e03f0.md#L97-L97)

### --feedback--

想想如何从头开始创建一个新元素。

---

[getElementById()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-arrays-variables-and-naming-practices/6733b43e3b72d0180404c53d.md#L41-L47)

### --feedback--

想想如何从头开始创建一个新元素。

## --video-solution--

1

## --text--

当你无法控制字符串时，使用[innerHTML](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368c0161e6b326a7e03f0.md#L14-L14)的主要风险是什么？

## --answers--

导致无限循环。

### --feedback--

想想在使用带有不受信任输入的[innerHTML](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368c0161e6b326a7e03f0.md#L14-L14)时代码注入的可能性。

---

插入恶意内容。

---

性能问题。

### --feedback--

想想在使用带有不受信任输入的[innerHTML](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368c0161e6b326a7e03f0.md#L14-L14)时代码注入的可能性。

---

可访问性问题。

### --feedback--

想想在使用带有不受信任输入的[innerHTML](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368c0161e6b326a7e03f0.md#L14-L14)时代码注入的可能性。

## --video-solution--

2