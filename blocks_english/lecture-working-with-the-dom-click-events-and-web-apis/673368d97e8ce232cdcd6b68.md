---
id: 673368d97e8ce232cdcd6b68
title: 如何使用appendChild()和removeChild()从DOM中添加和删除节点？
challengeType: 19
dashedName: how-do-you-add-and-remove-nodes-from-the-dom-with-appendchild-and-removechild
---

# --interactive--

有时候你需要从DOM中添加或删除节点，有几个Web API可以使用。

在本课中，我们将介绍[appendChild()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L56-L56)和[removeChild()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L154-L154)方法。

[appendChild()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L56-L56)方法用于将节点添加到指定父节点的子节点列表末尾。

以下是[appendChild()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L56-L56)方法的基本语法：

```js
parentNode.appendChild(newNode);
```

让我们看一个示例，更好地理解如何使用[appendChild()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L56-L56)方法。

在这个示例中，我们在HTML中有一个ID为[desserts](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L27-L30)的无序列表元素。这个列表包含两个列表项[Cake](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L28-L28)和[Pie](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L29-L29)：

```html
<ul id="desserts">
  <li>Cake</li>
  <li>Pie</li>
</ul>
```

要在JavaScript文件中访问该列表，我们可以使用[getElementById()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-arrays-variables-and-naming-practices/6733b43e3b72d0180404c53d.md#L41-L47)方法：

```js
const dessertsList = document.getElementById("desserts");
```

我们有一个名为[dessertsList](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L36-L36)的变量，它存储了对ID为[desserts](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L27-L30)的[ul](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L27-L30)元素的引用。

然后我们需要使用[createElement()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368c0161e6b326a7e03f0.md#L72-L72)方法创建一个新的列表项元素：

```js
const dessertsList = document.getElementById("desserts");
const listItem = document.createElement("li");
```

以下代码将创建一个新的列表项元素并将其存储在名为[listItem](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L45-L45)的变量中。

要将该节点添加到[ul](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L27-L30)元素的子节点列表末尾，我们可以使用[appendChild()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L56-L56)方法：

```js
const dessertsList = document.getElementById("desserts");
const listItem = document.createElement("li");

dessertsList.appendChild(listItem);
```

如果你运行这段代码，你会看到一个新的列表项元素被添加到[ul](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L27-L30)元素的子节点列表末尾。

:::interactive_editor

```html
<ul id="desserts">
  <li>Cake</li>
  <li>Pie</li>
</ul>
<script src="index.js"></script>
```

```js
const dessertsList = document.getElementById("desserts");
const listItem = document.createElement("li");

dessertsList.appendChild(listItem);
```

:::

问题是新的列表项元素是空的。要向新的列表项元素添加文本内容，你可以使用[textContent](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368ccf52205329b729378.md#L112-L112)属性：

:::interactive_editor

```html
<ul id="desserts">
  <li>Cake</li>
  <li>Pie</li>
</ul>
<script src="index.js"></script>
```

```js
const dessertsList = document.getElementById("desserts");
const listItem = document.createElement("li");

listItem.textContent = "Cookies";
dessertsList.appendChild(listItem);
```

:::

现在列表将显示[Cake](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L28-L28)、[Pie](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L29-L29)和[Cookies](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L96-L96)。

要从DOM中删除节点，你可以使用[removeChild()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L154-L154)方法。

以下是[removeChild()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L154-L154)方法的基本语法：

```js
parentNode.removeChild(childNode);
```

让我们看一个示例，我们要从这个[section](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L115-L119)元素中删除最后一个段落元素：

```html
<section id="example-section">
  <h2>Example sub heading</h2>
  <p>first paragraph</p>
  <p>second paragraph</p>
</section>
```

我们可以在JavaScript文件中使用[getElementById()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-arrays-variables-and-naming-practices/6733b43e3b72d0180404c53d.md#L41-L47)方法访问[section](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L115-L119)元素：

```js
const sectionEl = document.getElementById("example-section");
```

一旦我们有了对[section](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L115-L119)元素的引用，我们就可以使用[querySelector()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/67336894ae148431a870694d.md#L99-L99)方法访问最后一个段落：

```js
const sectionEl = document.getElementById("example-section");
const lastParagraph = document.querySelector("#example-section p:last-of-type");
```

我们使用[:last-of-type](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L132-L132)伪类来选择[section](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L115-L119)元素内的最后一个段落元素。

现在我们有了父节点和子节点，我们可以使用[removeChild()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L154-L154)方法从[section](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L115-L119)元素中删除最后一个段落元素：

:::interactive_editor

```html
<section id="example-section">
  <h2>Example sub heading</h2>
  <p>first paragraph</p>
  <p>second paragraph</p>
</section>
<script src="index.js"></script>
```

```js
const sectionEl = document.getElementById("example-section");
const lastParagraph = document.querySelector("#example-section p:last-of-type");

sectionEl.removeChild(lastParagraph);
```

:::

那么，什么时候你可能需要从DOM中添加或删除节点呢？

如果你正在处理动态内容，你可能需要从DOM中添加或删除节点。现实世界的示例包括购物车、待办事项列表和社交媒体信息流。

# --questions--

## --text--

[appendChild()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L56-L56)方法的作用是什么？

## --answers--

从DOM中删除节点。

### --feedback--

想想节点相对于其兄弟节点的位置。

---

将节点添加到指定父节点的子节点列表末尾。

---

用新节点替换现有节点。

### --feedback--

想想节点相对于其兄弟节点的位置。

---

将节点移动到DOM中的不同位置。

### --feedback--

想想节点相对于其兄弟节点的位置。

## --video-solution--

2

## --text--

如何向新创建的列表项元素添加文本内容？

## --answers--

在新节点上使用[setText()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L207-L207)方法。

### --feedback--

考虑允许设置元素内文本的属性。

---

直接将字符串赋值给新节点的[innerHTML](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368c0161e6b326a7e03f0.md#L14-L14)属性。

### --feedback--

考虑允许设置元素内文本的属性。

---

将新节点的[textContent](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368ccf52205329b729378.md#L112-L112)属性设置为所需的字符串。

---

将带有文本节点作为参数的[appendChild()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L56-L56)方法用于新节点。

### --feedback--

考虑允许设置元素内文本的属性。

## --video-solution--

3

## --text--

如何使用JavaScript从section中删除最后一个段落元素？

## --answers--

在section元素上使用[removeChild()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L154-L154)，并传入对最后一个段落元素的引用。

---

在section元素上使用[deleteChild()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L247-L247)，并传入对最后一个段落元素的引用。

### --feedback--

想想从其父节点删除子节点的方法。

---

在section元素上使用[detachChild()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L255-L255)，并传入对最后一个段落元素的引用。

### --feedback--

想想从其父节点删除子节点的方法。

---

在section元素上使用[removeNode()](file:///F:/Code/blocks_Chinese/blocks_english/lecture-working-with-the-dom-click-events-and-web-apis/673368d97e8ce232cdcd6b68.md#L263-L263)，并传入对最后一个段落元素的引用。

### --feedback--

想想从其父节点删除子节点的方法。

## --video-solution--

1