---
id: 6724e4cfea0c4f2425a9d064
title: Git 复习
challengeType: 31
dashedName: review-git
---

# --description--

## 版本控制简介

- **定义**：版本控制系统允许你跟踪和管理项目中的变更。软件中使用的版本控制系统示例包括 Git、SVN 或 Mercurial。

## 基于云的版本控制提供商

- **基于云的版本控制提供商列表**：GitHub 和 GitLab 是流行的基于云的版本控制提供商示例，它们允许软件团队协作和管理仓库。

## 安装和设置 Git

- **安装 Git**：要检查 Git 是否已安装在你的机器上，可以在终端中运行以下命令：

```sh
git --version
```

如果你看到版本号，说明 Git 已安装。如果没有，那么你需要安装它。

对于 Linux 系统，Git 通常随大多数发行版预装。如果你没有预装 Git，应该能够使用包管理器命令如 `sudo apt-get install git` 或 `sudo pacman -S git` 来安装它。

对于 Mac 用户，你可以通过 Homebrew 使用 `brew install git` 来安装 Git，或者你可以从 Git 网站下载可执行安装程序。

对于 Windows，你可以从 Git 网站下载可执行安装程序。或者，如果你已经设置了 Chocolatey，可以在 PowerShell 中运行 `choco install git.install`。注意在 Windows 上，你可能还想下载 Git Bash，这样你就可以使用类似 Unix 的 shell 环境了。

要确保安装成功，再次在终端中运行 `git --version` 命令。

- **Git 配置**：`git config` 用于设置负责 Git 在你的机器上如何操作的配置变量。要查看你当前的设置变量以及它们在系统中的存储位置，可以运行以下命令：

```sh
git config --list --show-origin
```

如果你刚刚安装了 Git，现在你应该只看到系统级配置设置。

要设置你的用户名，可以运行以下命令：

```sh
git config --global user.name "Jane Doe"
```

这里使用 `--global` 标志来为系统上使用 Git 的所有项目设置用户名。如果你需要为特定项目覆盖用户名，那么可以在该特定项目目录中运行不带 `--global` 标志的命令。

要设置用户邮箱地址，可以运行以下命令：

```sh
git config --global user.email janedoe@example.com
```

你还可以设置 Git 使用的首选编辑器。以下是将你的首选编辑器设置为 Emacs 的示例：

```sh
git config --global core.editor emacs
```

如果你选择不设置首选编辑器，那么 Git 将默认使用你系统的默认编辑器。

## 开源软件与闭源软件

- **定义**："开源"意味着人们可以看到你发布的代码，提出更改建议，报告问题，甚至运行修改版本。"闭源"意味着只有你明确授权的人才能看到和与项目交互。

## GitHub

- **定义**：GitHub 是一个基于云的解决方案，提供存储版本控制项目的"仓库"，并启用与这些项目协作的功能。
- **GitHub CLI**：这个工具用于在不离开命令行的情况下执行 GitHub 特定任务。如果你没有安装它，可以从 GitHub 文档中获取安装说明 - 但你应该可以在系统的包管理器中找到它。
- **GitHub Pages**：GitHub Pages 是部署静态站点或不需要后端服务器处理逻辑的应用程序的选项。也就是说，完全在客户端或用户浏览器中运行的应用程序可以完全部署在这个平台上。
- **GitHub Actions**：GitHub Actions 是一个功能，允许你直接在 GitHub 仓库中自动化工作流程，包括构建、测试和部署代码。

## 常用 Git 命令

- **`git init`**：这将初始化一个空的 Git 仓库，这样 Git 就可以开始跟踪此项目的变更。当你初始化一个空的 Git 仓库到项目中时，会添加一个新的 `.git` 隐藏目录。这个 `.git` 目录包含 Git 管理项目的重要信息。
- **`git status`**：这个命令用于显示工作目录的当前状态 - 你会在工作流程中经常使用这个命令。
- **`git add`**：这个命令用于暂存你的变更。暂存区中的任何内容都将添加到下一次提交中。如果你想暂存所有未暂存的变更，那么可以使用 `git add .`。句点 (`.`) 是当前目录的别名。
- **`git commit`**：这个命令用于提交你的变更。提交是在给定时间点的项目状态快照。如果你运行 `git commit`，它将打开你在 Git 配置中设置的首选编辑器。一旦编辑器打开，你可以提供变更的详细信息。你也可以选择通过使用 `git commit -m` 命令来提供简短信息，如下所示：

```sh
git commit -m "short message goes here"
```

- **`git log`**：这将列出所有先前的提交，包含有用的信息如作者、提交日期、提交信息和提交哈希。提交哈希是一个长字符串，作为提交的唯一标识符。
- **`git remote add`**：这个命令用于设置与远程仓库的远程连接。
- **`git push`**：这个命令用于将你的变更推送到远程仓库。
- **`git pull`**：这个命令用于将最新的变更从远程仓库拉取到你的本地仓库。
- **`git clone`**：这个命令将克隆一个仓库。这意味着你将拥有仓库的副本。这个副本包括仓库历史、所有文件/文件夹和本地设备上的提交。
- **`git remote -v`**：这个命令将显示与你的本地 Git 仓库关联的远程仓库列表。
- **`git branch`**：这个命令将列出你所有的本地分支。
- **`git fetch upstream`**：这个命令告诉 Git 去获取上游远程（即原始仓库）的最新变更。
- **`git merge upstream/main`**：这个命令告诉 Git 将上游远程的 `main` 分支的最新变更合并到你的当前分支。
- **`git reset`**：这个命令允许你重置分支的当前状态。传递 `--hard` 标志告诉 Git 强制本地文件匹配分支状态。这确保你有一个干净的工作环境。
- **`git rebase`**：Git 中的变基是将一个分支上的一系列提交移动或合并到另一个分支上的方式。

## 使用分支

- **定义**：Git 中的分支是一个独立的工作空间，你可以在其中进行变更。`main` 分支通常代表现实世界应用程序中的主要或生产分支。开发团队将为新功能和错误修复创建多个分支，然后将这些变更合并回 `main` 分支。
- **创建新分支**：要创建新分支，可以运行以下命令：

```sh
git branch feature
```

要检出该分支，可以运行以下命令：

```sh
git checkout feature
```

大多数开发人员会使用创建和检出分支的简写命令，如下所示：

```sh
git checkout -b new-branch-name
```

一个更新和替代的命令是 `git switch` 命令。以下是创建和切换到新分支的示例：

```sh
git switch -c new-branch-name
```

- **分支策略**：你的 `main` 分支是默认分支，通常相当稳定。因此，最好从那里分支出来为错误修复、新功能或其他杂项工作创建新分支。
- **合并冲突**：当 Git 尝试自动合并来自不同分支的变更但无法决定保留哪些变更时，就会发生这种情况。当同一文件的相同部分有冲突变更时，通常会发生这种情况。

## Git 跟踪文件的五种状态

- **"未跟踪"**：这意味着该文件是仓库中的新文件，Git 之前没有"见过"它。
- **"已修改"**：这个文件在之前的提交中存在，并且有未提交的变更。
- **"已忽略"**：你可能在 Git 中看不到忽略的文件，但你的 IDE 可能有指示器。忽略的文件从 Git 操作中排除，通常是因为它们包含在 `.gitignore` 文件中。
- **"已删除"**：已删除的文件与未跟踪的文件相反 - 它是之前存在但已被删除的文件。
- **"已重命名"**：已重命名的文件是内容未更改但名称或位置已修改的文件。在某些情况下，即使文件有少量变更，也可能被认为是已重命名的。

## `.gitignore` 文件

- **定义**：`.gitignore` 文件是与 Git 操作相关的特殊类型文件。名称表明这个文件用于告诉 Git 忽略事物，这是常见用例。但它实际做的是告诉 Git 停止跟踪文件。

## 使用仓库

- **定义**：仓库就像项目的容器 - 如果你正在开发一个应用程序，你会将该应用程序的文件保存在仓库中。仓库可以是本地计算机上的，也可以是 GitHub 等服务上的远程仓库。
- **公共仓库与私有仓库**：公共仓库可以被任何人查看和下载。私有仓库只能由你和你明确授予访问权限的人访问。
- **在 GitHub 上创建仓库**：要在 GitHub 上创建新仓库，你可以点击 `"New Repository"` 按钮并通过 GitHub UI 设置新仓库。
- **将本地仓库推送到 GitHub**：如果你在计算机上有本地项目，可以将该仓库推送到 GitHub。以下是该过程的逐步概述：

1. 在项目目录中初始化空的 git 仓库 (`git init`)。
2. 对项目进行变更。
3. 运行 `git status` 命令查看 git 跟踪的所有变更。
4. 暂存你的变更 (`git add`)。
5. 提交你的变更 (`git commit`)。
6. 设置远程连接 (`git remote add`)。
7. 将你的变更推送到 GitHub (`git push`)。

## 拉取请求

- **拉取请求**：拉取请求是将你的分支中的变更拉取到目标分支的请求。当你想要为项目贡献代码变更时，会使用拉取请求流程。这种方法允许项目的维护者审查你的变更。他们可以留下评论、提出问题和建议调整。然后一旦审查过程完成，它就可以被批准并合并到主分支。

## 为其他仓库做贡献

- **流程**：有数千个项目你可以贡献。以下是为另一个仓库做贡献的基本流程：

1. 阅读贡献文档
2. 找到可处理的问题
3. 派生仓库
4. 克隆你派生的仓库副本
5. 创建新分支
6. 根据问题进行变更
7. 创建 PR（拉取请求）
8. 等待对该 PR 的审查

## 使用 SSH 和 GPG 密钥

- **GPG 密钥**：GPG，或 Gnu Privacy Guard 密钥，通常用于签署文件或提交。然后有人可以使用你的公共 GPG 密钥来验证文件签名来自你的密钥，并且文件内容没有被修改或篡改。

要生成 GPG 密钥，你需要运行：

```sh
gpg --full-generate-key
```

- **SSH 密钥**：SSH，或 Secure SHell 密钥，通常用于验证到服务器的远程连接 - 通过 `ssh` 实用程序。你也可以使用 SSH 密钥签署提交。

对于 SSH 密钥，你将运行：

```sh
ssh-keygen -t ed25519 -C "your_email@example.com"
```

`ed25519` 是一种现代的公钥签名算法。

- **使用 GPG 密钥签署提交**：要使用你的 GPG 密钥签署提交，你需要上传你的公钥，而不是私钥，到你的 GitHub 账户。要列出你的公钥，你需要运行以下命令：

```sh
gpg --list-secret-keys --keyid-format=long
```

然后，要获取公钥，使用：

```sh
gpg --armor --export "<key id>"
```

然后，使用你从列出密钥中得到的短 ID 运行此命令将其设置为你的 git 签名密钥：

```sh
git config --global user.signingkey <your_gpg_key_id>
```

然后，你可以将 `-S` 标志传递给你的 `git commit` 命令来签署特定提交 - 你需要提供密码。或者，如果你想自动签署每个提交，可以将 autosign 配置设置为 `true`：

```sh
git config --global commit.gpgsign true
```

- **使用 SSH 密钥签署提交**：要使用 SSH 密钥签署提交，这是 GitHub 上的相对较新功能，你需要首先将密钥上传到你的 GitHub 账户。然后你需要将 git 的签名模式设置为使用 SSH：

```sh
git config --global gpg.format ssh
```

然后，要设置签名密钥，你将传递文件路径而不是 ID：

```sh
git config --global user.signingkey <path_to_your_ssh_keys>
```

# --assignment--

复习 Git 主题和概念。