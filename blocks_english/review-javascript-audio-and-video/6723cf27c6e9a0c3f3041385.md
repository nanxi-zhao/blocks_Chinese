---
id: 6723cf27c6e9a0c3f3041385
title: JavaScript音视频复习
challengeType: 31
dashedName: review-javascript-audio-and-video
---

# --description--

## [Audio]构造函数和常用方法

- **定义**：[Audio]构造函数与其他构造函数一样，是使用[new]关键字调用的特殊函数。它返回一个[HTMLAudioElement]，然后你可以使用它为用户播放音频或附加到DOM中供用户自己控制。当你调用构造函数时，你可以选择性地传递一个URL作为（唯一）参数。此URL应指向你想要播放的音频文件的源。或者，如果你需要动态更改源，你可以将URL分配给返回的音频元素的[src]属性。
- **[play()]方法**：此方法与[audio]或[video]元素一起使用，以开始播放媒体。

```js
const audio = document.getElementById('audio');

// Starts playing the audio
audio.play();
```

- **[pause()]方法**：此方法与[audio]或[video]元素一起使用，以暂停媒体播放。它保持当前位置，因此如果调用[play()]，它从该位置开始。

```js
function pauseAudio() {
  const audio = document.getElementById('myAudio');
  audio.pause();  // Pauses the audio playback
}
```

- **[addTextTrack()]方法**：此方法允许你指定与媒体元素关联的文本轨道 - 这对于向视频添加字幕特别有帮助。
- **[fastSeek()]方法**：此方法允许你将播放位置移动到媒体内的特定时间。

[Audio()]构造函数具有属性，就像它具有方法一样。这些属性包括：

- [currentTime]：用于获取音频的当前播放时间
- [loop]：通过在到达末尾时自动重新启动来使音频连续播放
- [muted]：无论音量设置如何，都使媒体元素的音频输出静音

## 不同的音视频格式

- **MIME类型**：MIME类型，全称为多用途互联网邮件扩展，是一种以编程方式指示文件类型的标准化方法。MIME类型可以告诉应用程序（如你的浏览器）如何处理特定文件。对于音视频，MIME类型表示它是一种可以嵌入网页的多媒体格式。
- **[source]元素**：这用于指定文件类型和源 - 并且可以通过使用多个source元素包含多种不同类型。当你这样做时，浏览器将确定用于用户当前环境的最佳格式。
- **MP3**：这是一种用于存储音乐、音频或声音的数字文件格式。它是声音录制的压缩版本，使文件大小更小，因此更容易存储和共享。MP3具有最广泛的浏览器支持和[audio/mp3]的MIME类型。
- **MP4**：MP4是一种用于存储视频和音频的数字文件格式。它作为容器，将视频（图像）和声音（音乐或语音）保存在一个文件中。MP4可以具有[audio/mp4]或[video/mp4]的MIME类型，具体取决于它是视频文件还是仅音频。
- 其他格式包括与Windows Media Player应用程序关联的[WMV]、[OGG]、[MKV]、[AVI]等。

## 编解码器

- **定义**：编解码器，全称为"编码器/解码器"，是一种算法或软件，可以在音视频的模拟和数字格式之间转换。编解码器可以指定为MIME类型的一部分。定义编解码器的基本语法是在媒体类型后添加分号，然后是[codecs=]和编解码器。

## HTMLMediaElement API

- **定义**：[HTMLMediaElement] API用于控制页面上音视频元素的行为。它扩展了基础[HTMLElement]接口，因此你可以访问基础属性、方法以及这些有用的事件，如[waiting]、[ended]、[canplay]、[canplaythrough]等。方法示例包括[play()]、[fastSeek()]、[pause()]和[canPlayType()]，用于检查浏览器是否可能能够播放音频文件。

## 媒体捕获和流API

- **定义**：媒体捕获和流API，或MediaStream API，用于从你的设备捕获音视频。为了使用API，你需要创建[MediaStream]对象。你可以使用构造函数来执行此操作，但它不会与用户的硬件绑定。相反，[global] navigator对象的[mediaDevices]属性有一个[getUserMedia()]方法供你使用。

```js
window.navigator.mediaDevices.getUserMedia({
  audio: true,
  video: {
    width: {
      min: 1280,
      ideal: 1920,
      max: 3840
    },
    height: {
      min: 720,
      ideal: 1080,
      max: 2160
    }
  }
});
```

## 屏幕捕获API

- **定义**：屏幕捕获API用于录制用户的屏幕。通过调用[mediaDevices]对象的[getDisplayMedia()]方法并使用返回的媒体流来公开此API。

## 媒体流录制API

- **定义**：媒体流录制API与MediaStreams API协同工作，允许你录制MediaStream（甚至直接录制[HTMLMediaElement]）。

## 媒体源扩展API

- **主题**：媒体源扩展API允许你直接将用户的网络摄像头源传递给具有[srcObject]属性的视频元素。

## Web音频API

- **定义**：Web音频API驱动Web上所有可听内容。此API包括重要对象，如[AudioBuffer]（表示专门包含音频数据的缓冲区）或[AudioContext]，用于表示音频处理图。

# --assignment--

复习JavaScript音视频主题和概念。