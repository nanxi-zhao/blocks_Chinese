---
id: 6723ca6c6db3deb21cb1bf19
title: JavaScript高阶函数复习
challengeType: 31
dashedName: review-javascript-higher-order-functions
---

# --description--

## 回调函数和`forEach`方法

- **定义**：在JavaScript中，回调函数是作为参数传递给另一个函数并在主函数执行完成后执行的函数。
- **`forEach()`方法**：此方法用于遍历数组中的每个元素并对每个元素执行操作。`forEach`中的回调函数最多可以接受三个参数：当前元素、当前元素的索引以及调用`forEach`的数组。

```js
const numbers = [1, 2, 3, 4, 5];

// Result: 2 4 6 8 10
numbers.forEach((number) => {
  console.log(number * 2);
});
```

## 高阶函数

- **定义**：高阶函数接受一个或多个函数作为参数，并返回一个函数或值作为结果。

```js
function operateOnArray(arr, operation) {
  const result = [];
  for (let i = 0; i < arr.length; i++) {
    result.push(operation(arr[i]));
  }
  return result;
}

function double(x) {
  return x * 2;
}

const numbers = [1, 2, 3, 4, 5];
const doubledNumbers = operateOnArray(numbers, double);
console.log(doubledNumbers); // [2, 4, 6, 8, 10]
```

- **`map()`方法**：此方法用于通过对原数组的每个元素应用给定函数来创建新数组。回调函数最多可以接受三个参数：当前元素、当前元素的索引以及调用`map`的数组。

```js
const numbers = [1, 2, 3, 4, 5];
const doubled = numbers.map((num) => num * 2);

console.log(numbers); // [1, 2, 3, 4, 5]
console.log(doubled); // [2, 4, 6, 8, 10]
```

- **`filter()`方法**：此方法用于创建一个新数组，其中包含通过指定测试的元素，使其在基于条件选择性提取项目时非常有用。就像`map`方法一样，`filter`方法的回调函数接受相同的三个参数：正在处理的当前元素、索引和数组。

```js
const numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
const evenNumbers = numbers.filter((num) => num % 2 === 0);

console.log(evenNumbers); // [2, 4, 6, 8, 10]
```

- **`reduce()`方法**：此方法用于处理数组并将其压缩为单个值。这个单个值可以是数字、字符串、对象甚至另一个数组。`reduce()`方法通过按顺序对数组中的每个元素应用函数来工作，将每次计算的结果传递给下一次计算。这个函数通常被称为归约函数。归约函数接受两个主要参数：累加器和当前值。累加器是存储操作运行结果的地方，当前值是正在处理的数组元素。

```js
const numbers = [1, 2, 3, 4, 5];
const sum = numbers.reduce(
  (accumulator, currentValue) => accumulator + currentValue,
  0
);

console.log(sum); // 15
```

## 方法链

- **定义**：方法链是一种编程技术，允许你在一行代码中对同一对象调用多个方法。这种技术可以使你的代码更具可读性和简洁性，特别是在对同一对象执行一系列操作时。

```js
const result = "  Hello, World!  "
  .trim()
  .toLowerCase()
  .replace("world", "JavaScript");

console.log(result); // "hello, JavaScript!"
```

## 使用`sort`方法

- **定义**：`sort`方法用于对数组的元素进行排序并返回对已排序数组的引用。在这种情况下不会创建副本，因为元素是就地排序的。

```js
const fruits = ["Banana", "Orange", "Apple", "Mango"];
fruits.sort();

console.log(fruits); // ["Apple", "Banana", "Mango", "Orange"]
```

如果你需要对数字进行排序，那么你需要传入一个比较函数。`sort`方法将元素转换为字符串，然后比较它们的UTF-16代码单元值序列。UTF-16代码单元是表示字符串中字符的数值。UTF-16代码单元的例子是数字65、66和67，它们分别表示字符"A"、"B"和"C"。所以在数组中，数字200出现在数字3之前，因为字符串"200"在比较它们的UTF-16代码单元时出现在字符串"3"之前。

```js
const numbers = [414, 200, 5, 10, 3];

numbers.sort((a, b) => a - b);

console.log(numbers); // [3, 5, 10, 200, 414]
```

参数`a`和`b`是要比较的两个元素。比较函数应该在`a`应该在`b`之前时返回负值，在`a`应该在`b`之后时返回正值，在`a`和`b`相等时返回零。

## 使用`every`和`some`方法

- **`every()`方法**：此方法测试数组中的所有元素是否都通过由提供的函数实现的测试。如果提供的函数对数组中的所有元素都返回`true`，则`every()`方法返回`true`。如果有任何元素未通过测试，该方法立即返回`false`并停止检查剩余元素。

```js
const numbers = [2, 4, 6, 8, 10];
const hasAllEvenNumbers = numbers.every((num) => num % 2 === 0);

console.log(hasAllEvenNumbers); // true
```

- **`some()`方法**：此方法检查是否至少有一个元素通过测试。一旦找到通过测试的元素，`some()`方法就返回`true`。如果没有元素通过测试，则返回`false`。

```js
const numbers = [1, 3, 5, 7, 8, 9];
const hasSomeEvenNumbers = numbers.some((num) => num % 2 === 0);

console.log(hasSomeEvenNumbers); // true
```

# --assignment--

复习JavaScript高阶函数主题和概念。