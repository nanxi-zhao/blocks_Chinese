---
id: 683766860f71d4a96e429f3a
title: JavaScript和可访问性复习
challengeType: 31
dashedName: review-js-a11y
---

# --description--

## 常见的ARIA可访问性属性

- **`aria-expanded`属性**：用于向屏幕阅读器用户传达切换（或披露）功能的状态。

```html
<button aria-expanded="true">菜单</button>
```

- **`aria-haspopup`属性**：此状态用于指示交互式元素在激活时将触发弹出元素。只有当弹出元素具有以下角色之一时才能使用`aria-haspopup`属性：`menu`、`listbox`、`tree`、`grid`或`dialog`。`aria-haspopup`的值必须是这些角色之一或`true`，后者与`menu`相同。

```html
<button 
  id="menubutton"
  aria-haspopup="menu"
  aria-controls="filemenu"
  aria-expanded="false"
>
    文件
</button>

<ul 
  id="filemenu"
  role="menu"
  aria-labelledby="menubutton"
  hidden
>
  <li role="menuitem" tabindex="-1">打开</li>
  <li role="menuitem" tabindex="-1">新建</li>
  <li role="menuitem" tabindex="-1">保存</li>
  <li role="menuitem" tabindex="-1">删除</li>
</ul>
```

- **`aria-checked`属性**：此属性用于指示元素是否处于选中状态。在创建自定义复选框、单选按钮、开关和列表框时最常用。

```html
<div role="checkbox" aria-checked="true" tabindex="0">复选框</div>
```

- **`aria-disabled`属性**：此状态用于指示元素仅对使用辅助技术（如屏幕阅读器）的人禁用。

```html
<div role="button" tabindex="-1" aria-disabled="true">编辑</div>
```

- **`aria-selected`属性**：此状态用于指示元素是否被选中。你可以在自定义控件上使用此状态，如选项卡界面、列表框或网格。

```html
<div role="tablist">
  <button role="tab" aria-selected="true">选项卡1</button>
  <button role="tab" aria-selected="false">选项卡2</button>
  <button role="tab" aria-selected="false">选项卡3</button>
</div>
```

- **`aria-controls`属性**：用于将元素与它控制的另一个元素关联起来。这有助于使用辅助技术的人理解元素之间的关系。

```html
<div role="tablist">
  <button 
    role="tab"
    id="tab1"
    aria-controls="section1"
    aria-selected="true"
  >
    选项卡1
  </button>
  <button
    role="tab"
    id="tab2"
    aria-controls="section2"
    aria-selected="false"
  >
    选项卡2
  </button>
  <button
    role="tab"
    id="tab3"
    aria-controls="section3"
    aria-selected="false"
  >
    选项卡3
  </button>
</div>
```

- **`hidden`属性**：从视觉用户和辅助技术用户隐藏非活动面板。

## 使用实时区域和动态内容

- **`aria-live`属性**：使网页的一部分成为实时区域，这意味着该区域内的任何更新都会被屏幕阅读器宣布，这样用户就不会错过重要的更改。
- **`polite`值**：大多数实时区域使用此值。此值意味着更新不紧急，因此屏幕阅读器可以等待完成任何当前宣布或用户完成当前操作后再宣布更新。

这里是JavaScript动态更新的实时区域示例：

```html
<div aria-live="polite" id="status"></div>
```

```js
const statusEl = document.getElementById("status");
statusEl.textContent = "您的文件已成功上传。";
```

- **`contenteditable`属性**：将元素转换为实时编辑器，允许用户像文本字段一样更新其内容。当contenteditable区域没有可见标签或标题时，使用`aria-label`属性添加可访问名称，以帮助屏幕阅读器用户理解可编辑区域的用途。

```html
<div contenteditable="true" aria-label="笔记编辑器">
  可编辑内容在这里
</div>
```

## `focus`和`blur`事件

- **`blur`事件**：当元素失去焦点时触发。

```js
element.addEventListener("blur", () => {
  // 处理用户离开元素时的情况
});
```

- **`focus`事件**：当元素获得焦点时触发。

```js
element.addEventListener("focus", () => {
  // 处理用户进入元素时的情况
});
```

# --assignment--

复习JavaScript和可访问性主题和概念。